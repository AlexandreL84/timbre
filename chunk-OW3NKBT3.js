import{$ as Re,$a as Qe,$b as C,A as wt,Aa as Ye,Ba as Et,C as Ie,Ca as xt,D as Z,Da as St,E as Q,Ea as At,Ga as Ot,I as J,K as k,L as q,La as Pt,M as Ge,Q as H,Qa as xe,R as p,Ra as Se,Sa as Ae,T as bt,Ta as Oe,U as Ct,Ua as Pe,W as D,X as L,Xa as ce,Y as j,Ya as Ne,Za as De,_a as Wt,_b as Ht,a as vt,aa as It,b as Tt,ba as Xe,bb as le,bc as d,ca as E,cc as I,dc as R,f as je,ha as ke,p as Te,q as ye,r as Y,s as we,sa as Rt,t as B,ta as kt,u as Ve,v as be,wa as Ee,x as Ce,ya as Ke,z as yt}from"./chunk-JU6VRKKZ.js";import{f as Nt,h as Dt,l as Lt,o as O,p as Ut,s as $t,t as Ft,u as Mt,v as Bt,x as V,y as Ze}from"./chunk-65CH3ZW6.js";import{a as qe,k as ae}from"./chunk-GV7GV3NK.js";var Sn=(e,t,n,i,s,o,r,c)=>({alert:e,error:t,warn:n,success:i,info:s,bare:o,"rtl-mode":r,"has-icon":c}),An=e=>({width:e});function On(e,t){e&1&&Re(0)}function Pn(e,t){if(e&1&&(D(0,"div",9),H(1,On,1,0,"ng-container",10),L()),e&2){let n=E(2);k(),p("ngTemplateOutlet",n.title)("ngTemplateOutletContext",n.item.context)}}function Nn(e,t){if(e&1&&j(0,"div",11),e&2){let n=E(2);p("innerHTML",n.title,J)}}function Dn(e,t){e&1&&Re(0)}function Ln(e,t){if(e&1&&(D(0,"div",12),H(1,Dn,1,0,"ng-container",10),L()),e&2){let n=E(2);k(),p("ngTemplateOutlet",n.content)("ngTemplateOutletContext",n.item.context)}}function Un(e,t){if(e&1&&j(0,"div",13),e&2){let n=E(2);p("innerHTML",n.content,J)}}function $n(e,t){if(e&1&&j(0,"div",14),e&2){let n=E(2);p("innerHTML",n.safeSvg,J)}}function Fn(e,t){if(e&1&&(D(0,"div"),H(1,Pn,2,2,"div",6)(2,Nn,1,1,"ng-template",null,0,Ee)(4,Ln,2,2,"div",7)(5,Un,1,1,"ng-template",null,1,Ee)(7,$n,1,1,"div",8),L()),e&2){let n=ke(3),i=ke(6),s=E();k(),p("ngIf",s.titleIsTemplate)("ngIfElse",n),k(3),p("ngIf",s.contentIsTemplate)("ngIfElse",i),k(3),p("ngIf",s.item.icon!=="bare")}}function Mn(e,t){e&1&&Re(0)}function Bn(e,t){if(e&1&&(D(0,"div",17),H(1,Mn,1,0,"ng-container",10),L()),e&2){let n=E(2);k(),p("ngTemplateOutlet",n.item.html)("ngTemplateOutletContext",n.item.context)}}function Wn(e,t){if(e&1&&j(0,"div",13),e&2){let n=E(2);p("innerHTML",n.safeInputHtml,J)}}function Hn(e,t){if(e&1){let n=It();D(0,"div",18),Xe("click",function(s){yt(n);let o=E(2);return wt(o.onClickIcon(s))}),L()}if(e&2){let n=E(2);bt("icon-hover",n.clickIconToClose),p("innerHTML",n.safeSvg,J)}}function zn(e,t){if(e&1&&(D(0,"div"),H(1,Bn,2,2,"div",15)(2,Wn,1,1,"ng-template",null,2,Ee)(4,Hn,1,3,"div",16),L()),e&2){let n=ke(3),i=E();k(),p("ngIf",i.htmlIsTemplate)("ngIfElse",n),k(3),p("ngIf",i.item.icon)}}function qn(e,t){if(e&1&&(D(0,"div",19),j(1,"span",20),L()),e&2){let n=E();k(),p("ngStyle",Rt(1,An,n.progressWidth+"%"))}}function jn(e,t){if(e&1&&j(0,"simple-notification",2),e&2){let n=t.$implicit,i=t.index,s=E();p("item",n)("timeOut",s.timeOut)("clickToClose",s.clickToClose)("clickIconToClose",s.clickIconToClose)("maxLength",s.maxLength)("showProgressBar",s.showProgressBar)("pauseOnHover",s.pauseOnHover)("theClass",s.theClass)("rtl",s.rtl)("animate",s.animate)("position",i)}}var jt={alert:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
        </svg>
    `,error:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        </svg>
    `,info:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
        </svg>
    `,success:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
        </svg>
    `,warn:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="64" viewBox="0 0 64 64" height="64">
          <circle cx="32.086" cy="50.142" r="2.256"/>
          <path d="M30.08 25.012V42.32c0 1.107.897 2.005 2.006 2.005s2.006-.897 2.006-2.005V25.012c0-1.107-.897-2.006-2.006-2.006s-2.006.898-2.006 2.006z"/>
          <path d="M63.766 59.234L33.856 3.082c-.697-1.308-2.844-1.308-3.54 0L.407 59.234c-.331.622-.312 1.372.051 1.975.362.605 1.015.975 1.72.975h59.816c.705 0 1.357-.369 1.721-.975.361-.603.381-1.353.051-1.975zM5.519 58.172L32.086 8.291l26.568 49.881H5.519z"/>
        </svg>
    `},W=function(e){return e.Success="success",e.Error="error",e.Alert="alert",e.Info="info",e.Warn="warn",e.Bare="bare",e}(W||{}),G=(()=>{class e{globalOptions;constructor(n){this.globalOptions=n}emitter=new Tt;icons=jt;set(n,i){return n.id=n.override&&n.override.id?n.override.id:Math.random().toString(36).substring(3),n.click=new Z,n.clickIcon=new Z,n.timeoutEnd=new Z,this.emitter.next({command:"set",notification:n,add:i}),n}success(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Success,icon:this.icons.success,override:s,context:o},!0)}error(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Error,icon:this.icons.error,override:s,context:o},!0)}alert(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Alert,icon:this.icons.alert,override:s,context:o},!0)}info(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Info,icon:this.icons.info,override:s,context:o},!0)}warn(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Warn,icon:this.icons.warn,override:s,context:o},!0)}bare(n="",i="",s,o){return this.set({title:n,content:i||"",type:W.Bare,icon:"bare",override:s,context:o},!0)}create(n="",i="",s=W.Success,o,r){return this.set({title:n,content:i,type:s,icon:this.icons[s],override:o,context:r},!0)}html(n,i=W.Success,s,o="bare",r){return this.set({html:n,type:i,icon:this.icons[o],override:s,context:r},!0)}remove(n){n?this.emitter.next({command:"clean",id:n}):this.emitter.next({command:"cleanAll"})}static \u0275fac=function(i){return new(i||e)(we("options"))};static \u0275prov=Te({token:e,factory:e.\u0275fac})}return e})(),Vn=(()=>{class e{notificationService;domSanitizer;cd;zone;timeOut;showProgressBar;pauseOnHover;clickToClose;clickIconToClose;maxLength;theClass;rtl;animate;position;item;title;content;titleIsTemplate=!1;contentIsTemplate=!1;htmlIsTemplate=!1;progressWidth=0;safeSvg;safeInputHtml;stopTime=!1;timer;framesPerSecond=40;sleepTime;startTime;endTime;pauseStart;icon;constructor(n,i,s,o){this.notificationService=n,this.domSanitizer=i,this.cd=s,this.zone=o}ngOnInit(){this.item.override&&this.attachOverrides(),this.animate&&(this.item.state=this.animate),this.timeOut!==0&&this.startTimeOut(),this.contentType(this.item.title,"title"),this.contentType(this.item.content,"content"),this.contentType(this.item.html,"html"),this.safeSvg=this.domSanitizer.bypassSecurityTrustHtml(this.icon||this.item.icon),this.safeInputHtml=this.domSanitizer.bypassSecurityTrustHtml(this.item.html)}ngOnDestroy(){clearTimeout(this.timer),this.cd.detach()}startTimeOut(){this.sleepTime=1e3/this.framesPerSecond,this.startTime=new Date().getTime(),this.endTime=this.startTime+this.timeOut,this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.sleepTime))}onEnter(){this.pauseOnHover&&(this.stopTime=!0,this.pauseStart=new Date().getTime())}onLeave(){this.pauseOnHover&&(this.stopTime=!1,this.startTime+=new Date().getTime()-this.pauseStart,this.endTime+=new Date().getTime()-this.pauseStart,this.zone.runOutsideAngular(()=>setTimeout(this.instance,this.sleepTime)))}onClick(n){this.item.click.emit(n),this.clickToClose&&this.remove()}onClickIcon(n){this.item.clickIcon.emit(n),this.clickIconToClose&&this.remove()}attachOverrides(){Object.keys(this.item.override).forEach(n=>{this.hasOwnProperty(n)&&(this[n]=this.item.override[n])})}instance=()=>{let n=new Date().getTime();this.endTime<n?(this.remove(),this.item.timeoutEnd.emit()):this.stopTime||(this.showProgressBar&&(this.progressWidth=Math.min((n-this.startTime+this.sleepTime)*100/this.timeOut,100)),this.timer=setTimeout(this.instance,this.sleepTime)),this.zone.run(()=>{this.cd.destroyed||this.cd.detectChanges()})};remove(){this.animate?(this.item.state=this.animate+"Out",setTimeout(()=>{this.notificationService.set(this.item,!1)},310)):this.notificationService.set(this.item,!1)}contentType(n,i){n instanceof Ge?this[i]=n:this[i]=this.domSanitizer.bypassSecurityTrustHtml(n),this[i+"IsTemplate"]=n instanceof Ge}static \u0275fac=function(i){return new(i||e)(q(G),q(Pt),q(Ke),q(Q))};static \u0275cmp=Ve({type:e,selectors:[["simple-notification"]],inputs:{timeOut:"timeOut",showProgressBar:"showProgressBar",pauseOnHover:"pauseOnHover",clickToClose:"clickToClose",clickIconToClose:"clickIconToClose",maxLength:"maxLength",theClass:"theClass",rtl:"rtl",animate:"animate",position:"position",item:"item"},decls:4,vars:16,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],[1,"simple-notification",3,"click","mouseenter","mouseleave","ngClass"],[4,"ngIf"],["class","sn-progress-loader",4,"ngIf"],["class","sn-title",4,"ngIf","ngIfElse"],["class","sn-content",4,"ngIf","ngIfElse"],["class","icon",3,"innerHTML",4,"ngIf"],[1,"sn-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sn-title",3,"innerHTML"],[1,"sn-content"],[1,"sn-content",3,"innerHTML"],[1,"icon",3,"innerHTML"],["class","sn-html",4,"ngIf","ngIfElse"],["class","icon",3,"icon-hover","innerHTML","click",4,"ngIf"],[1,"sn-html"],[1,"icon",3,"click","innerHTML"],[1,"sn-progress-loader"],[3,"ngStyle"]],template:function(i,s){i&1&&(D(0,"div",3),Xe("click",function(r){return s.onClick(r)})("mouseenter",function(){return s.onEnter()})("mouseleave",function(){return s.onLeave()}),H(1,Fn,8,5,"div",4)(2,zn,5,3,"div",4)(3,qn,2,3,"div",5),L()),i&2&&(Ct(s.theClass),p("@enterLeave",s.item.state)("ngClass",kt(7,Sn,s.item.type==="alert",s.item.type==="error",s.item.type==="warn",s.item.type==="success",s.item.type==="info",s.item.type==="bare",s.rtl,s.item.icon!=="bare")),k(),p("ngIf",!s.item.html),k(),p("ngIf",s.item.html),k(),p("ngIf",s.showProgressBar))},dependencies:[Ye,xt,At,St],styles:[`.simple-notification{width:100%;padding:10px 20px;box-sizing:border-box;position:relative;float:left;margin-bottom:10px;color:#fff;cursor:pointer;transition:all .5s;min-height:70px}.simple-notification .sn-title,.simple-notification .sn-content,.simple-notification .sn-html{margin:0}.simple-notification .sn-title{line-height:30px;font-size:20px}.simple-notification .sn-content{font-size:16px;line-height:20px}.simple-notification.has-icon .sn-title,.simple-notification.has-icon .sn-content,.simple-notification.has-icon .sn-html{padding:0 50px 0 0}.simple-notification .icon{position:absolute;box-sizing:border-box;top:0;right:0;width:70px;height:70px;padding:10px}.simple-notification .icon.icon-hover:hover{opacity:.5}.simple-notification .icon svg{fill:#fff;width:100%;height:100%}.simple-notification .icon svg g{fill:#fff}.simple-notification.rtl-mode.has-icon .sn-title,.simple-notification.rtl-mode.has-icon .sn-content,.simple-notification.rtl-mode.has-icon .sn-html{padding:0 0 0 50px}.simple-notification.rtl-mode{direction:rtl}.simple-notification.rtl-mode .sn-content{padding:0 0 0 50px}.simple-notification.rtl-mode svg{left:0;right:auto}.simple-notification.error{background:#F44336}.simple-notification.success{background:#8BC34A}.simple-notification.alert{background:#ffdb5b}.simple-notification.info{background:#03A9F4}.simple-notification.warn{background:#ffdb5b}.simple-notification .sn-progress-loader{position:absolute;top:0;left:0;width:100%;height:5px}.simple-notification .sn-progress-loader span{float:left;height:100%}.simple-notification.success .sn-progress-loader span{background:#689F38}.simple-notification.error .sn-progress-loader span{background:#D32F2F}.simple-notification.alert .sn-progress-loader span{background:#edc242}.simple-notification.info .sn-progress-loader span{background:#0288D1}.simple-notification.warn .sn-progress-loader span{background:#edc242}.simple-notification.bare .sn-progress-loader span{background:#ccc}.simple-notification.warn div .sn-title,.simple-notification.warn div .sn-content,.simple-notification.warn div .sn-html{color:#444}
`],encapsulation:2,data:{animation:[Ht("enterLeave",[I("fade",d({opacity:1})),R("* => fade",[d({opacity:0}),C("400ms ease-in-out")]),I("fadeOut",d({opacity:0})),R("fade => fadeOut",[d({opacity:1}),C("300ms ease-in-out")]),I("fromTop",d({opacity:1,transform:"translateY(0)"})),R("* => fromTop",[d({opacity:0,transform:"translateY(-5%)"}),C("400ms ease-in-out")]),I("fromTopOut",d({opacity:0,transform:"translateY(5%)"})),R("fromTop => fromTopOut",[d({opacity:1,transform:"translateY(0)"}),C("300ms ease-in-out")]),I("fromRight",d({opacity:1,transform:"translateX(0)"})),R("* => fromRight",[d({opacity:0,transform:"translateX(5%)"}),C("400ms ease-in-out")]),I("fromRightOut",d({opacity:0,transform:"translateX(-5%)"})),R("fromRight => fromRightOut",[d({opacity:1,transform:"translateX(0)"}),C("300ms ease-in-out")]),I("fromBottom",d({opacity:1,transform:"translateY(0)"})),R("* => fromBottom",[d({opacity:0,transform:"translateY(5%)"}),C("400ms ease-in-out")]),I("fromBottomOut",d({opacity:0,transform:"translateY(-5%)"})),R("fromBottom => fromBottomOut",[d({opacity:1,transform:"translateY(0)"}),C("300ms ease-in-out")]),I("fromLeft",d({opacity:1,transform:"translateX(0)"})),R("* => fromLeft",[d({opacity:0,transform:"translateX(-5%)"}),C("400ms ease-in-out")]),I("fromLeftOut",d({opacity:0,transform:"translateX(5%)"})),R("fromLeft => fromLeftOut",[d({opacity:1,transform:"translateX(0)"}),C("300ms ease-in-out")]),I("scale",d({opacity:1,transform:"scale(1)"})),R("* => scale",[d({opacity:0,transform:"scale(0)"}),C("400ms ease-in-out")]),I("scaleOut",d({opacity:0,transform:"scale(0)"})),R("scale => scaleOut",[d({opacity:1,transform:"scale(1)"}),C("400ms ease-in-out")]),I("rotate",d({opacity:1,transform:"rotate(0deg)"})),R("* => rotate",[d({opacity:0,transform:"rotate(5deg)"}),C("400ms ease-in-out")]),I("rotateOut",d({opacity:0,transform:"rotate(-5deg)"})),R("rotate => rotateOut",[d({opacity:1,transform:"rotate(0deg)"}),C("400ms ease-in-out")])])]},changeDetection:0})}return e})(),Je=function(e){return e.Fade="fade",e.FromTop="fromTop",e.FromRight="fromRight",e.FromBottom="fromBottom",e.FromLeft="fromLeft",e.Scale="scale",e.Rotate="rotate",e}(Je||{}),Do=(()=>{class e{service;cd;constructor(n,i){this.service=n,this.cd=i}set options(n){this.usingComponentOptions=!0,this.attachChanges(n)}create=new Z;destroy=new Z;notifications=[];position=["bottom","right"];lastNotificationCreated;listener;lastOnBottom=!0;maxStack=8;preventLastDuplicates=!1;preventDuplicates=!1;timeOut=0;maxLength=0;clickToClose=!0;clickIconToClose=!1;showProgressBar=!0;pauseOnHover=!0;theClass="";rtl=!1;animate=Je.FromRight;usingComponentOptions=!1;ngOnInit(){this.usingComponentOptions||this.attachChanges(this.service.globalOptions),this.listener=this.service.emitter.subscribe(n=>{switch(n.command){case"cleanAll":this.notifications=[];break;case"clean":this.cleanSingle(n.id);break;case"set":n.add?this.add(n.notification):this.defaultBehavior(n);break;default:this.defaultBehavior(n);break}this.cd.destroyed||this.cd.detectChanges()})}ngOnDestroy(){this.listener&&this.listener.unsubscribe(),this.cd.detach()}defaultBehavior(n){this.notifications.splice(this.notifications.indexOf(n.notification),1),this.destroy.emit(this.buildEmit(n.notification,!1))}add(n){n.createdOn=new Date;let i=this.preventLastDuplicates||this.preventDuplicates?this.block(n):!1;this.lastNotificationCreated=n,n.override&&n.override.icons&&n.override.icons[n.type]&&(n.icon=n.override.icons[n.type]),i||(this.lastOnBottom?(this.notifications.length>=this.maxStack&&this.notifications.splice(0,1),this.notifications.push(n)):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,n)),this.create.emit(this.buildEmit(n,!0)))}block(n){let i=n.html?this.checkHtml:this.checkStandard;if(this.preventDuplicates&&this.notifications.length>0){for(let s of this.notifications)if(i(s,n))return!0}if(this.preventLastDuplicates){let s;if(this.preventLastDuplicates==="visible"&&this.notifications.length>0)this.lastOnBottom?s=this.notifications[this.notifications.length-1]:s=this.notifications[0];else if(this.preventLastDuplicates==="all"&&this.lastNotificationCreated)s=this.lastNotificationCreated;else return!1;return i(s,n)}return!1}checkStandard(n,i){return n.type===i.type&&n.title===i.title&&n.content===i.content}checkHtml(n,i){return n.html?n.type===i.type&&n.title===i.title&&n.content===i.content&&n.html===i.html:!1}attachChanges(n){for(let i in n)this.hasOwnProperty(i)?this[i]=n[i]:i==="icons"&&(this.service.icons=n[i])}buildEmit(n,i){let s={createdOn:n.createdOn,type:n.type,icon:n.icon,id:n.id};return n.html?s.html=n.html:(s.title=n.title,s.content=n.content),i||(s.destroyedOn=new Date),s}cleanSingle(n){let i=0,s=!1,o;this.notifications.forEach((r,c)=>{r.id===n&&(i=c,o=r,s=!0)}),s&&(this.notifications.splice(i,1),this.destroy.emit(this.buildEmit(o,!1)))}static \u0275fac=function(i){return new(i||e)(q(G),q(Ke))};static \u0275cmp=Ve({type:e,selectors:[["simple-notifications"]],inputs:{options:"options"},outputs:{create:"create",destroy:"destroy"},decls:2,vars:2,consts:[[1,"simple-notification-wrapper",3,"ngClass"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position",4,"ngFor","ngForOf"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position"]],template:function(i,s){i&1&&(D(0,"div",0),H(1,jn,1,11,"simple-notification",1),L()),i&2&&(p("ngClass",s.position),k(),p("ngForOf",s.notifications))},dependencies:[Ye,Et,Vn],styles:[`.simple-notification-wrapper{position:fixed;width:300px;z-index:1000}.simple-notification-wrapper.left{left:20px}.simple-notification-wrapper.top{top:20px}.simple-notification-wrapper.right{right:20px}.simple-notification-wrapper.bottom{bottom:20px}.simple-notification-wrapper.center{left:50%;transform:translate(-50%)}.simple-notification-wrapper.middle{top:50%;transform:translateY(-50%)}.simple-notification-wrapper.middle.center{transform:translate(-50%,-50%)}@media (max-width: 340px){.simple-notification-wrapper{width:auto;left:20px;right:20px}}
`],encapsulation:2,changeDetection:0})}return e})(),Gn={position:["bottom","right"],timeOut:0,showProgressBar:!0,pauseOnHover:!0,lastOnBottom:!0,clickToClose:!0,clickIconToClose:!1,maxLength:0,maxStack:8,preventDuplicates:!1,preventLastDuplicates:!1,theClass:"",rtl:!1,animate:Je.FromRight,icons:jt},zt=new Y("options");function Xn(e){return qe(qe({},Gn),e)}var Vt=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[G,{provide:zt,useValue:n},{provide:"options",useFactory:Xn,deps:[zt]}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=be({type:e});static \u0275inj=ye({imports:[Ot]})}return e})();var Le=class e{constructor(t){this.notificationsService=t}showNotificationError(t,n){this.notificationsService.error('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(le(t)?t:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important;font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationWarn(t,n){this.notificationsService.warn('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(le(t)?t:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important; font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationSuccess(t,n){this.notificationsService.success('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(le(t)?t:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationAlert(t,n){this.notificationsService.alert('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(le(t)?t:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}static \u0275fac=function(n){return new(n||e)(we(G))};static \u0275prov=Te({token:e,factory:e.\u0275fac,providedIn:"root"})};var Gt=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=be({type:e});static \u0275inj=ye({providers:[G,Le],imports:[Vt.forRoot()]})};var Xt="auth",ue=class{constructor(t){return t}},de=class{constructor(){return Ae(Xt)}};var et=new Y("angularfire2.auth-instances");function Ki(e,t){let n=Se(Xt,e,t);return n&&new ue(n)}function Yi(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new ue(i)}}var Zi={provide:de,deps:[[new B,et]]},Qi={provide:ue,useFactory:Ki,deps:[[new B,et],Ne]};function Or(e,...t){return V("angularfire",xe.full,"auth"),Ce([Qi,Zi,{provide:et,useFactory:Yi(e),multi:!0,deps:[Q,Ie,Pe,De,[new B,Oe],...t]}])}var Pr=ce(Ze,!0);var Ue=function(){return Ue=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ue.apply(this,arguments)};var ts={includeMetadataChanges:!1};function Kt(e,t){return t===void 0&&(t=ts),new vt(function(n){var i=Qe(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function Yt(e,t){var n;t===void 0&&(t={});var i=e.data(t);return!e.exists()||typeof i!="object"||i===null||!t.idField?i:Ue(Ue({},i),(n={},n[t.idField]=e.id,n))}function Zt(e){return Kt(e,{includeMetadataChanges:!0}).pipe(je(function(t){return t.docs}))}function Qt(e,t){return t===void 0&&(t={}),Zt(e).pipe(je(function(n){return n.map(function(i){return Yt(i,t)})}))}var he=class{constructor(t){return t}},Jt="firestore",tt=class{constructor(){return Ae(Jt)}};var nt=new Y("angularfire2.firestore-instances");function ns(e,t){let n=Se(Jt,e,t);return n&&new he(n)}function is(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new he(i)}}var ss={provide:tt,deps:[[new B,nt]]},os={provide:he,useFactory:ns,deps:[[new B,nt],Ne]};function Tc(e,...t){return V("angularfire",xe.full,"fst"),Ce([os,ss,{provide:nt,useFactory:is(e),multi:!0,deps:[Q,Ie,Pe,De,[new B,de],[new B,Oe],...t]}])}var yc=ce(Qt,!0);var wc=ce(Wt,!0);var ln="firebasestorage.googleapis.com",un="storageBucket",rs=2*60*1e3,as=10*60*1e3,cs=1e3;var f=class e extends Lt{constructor(t,n,i=0){super(it(t),`Firebase Storage: ${n} (${it(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return it(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},h=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(h||{});function it(e){return"storage/"+e}function ft(){let e="An unknown error occurred, please check the error payload for server response.";return new f(h.UNKNOWN,e)}function ls(e){return new f(h.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function us(e){return new f(h.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ds(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new f(h.UNAUTHENTICATED,e)}function hs(){return new f(h.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fs(e){return new f(h.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function dn(){return new f(h.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hn(){return new f(h.CANCELED,"User canceled the upload/download.")}function ps(e){return new f(h.INVALID_URL,"Invalid URL '"+e+"'.")}function ms(e){return new f(h.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function gs(){return new f(h.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+un+"' property when initializing the app?")}function fn(){return new f(h.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _s(){return new f(h.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vs(){return new f(h.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ts(e){return new f(h.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ot(e){return new f(h.INVALID_ARGUMENT,e)}function pn(){return new f(h.APP_DELETED,"The Firebase app was deleted.")}function ys(e){return new f(h.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pe(e,t){return new f(h.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function fe(e){throw new f(h.INTERNAL_ERROR,"Internal error: "+e)}var S=class e{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw ms(t)}static makeFromUrl(t,n){let i=null,s="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}let r="(/(.*))?$",c=new RegExp("^gs://"+s+r,"i"),a={bucket:1,path:3};function l(y){y.path_=decodeURIComponent(y.path)}let u="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${u}/b/${s}/o${_}`,"i"),T={bucket:1,path:3},A=n===ln?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",F=new RegExp(`^https?://${A}/${s}/${g}`,"i"),b=[{regex:c,indices:a,postModify:o},{regex:v,indices:T,postModify:l},{regex:F,indices:{bucket:1,path:2},postModify:l}];for(let y=0;y<b.length;y++){let X=b[y],K=X.regex.exec(t);if(K){let He=K[X.indices.bucket],re=K[X.indices.path];re||(re=""),i=new e(He,re),X.postModify(i);break}}if(i==null)throw ps(t);return i}},rt=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function ws(e,t,n){let i=1,s=null,o=null,r=!1,c=0;function a(){return c===2}let l=!1;function u(...g){l||(l=!0,t.apply(null,g))}function m(g){s=setTimeout(()=>{s=null,e(v,a())},g)}function _(){o&&clearTimeout(o)}function v(g,...F){if(l){_();return}if(g){_(),u.call(null,g,...F);return}if(a()||r){_(),u.call(null,g,...F);return}i<64&&(i*=2);let b;c===1?(c=2,b=0):b=(i+Math.random())*1e3,m(b)}let T=!1;function A(g){T||(T=!0,_(),!l&&(s!==null?(g||(c=2),clearTimeout(s),m(0)):g||(c=1)))}return m(0),o=setTimeout(()=>{r=!0,A(!0)},n),A}function bs(e){e(!1)}function Cs(e){return e!==void 0}function Is(e){return typeof e=="function"}function Rs(e){return typeof e=="object"&&!Array.isArray(e)}function Me(e){return typeof e=="string"||e instanceof String}function en(e){return pt()&&e instanceof Blob}function pt(){return typeof Blob<"u"}function at(e,t,n,i){if(i<t)throw ot(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw ot(`Invalid value for '${e}'. Expected ${n} or less.`)}function z(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function mn(e){let t=encodeURIComponent,n="?";for(let i in e)if(e.hasOwnProperty(i)){let s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var ne=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(ne||{});function gn(e,t){let n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||s||o}var ct=class{constructor(t,n,i,s,o,r,c,a,l,u,m,_=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=r,this.callback_=c,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,T)=>{this.resolve_=v,this.reject_=T,this.start_()})}start_(){let t=(i,s)=>{if(s){i(!1,new te(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let r=c=>{let a=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&o.addUploadProgressListener(r),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(r),this.pendingConnection_=null;let c=o.getErrorCode()===ne.NO_ERROR,a=o.getStatus();if(!c||gn(a,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===ne.ABORT;i(!1,new te(!1,null,u));return}let l=this.successCodes_.indexOf(a)!==-1;i(!0,new te(l,o))})},n=(i,s)=>{let o=this.resolve_,r=this.reject_,c=s.connection;if(s.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());Cs(a)?o(a):o()}catch(a){r(a)}else if(c!==null){let a=ft();a.serverResponse=c.getErrorText(),this.errorCallback_?r(this.errorCallback_(c,a)):r(a)}else if(s.canceled){let a=this.appDelete_?pn():hn();r(a)}else{let a=dn();r(a)}};this.canceled_?n(!1,new te(!1,null,!0)):this.backoffId_=ws(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&bs(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},te=class{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}};function ks(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Es(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function xs(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ss(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function As(e,t,n,i,s,o,r=!0){let c=mn(e.urlParams),a=e.url+c,l=Object.assign({},e.headers);return xs(l,t),ks(l,n),Es(l,o),Ss(l,i),new ct(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,r)}function Os(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ps(...e){let t=Os();if(t!==void 0){let n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(pt())return new Blob(e);throw new f(h.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ns(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function Ds(e){if(typeof atob>"u")throw Ts("base-64");return atob(e)}var U={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},me=class{constructor(t,n){this.data=t,this.contentType=n||null}};function Ls(e,t){switch(e){case U.RAW:return new me(_n(t));case U.BASE64:case U.BASE64URL:return new me(vn(e,t));case U.DATA_URL:return new me($s(t),Fs(t))}throw ft()}function _n(e){let t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{let o=i,r=e.charCodeAt(++n);i=65536|(o&1023)<<10|r&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Us(e){let t;try{t=decodeURIComponent(e)}catch{throw pe(U.DATA_URL,"Malformed data URL.")}return _n(t)}function vn(e,t){switch(e){case U.BASE64:{let s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw pe(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case U.BASE64URL:{let s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw pe(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ds(t)}catch(s){throw s.message.includes("polyfill")?s:pe(e,"Invalid character found")}let i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}var Fe=class{constructor(t){this.base64=!1,this.contentType=null;let n=t.match(/^data:([^,]+)?,/);if(n===null)throw pe(U.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=Ms(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}};function $s(e){let t=new Fe(e);return t.base64?vn(U.BASE64,t.rest):Us(t.rest)}function Fs(e){return new Fe(e).contentType}function Ms(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var ge=class e{constructor(t,n){let i=0,s="";en(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(en(this.data_)){let i=this.data_,s=Ns(i,t,n);return s===null?null:new e(s)}else{let i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}}static getBlob(...t){if(pt()){let n=t.map(i=>i instanceof e?i.data_:i);return new e(Ps.apply(null,n))}else{let n=t.map(r=>Me(r)?Ls(U.RAW,r).data:r.data_),i=0;n.forEach(r=>{i+=r.byteLength});let s=new Uint8Array(i),o=0;return n.forEach(r=>{for(let c=0;c<r.length;c++)s[o++]=r[c]}),new e(s,!0)}}uploadData(){return this.data_}};function mt(e){let t;try{t=JSON.parse(e)}catch{return null}return Rs(t)?t:null}function Bs(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Ws(e,t){let n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function Tn(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Hs(e,t){return t}var w=class{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||Hs}},$e=null;function zs(e){return!Me(e)||e.length<2?e:Tn(e)}function ve(){if($e)return $e;let e=[];e.push(new w("bucket")),e.push(new w("generation")),e.push(new w("metageneration")),e.push(new w("name","fullPath",!0));function t(o,r){return zs(r)}let n=new w("name");n.xform=t,e.push(n);function i(o,r){return r!==void 0?Number(r):r}let s=new w("size");return s.xform=i,e.push(s),e.push(new w("timeCreated")),e.push(new w("updated")),e.push(new w("md5Hash",null,!0)),e.push(new w("cacheControl",null,!0)),e.push(new w("contentDisposition",null,!0)),e.push(new w("contentEncoding",null,!0)),e.push(new w("contentLanguage",null,!0)),e.push(new w("contentType",null,!0)),e.push(new w("metadata","customMetadata",!0)),$e=e,$e}function qs(e,t){function n(){let i=e.bucket,s=e.fullPath,o=new S(i,s);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function js(e,t,n){let i={};i.type="file";let s=n.length;for(let o=0;o<s;o++){let r=n[o];i[r.local]=r.xform(i,t[r.server])}return qs(i,e),i}function yn(e,t,n){let i=mt(t);return i===null?null:js(e,i,n)}function Vs(e,t,n,i){let s=mt(t);if(s===null||!Me(s.downloadTokens))return null;let o=s.downloadTokens;if(o.length===0)return null;let r=encodeURIComponent;return o.split(",").map(l=>{let u=e.bucket,m=e.fullPath,_="/b/"+r(u)+"/o/"+r(m),v=z(_,n,i),T=mn({alt:"media",token:l});return v+T})[0]}function gt(e,t){let n={},i=t.length;for(let s=0;s<i;s++){let o=t[s];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var tn="prefixes",nn="items";function Gs(e,t,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[tn])for(let s of n[tn]){let o=s.replace(/\/$/,""),r=e._makeStorageReference(new S(t,o));i.prefixes.push(r)}if(n[nn])for(let s of n[nn]){let o=e._makeStorageReference(new S(t,s.name));i.items.push(o)}return i}function Xs(e,t,n){let i=mt(n);return i===null?null:Gs(e,t,i)}var N=class{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function $(e){if(!e)throw ft()}function Be(e,t){function n(i,s){let o=yn(e,s,t);return $(o!==null),o}return n}function Ks(e,t){function n(i,s){let o=Xs(e,t,s);return $(o!==null),o}return n}function Ys(e,t){function n(i,s){let o=yn(e,s,t);return $(o!==null),Vs(o,s,e.host,e._protocol)}return n}function oe(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=hs():s=ds():n.getStatus()===402?s=us(e.bucket):n.getStatus()===403?s=fs(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function We(e){let t=oe(e);function n(i,s){let o=t(i,s);return i.getStatus()===404&&(o=ls(e.path)),o.serverResponse=s.serverResponse,o}return n}function wn(e,t,n){let i=t.fullServerUrl(),s=z(i,e.host,e._protocol),o="GET",r=e.maxOperationRetryTime,c=new N(s,o,Be(e,n),r);return c.errorHandler=We(t),c}function Zs(e,t,n,i,s){let o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),s&&(o.maxResults=s);let r=t.bucketOnlyServerUrl(),c=z(r,e.host,e._protocol),a="GET",l=e.maxOperationRetryTime,u=new N(c,a,Ks(e,t.bucket),l);return u.urlParams=o,u.errorHandler=oe(t),u}function Qs(e,t,n){let i=t.fullServerUrl(),s=z(i,e.host,e._protocol),o="GET",r=e.maxOperationRetryTime,c=new N(s,o,Ys(e,n),r);return c.errorHandler=We(t),c}function Js(e,t,n,i){let s=t.fullServerUrl(),o=z(s,e.host,e._protocol),r="PATCH",c=gt(n,i),a={"Content-Type":"application/json; charset=utf-8"},l=e.maxOperationRetryTime,u=new N(o,r,Be(e,i),l);return u.headers=a,u.body=c,u.errorHandler=We(t),u}function eo(e,t){let n=t.fullServerUrl(),i=z(n,e.host,e._protocol),s="DELETE",o=e.maxOperationRetryTime;function r(a,l){}let c=new N(i,s,r,o);return c.successCodes=[200,204],c.errorHandler=We(t),c}function to(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function bn(e,t,n){let i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=to(null,t)),i}function Cn(e,t,n,i,s){let o=t.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function c(){let b="";for(let y=0;y<2;y++)b=b+Math.random().toString().slice(2);return b}let a=c();r["Content-Type"]="multipart/related; boundary="+a;let l=bn(t,i,s),u=gt(l,n),m="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,_=`\r
--`+a+"--",v=ge.getBlob(m,i,_);if(v===null)throw fn();let T={name:l.fullPath},A=z(o,e.host,e._protocol),g="POST",F=e.maxUploadRetryTime,M=new N(A,g,Be(e,n),F);return M.urlParams=T,M.headers=r,M.body=v.uploadData(),M.errorHandler=oe(t),M}var ie=class{constructor(t,n,i,s){this.current=t,this.total=n,this.finalized=!!i,this.metadata=s||null}};function _t(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{$(!1)}return $(!!n&&(t||["active"]).indexOf(n)!==-1),n}function no(e,t,n,i,s){let o=t.bucketOnlyServerUrl(),r=bn(t,i,s),c={name:r.fullPath},a=z(o,e.host,e._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":r.contentType,"Content-Type":"application/json; charset=utf-8"},m=gt(r,n),_=e.maxUploadRetryTime;function v(A){_t(A);let g;try{g=A.getResponseHeader("X-Goog-Upload-URL")}catch{$(!1)}return $(Me(g)),g}let T=new N(a,l,v,_);return T.urlParams=c,T.headers=u,T.body=m,T.errorHandler=oe(t),T}function io(e,t,n,i){let s={"X-Goog-Upload-Command":"query"};function o(l){let u=_t(l,["active","final"]),m=null;try{m=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$(!1)}m||$(!1);let _=Number(m);return $(!isNaN(_)),new ie(_,i.size(),u==="final")}let r="POST",c=e.maxUploadRetryTime,a=new N(n,r,o,c);return a.headers=s,a.errorHandler=oe(t),a}var sn=256*1024;function so(e,t,n,i,s,o,r,c){let a=new ie(0,0);if(r?(a.current=r.current,a.total=r.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw _s();let l=a.total-a.current,u=l;s>0&&(u=Math.min(u,s));let m=a.current,_=m+u,v="";u===0?v="finalize":l===u?v="upload, finalize":v="upload";let T={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${a.current}`},A=i.slice(m,_);if(A===null)throw fn();function g(y,X){let K=_t(y,["active","final"]),He=a.current+u,re=i.size(),ze;return K==="final"?ze=Be(t,o)(y,X):ze=null,new ie(He,re,K==="final",ze)}let F="POST",M=t.maxUploadRetryTime,b=new N(n,F,g,M);return b.headers=T,b.body=A.uploadData(),b.progressCallback=c||null,b.errorHandler=oe(e),b}var Ec={STATE_CHANGED:"state_changed"},x={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function st(e){switch(e){case"running":case"pausing":case"canceling":return x.RUNNING;case"paused":return x.PAUSED;case"success":return x.SUCCESS;case"canceled":return x.CANCELED;case"error":return x.ERROR;default:return x.ERROR}}var lt=class{constructor(t,n,i){if(Is(t)||n!=null||i!=null)this.next=t,this.error=n??void 0,this.complete=i??void 0;else{let o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function ee(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}var on=null,ut=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ne.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ne.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ne.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s){if(this.sent_)throw fe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(let o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},dt=class extends ut{initXhr(){this.xhr_.responseType="text"}};function P(){return on?on():new dt}var ht=class{constructor(t,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=ve(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(h.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(gn(s.status,[]))if(o)s=dn();else{this.sleepTime=Math.max(this.sleepTime*2,cs),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(h.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":t(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,n)=>{let i=no(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,P,t,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let t=this._uploadUrl;this._resolveToken((n,i)=>{let s=io(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(s,P,n,i);this._request=o,o.getPromise().then(r=>{r=r,this._request=void 0,this._updateProgress(r.current),this._needToFetchStatus=!1,r.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let t=sn*this._chunkMultiplier,n=new ie(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let r;try{r=so(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let c=this._ref.storage._makeRequest(r,P,s,o,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){sn*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{let i=wn(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,P,t,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{let i=Cn(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,P,t,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){let n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=hn(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let t=st(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,i,s){let o=new lt(n||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){let n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(st(this._state)){case x.SUCCESS:ee(this._resolve.bind(null,this.snapshot))();break;case x.CANCELED:case x.ERROR:let n=this._reject;ee(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(st(this._state)){case x.RUNNING:case x.PAUSED:t.next&&ee(t.next.bind(t,this.snapshot))();break;case x.SUCCESS:t.complete&&ee(t.complete.bind(t))();break;case x.CANCELED:case x.ERROR:t.error&&ee(t.error.bind(t,this._error))();break;default:t.error&&ee(t.error.bind(t,this._error))()}}resume(){let t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){let t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){let t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}};var se=class e{constructor(t,n){this._service=t,n instanceof S?this._location=n:this._location=S.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let t=new S(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tn(this._location.path)}get storage(){return this._service}get parent(){let t=Bs(this._location.path);if(t===null)return null;let n=new S(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw ys(t)}};function oo(e,t,n){e._throwIfRoot("uploadBytes");let i=Cn(e.storage,e._location,ve(),new ge(t,!0),n);return e.storage.makeRequestWithTokens(i,P).then(s=>({metadata:s,ref:e}))}function ro(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ht(e,new ge(t),n)}function ao(e){let t={prefixes:[],items:[]};return In(e,t).then(()=>t)}function In(e,t,n){return ae(this,null,function*(){let s=yield Rn(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),s.nextPageToken!=null&&(yield In(e,t,s.nextPageToken))})}function Rn(e,t){t!=null&&typeof t.maxResults=="number"&&at("options.maxResults",1,1e3,t.maxResults);let n=t||{},i=Zs(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(i,P)}function co(e){e._throwIfRoot("getMetadata");let t=wn(e.storage,e._location,ve());return e.storage.makeRequestWithTokens(t,P)}function lo(e,t){e._throwIfRoot("updateMetadata");let n=Js(e.storage,e._location,t,ve());return e.storage.makeRequestWithTokens(n,P)}function uo(e){e._throwIfRoot("getDownloadURL");let t=Qs(e.storage,e._location,ve());return e.storage.makeRequestWithTokens(t,P).then(n=>{if(n===null)throw vs();return n})}function ho(e){e._throwIfRoot("deleteObject");let t=eo(e.storage,e._location);return e.storage.makeRequestWithTokens(t,P)}function kn(e,t){let n=Ws(e._location.path,t),i=new S(e._location.bucket,n);return new se(e.storage,i)}function fo(e){return/^[A-Za-z]+:\/\//.test(e)}function po(e,t){return new se(e,t)}function En(e,t){if(e instanceof _e){let n=e;if(n._bucket==null)throw gs();let i=new se(n,n._bucket);return t!=null?En(i,t):i}else return t!==void 0?kn(e,t):e}function mo(e,t){if(t&&fo(t)){if(e instanceof _e)return po(e,t);throw ot("To use ref(service, url), the first argument must be a Storage instance.")}else return En(e,t)}function rn(e,t){let n=t?.[un];return n==null?null:S.makeFromBucketSpec(n,e)}function go(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";let{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:Dt(s,e.app.options.projectId))}var _e=class{constructor(t,n,i,s,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=ln,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rs,this._maxUploadRetryTime=as,this._requests=new Set,s!=null?this._bucket=S.makeFromBucketSpec(s,this._host):this._bucket=rn(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=S.makeFromBucketSpec(this._url,t):this._bucket=rn(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){at("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){at("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return ae(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let n=yield t.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return ae(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new se(this,t)}_makeRequest(t,n,i,s,o=!0){if(this._deleted)return new rt(pn());{let r=As(t,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}makeRequestWithTokens(t,n){return ae(this,null,function*(){let[i,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()})}},an="@firebase/storage",cn="0.13.1";var xn="storage";function xc(e,t,n){return e=O(e),oo(e,t,n)}function Sc(e,t,n){return e=O(e),ro(e,t,n)}function Ac(e){return e=O(e),co(e)}function Oc(e,t){return e=O(e),lo(e,t)}function Pc(e,t){return e=O(e),Rn(e,t)}function Nc(e){return e=O(e),ao(e)}function Dc(e){return e=O(e),uo(e)}function Lc(e){return e=O(e),ho(e)}function Uc(e,t){return e=O(e),mo(e,t)}function $c(e,t){return kn(e,t)}function Fc(e=Bt(),t){e=O(e);let i=Ft(e,xn).getImmediate({identifier:t}),s=Nt("storage");return s&&_o(i,...s),i}function _o(e,t,n,i={}){go(e,t,n,i)}function vo(e,{instanceIdentifier:t}){let n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new _e(n,i,s,t,Mt)}function To(){$t(new Ut(xn,vo,"PUBLIC").setMultipleInstances(!0)),V(an,cn,""),V(an,cn,"esm2017")}To();export{Or as a,Pr as b,Tc as c,yc as d,wc as e,ot as f,ys as g,S as h,U as i,Ls as j,ge as k,Ec as l,x as m,ht as n,xc as o,Sc as p,Ac as q,Oc as r,Pc as s,Nc as t,Dc as u,Lc as v,Uc as w,$c as x,Fc as y,_o as z,Do as A,Le as B,Gt as C};
