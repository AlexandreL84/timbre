import{a as dx,b as Uh,c as hx,d as fx,e as px,f as mx,g as ny,h as gx,i as tu,j as iy,k as zh,l as vx,m as yx,n as ry,o as Tt,p as vs,q as Ui,r as $h,s as nu,t as oy,u as _x,v as Hh,w as qh,x as yr,z as _i}from"./chunk-65CH3ZW6.js";import{a as U,b as Me,e as nV,g as ux,i as eu,j as ty,k as F}from"./chunk-GV7GV3NK.js";var sC=nV(()=>{var $F;(function(t){(function(e){var n=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),i=r(t);typeof n.Reflect<"u"&&(i=r(n.Reflect,i)),e(i,n),typeof n.Reflect>"u"&&(n.Reflect=t);function r(c,u){return function(d,f){Object.defineProperty(c,d,{configurable:!0,writable:!0,value:f}),u&&u(d,f)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,n){var i=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",o=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!a&&!c,d={create:a?function(){return Ra(Object.create(null))}:c?function(){return Ra({__proto__:null})}:function(){return Ra({})},has:u?function(T,R){return i.call(T,R)}:function(T,R){return R in T},get:u?function(T,R){return i.call(T,R)?T[R]:void 0}:function(T,R){return T[R]}},f=Object.getPrototypeOf(Function),m=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:en(),g=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:on(),_=typeof WeakMap=="function"?WeakMap:Ma(),D=r?Symbol.for("@reflect-metadata:registry"):void 0,I=zv(),k=Ul(I);function G(T,R,j,W){if(fe(j)){if(!ls(T))throw new TypeError;if(!Aa(R))throw new TypeError;return M(T,R)}else{if(!ls(T))throw new TypeError;if(!it(R))throw new TypeError;if(!it(W)&&!fe(W)&&!xt(W))throw new TypeError;return xt(W)&&(W=void 0),j=Cn(j),b(T,R,j,W)}}e("decorate",G);function H(T,R){function j(W,de){if(!it(W))throw new TypeError;if(!fe(de)&&!Fl(de))throw new TypeError;eo(T,R,W,de)}return j}e("metadata",H);function K(T,R,j,W){if(!it(j))throw new TypeError;return fe(W)||(W=Cn(W)),eo(T,R,j,W)}e("defineMetadata",K);function ue(T,R,j){if(!it(R))throw new TypeError;return fe(j)||(j=Cn(j)),ri(T,R,j)}e("hasMetadata",ue);function ie(T,R,j){if(!it(R))throw new TypeError;return fe(j)||(j=Cn(j)),pr(T,R,j)}e("hasOwnMetadata",ie);function E(T,R,j){if(!it(R))throw new TypeError;return fe(j)||(j=Cn(j)),Eh(T,R,j)}e("getMetadata",E);function y(T,R,j){if(!it(R))throw new TypeError;return fe(j)||(j=Cn(j)),Jr(T,R,j)}e("getOwnMetadata",y);function w(T,R){if(!it(T))throw new TypeError;return fe(R)||(R=Cn(R)),Sa(T,R)}e("getMetadataKeys",w);function C(T,R){if(!it(T))throw new TypeError;return fe(R)||(R=Cn(R)),Ol(T,R)}e("getOwnMetadataKeys",C);function x(T,R,j){if(!it(R))throw new TypeError;if(fe(j)||(j=Cn(j)),!it(R))throw new TypeError;fe(j)||(j=Cn(j));var W=mr(R,j,!1);return fe(W)?!1:W.OrdinaryDeleteMetadata(T,R,j)}e("deleteMetadata",x);function M(T,R){for(var j=T.length-1;j>=0;--j){var W=T[j],de=W(R);if(!fe(de)&&!xt(de)){if(!Aa(de))throw new TypeError;R=de}}return R}function b(T,R,j,W){for(var de=T.length-1;de>=0;--de){var yt=T[de],Pt=yt(R,j,W);if(!fe(Pt)&&!xt(Pt)){if(!it(Pt))throw new TypeError;W=Pt}}return W}function ri(T,R,j){var W=pr(T,R,j);if(W)return!0;var de=ds(R);return xt(de)?!1:ri(T,de,j)}function pr(T,R,j){var W=mr(R,j,!1);return fe(W)?!1:Dh(W.OrdinaryHasOwnMetadata(T,R,j))}function Eh(T,R,j){var W=pr(T,R,j);if(W)return Jr(T,R,j);var de=ds(R);if(!xt(de))return Eh(T,de,j)}function Jr(T,R,j){var W=mr(R,j,!1);if(!fe(W))return W.OrdinaryGetOwnMetadata(T,R,j)}function eo(T,R,j,W){var de=mr(j,W,!0);de.OrdinaryDefineOwnMetadata(T,R,j,W)}function Sa(T,R){var j=Ol(T,R),W=ds(T);if(W===null)return j;var de=Sa(W,R);if(de.length<=0)return j;if(j.length<=0)return de;for(var yt=new g,Pt=[],Fe=0,X=j;Fe<X.length;Fe++){var J=X[Fe],re=yt.has(J);re||(yt.add(J),Pt.push(J))}for(var oe=0,Oe=de;oe<Oe.length;oe++){var J=Oe[oe],re=yt.has(J);re||(yt.add(J),Pt.push(J))}return Pt}function Ol(T,R){var j=mr(T,R,!1);return j?j.OrdinaryOwnMetadataKeys(T,R):[]}function Ih(T){if(T===null)return 1;switch(typeof T){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return T===null?1:6;default:return 6}}function fe(T){return T===void 0}function xt(T){return T===null}function jv(T){return typeof T=="symbol"}function it(T){return typeof T=="object"?T!==null:typeof T=="function"}function Bv(T,R){switch(Ih(T)){case 0:return T;case 1:return T;case 2:return T;case 3:return T;case 4:return T;case 5:return T}var j=R===3?"string":R===5?"number":"default",W=Ll(T,o);if(W!==void 0){var de=W.call(T,j);if(it(de))throw new TypeError;return de}return cs(T,j==="default"?"number":j)}function cs(T,R){if(R==="string"){var j=T.toString;if(Bi(j)){var W=j.call(T);if(!it(W))return W}var de=T.valueOf;if(Bi(de)){var W=de.call(T);if(!it(W))return W}}else{var de=T.valueOf;if(Bi(de)){var W=de.call(T);if(!it(W))return W}var yt=T.toString;if(Bi(yt)){var W=yt.call(T);if(!it(W))return W}}throw new TypeError}function Dh(T){return!!T}function Uv(T){return""+T}function Cn(T){var R=Bv(T,3);return jv(R)?R:Uv(R)}function ls(T){return Array.isArray?Array.isArray(T):T instanceof Object?T instanceof Array:Object.prototype.toString.call(T)==="[object Array]"}function Bi(T){return typeof T=="function"}function Aa(T){return typeof T=="function"}function Fl(T){switch(Ih(T)){case 3:return!0;case 4:return!0;default:return!1}}function us(T,R){return T===R||T!==T&&R!==R}function Ll(T,R){var j=T[R];if(j!=null){if(!Bi(j))throw new TypeError;return j}}function Vl(T){var R=Ll(T,s);if(!Bi(R))throw new TypeError;var j=R.call(T);if(!it(j))throw new TypeError;return j}function Ch(T){return T.value}function jl(T){var R=T.next();return R.done?!1:R}function Bl(T){var R=T.return;R&&R.call(T)}function ds(T){var R=Object.getPrototypeOf(T);if(typeof T!="function"||T===f||R!==f)return R;var j=T.prototype,W=j&&Object.getPrototypeOf(j);if(W==null||W===Object.prototype)return R;var de=W.constructor;return typeof de!="function"||de===T?R:de}function xh(){var T;!fe(D)&&typeof n.Reflect<"u"&&!(D in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(T=zl(n.Reflect));var R,j,W,de=new _,yt={registerProvider:Pt,getProvider:X,setProvider:re};return yt;function Pt(oe){if(!Object.isExtensible(yt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case T===oe:break;case fe(R):R=oe;break;case R===oe:break;case fe(j):j=oe;break;case j===oe:break;default:W===void 0&&(W=new g),W.add(oe);break}}function Fe(oe,Oe){if(!fe(R)){if(R.isProviderFor(oe,Oe))return R;if(!fe(j)){if(j.isProviderFor(oe,Oe))return R;if(!fe(W))for(var Ye=Vl(W);;){var Ze=jl(Ye);if(!Ze)return;var On=Ch(Ze);if(On.isProviderFor(oe,Oe))return Bl(Ye),On}}}if(!fe(T)&&T.isProviderFor(oe,Oe))return T}function X(oe,Oe){var Ye=de.get(oe),Ze;return fe(Ye)||(Ze=Ye.get(Oe)),fe(Ze)&&(Ze=Fe(oe,Oe),fe(Ze)||(fe(Ye)&&(Ye=new m,de.set(oe,Ye)),Ye.set(Oe,Ze))),Ze}function J(oe){if(fe(oe))throw new TypeError;return R===oe||j===oe||!fe(W)&&W.has(oe)}function re(oe,Oe,Ye){if(!J(Ye))throw new Error("Metadata provider not registered.");var Ze=X(oe,Oe);if(Ze!==Ye){if(!fe(Ze))return!1;var On=de.get(oe);fe(On)&&(On=new m,de.set(oe,On)),On.set(Oe,Ye)}return!0}}function zv(){var T;return!fe(D)&&it(n.Reflect)&&Object.isExtensible(n.Reflect)&&(T=n.Reflect[D]),fe(T)&&(T=xh()),!fe(D)&&it(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:T}),T}function Ul(T){var R=new _,j={isProviderFor:function(J,re){var oe=R.get(J);return fe(oe)?!1:oe.has(re)},OrdinaryDefineOwnMetadata:Pt,OrdinaryHasOwnMetadata:de,OrdinaryGetOwnMetadata:yt,OrdinaryOwnMetadataKeys:Fe,OrdinaryDeleteMetadata:X};return I.registerProvider(j),j;function W(J,re,oe){var Oe=R.get(J),Ye=!1;if(fe(Oe)){if(!oe)return;Oe=new m,R.set(J,Oe),Ye=!0}var Ze=Oe.get(re);if(fe(Ze)){if(!oe)return;if(Ze=new m,Oe.set(re,Ze),!T.setProvider(J,re,j))throw Oe.delete(re),Ye&&R.delete(J),new Error("Wrong provider for target.")}return Ze}function de(J,re,oe){var Oe=W(re,oe,!1);return fe(Oe)?!1:Dh(Oe.has(J))}function yt(J,re,oe){var Oe=W(re,oe,!1);if(!fe(Oe))return Oe.get(J)}function Pt(J,re,oe,Oe){var Ye=W(oe,Oe,!0);Ye.set(J,re)}function Fe(J,re){var oe=[],Oe=W(J,re,!1);if(fe(Oe))return oe;for(var Ye=Oe.keys(),Ze=Vl(Ye),On=0;;){var hs=jl(Ze);if(!hs)return oe.length=On,oe;var Th=Ch(hs);try{oe[On]=Th}catch(fs){try{Bl(Ze)}finally{throw fs}}On++}}function X(J,re,oe){var Oe=W(re,oe,!1);if(fe(Oe)||!Oe.delete(J))return!1;if(Oe.size===0){var Ye=R.get(re);fe(Ye)||(Ye.delete(oe),Ye.size===0&&R.delete(Ye))}return!0}}function zl(T){var R=T.defineMetadata,j=T.hasOwnMetadata,W=T.getOwnMetadata,de=T.getOwnMetadataKeys,yt=T.deleteMetadata,Pt=new _,Fe={isProviderFor:function(X,J){var re=Pt.get(X);return!fe(re)&&re.has(J)?!0:de(X,J).length?(fe(re)&&(re=new g,Pt.set(X,re)),re.add(J),!0):!1},OrdinaryDefineOwnMetadata:R,OrdinaryHasOwnMetadata:j,OrdinaryGetOwnMetadata:W,OrdinaryOwnMetadataKeys:de,OrdinaryDeleteMetadata:yt};return Fe}function mr(T,R,j){var W=I.getProvider(T,R);if(!fe(W))return W;if(j){if(I.setProvider(T,R,k))return k;throw new Error("Illegal state.")}}function en(){var T={},R=[],j=function(){function Fe(X,J,re){this._index=0,this._keys=X,this._values=J,this._selector=re}return Fe.prototype["@@iterator"]=function(){return this},Fe.prototype[s]=function(){return this},Fe.prototype.next=function(){var X=this._index;if(X>=0&&X<this._keys.length){var J=this._selector(this._keys[X],this._values[X]);return X+1>=this._keys.length?(this._index=-1,this._keys=R,this._values=R):this._index++,{value:J,done:!1}}return{value:void 0,done:!0}},Fe.prototype.throw=function(X){throw this._index>=0&&(this._index=-1,this._keys=R,this._values=R),X},Fe.prototype.return=function(X){return this._index>=0&&(this._index=-1,this._keys=R,this._values=R),{value:X,done:!0}},Fe}(),W=function(){function Fe(){this._keys=[],this._values=[],this._cacheKey=T,this._cacheIndex=-2}return Object.defineProperty(Fe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Fe.prototype.has=function(X){return this._find(X,!1)>=0},Fe.prototype.get=function(X){var J=this._find(X,!1);return J>=0?this._values[J]:void 0},Fe.prototype.set=function(X,J){var re=this._find(X,!0);return this._values[re]=J,this},Fe.prototype.delete=function(X){var J=this._find(X,!1);if(J>=0){for(var re=this._keys.length,oe=J+1;oe<re;oe++)this._keys[oe-1]=this._keys[oe],this._values[oe-1]=this._values[oe];return this._keys.length--,this._values.length--,us(X,this._cacheKey)&&(this._cacheKey=T,this._cacheIndex=-2),!0}return!1},Fe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=T,this._cacheIndex=-2},Fe.prototype.keys=function(){return new j(this._keys,this._values,de)},Fe.prototype.values=function(){return new j(this._keys,this._values,yt)},Fe.prototype.entries=function(){return new j(this._keys,this._values,Pt)},Fe.prototype["@@iterator"]=function(){return this.entries()},Fe.prototype[s]=function(){return this.entries()},Fe.prototype._find=function(X,J){if(!us(this._cacheKey,X)){this._cacheIndex=-1;for(var re=0;re<this._keys.length;re++)if(us(this._keys[re],X)){this._cacheIndex=re;break}}return this._cacheIndex<0&&J&&(this._cacheIndex=this._keys.length,this._keys.push(X),this._values.push(void 0)),this._cacheIndex},Fe}();return W;function de(Fe,X){return Fe}function yt(Fe,X){return X}function Pt(Fe,X){return[Fe,X]}}function on(){var T=function(){function R(){this._map=new m}return Object.defineProperty(R.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),R.prototype.has=function(j){return this._map.has(j)},R.prototype.add=function(j){return this._map.set(j,j),this},R.prototype.delete=function(j){return this._map.delete(j)},R.prototype.clear=function(){this._map.clear()},R.prototype.keys=function(){return this._map.keys()},R.prototype.values=function(){return this._map.keys()},R.prototype.entries=function(){return this._map.entries()},R.prototype["@@iterator"]=function(){return this.keys()},R.prototype[s]=function(){return this.keys()},R}();return T}function Ma(){var T=16,R=d.create(),j=W();return function(){function X(){this._key=W()}return X.prototype.has=function(J){var re=de(J,!1);return re!==void 0?d.has(re,this._key):!1},X.prototype.get=function(J){var re=de(J,!1);return re!==void 0?d.get(re,this._key):void 0},X.prototype.set=function(J,re){var oe=de(J,!0);return oe[this._key]=re,this},X.prototype.delete=function(J){var re=de(J,!1);return re!==void 0?delete re[this._key]:!1},X.prototype.clear=function(){this._key=W()},X}();function W(){var X;do X="@@WeakMap@@"+Fe();while(d.has(R,X));return R[X]=!0,X}function de(X,J){if(!i.call(X,j)){if(!J)return;Object.defineProperty(X,j,{value:d.create()})}return X[j]}function yt(X,J){for(var re=0;re<J;++re)X[re]=Math.random()*255|0;return X}function Pt(X){if(typeof Uint8Array=="function"){var J=new Uint8Array(X);return typeof crypto<"u"?crypto.getRandomValues(J):typeof msCrypto<"u"?msCrypto.getRandomValues(J):yt(J,X),J}return yt(new Array(X),X)}function Fe(){var X=Pt(T);X[6]=X[6]&79|64,X[8]=X[8]&191|128;for(var J="",re=0;re<T;++re){var oe=X[re];(re===4||re===6||re===8)&&(J+="-"),oe<16&&(J+="0"),J+=oe.toString(16).toLowerCase()}return J}}function Ra(T){return T.__=void 0,delete T.__,T}})})($F||($F={}))});function bx(t,e){return Object.is(t,e)}var Kt=null,iu=!1,Gh=1,Gn=Symbol("SIGNAL");function Ve(t){let e=Kt;return Kt=t,e}function wx(){return Kt}function iV(){return iu}var Fa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kh(t){if(iu)throw new Error("");if(Kt===null)return;Kt.consumerOnSignalRead(t);let e=Kt.nextProducerIndex++;if(Jh(Kt),e<Kt.producerNode.length&&Kt.producerNode[e]!==t&&ru(Kt)){let n=Kt.producerNode[e];Xh(n,Kt.producerIndexOfThis[e])}Kt.producerNode[e]!==t&&(Kt.producerNode[e]=t,Kt.producerIndexOfThis[e]=ru(Kt)?xx(t,Kt,e):0),Kt.producerLastReadVersion[e]=t.version}function rV(){Gh++}function Ex(t){if(!(ru(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gh)){if(!t.producerMustRecompute(t)&&!Yh(t)){t.dirty=!1,t.lastCleanEpoch=Gh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gh}}function Ix(t){if(t.liveConsumerNode===void 0)return;let e=iu;iu=!0;try{for(let n of t.liveConsumerNode)n.dirty||Cx(n)}finally{iu=e}}function Dx(){return Kt?.consumerAllowSignalWrites!==!1}function Cx(t){t.dirty=!0,Ix(t),t.consumerMarkedDirty?.(t)}function ou(t){return t&&(t.nextProducerIndex=0),Ve(t)}function Qh(t,e){if(Ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ru(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yh(t){Jh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Ex(n),i!==n.version))return!0}return!1}function Zh(t){if(Jh(t),ru(t))for(let e=0;e<t.producerNode.length;e++)Xh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xx(t,e,n){if(Tx(t),t.liveConsumerNode.length===0&&Sx(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=xx(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xh(t,e){if(Tx(t),t.liveConsumerNode.length===1&&Sx(t))for(let i=0;i<t.producerNode.length;i++)Xh(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Jh(r),r.producerIndexOfThis[i]=e}}function ru(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Tx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Sx(t){return t.producerNode!==void 0}function ly(t){let e=Object.create(oV);e.computation=t;let n=()=>{if(Ex(e),Kh(e),e.value===Wh)throw e.error;return e.value};return n[Gn]=e,n}var sy=Symbol("UNSET"),ay=Symbol("COMPUTING"),Wh=Symbol("ERRORED"),oV=Me(U({},Fa),{value:sy,dirty:!0,error:null,equal:bx,producerMustRecompute(t){return t.value===sy||t.value===ay},producerRecomputeValue(t){if(t.value===ay)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ay;let n=ou(t),i;try{i=t.computation()}catch(r){i=Wh,t.error=r}finally{Qh(t,n)}if(e!==sy&&e!==Wh&&i!==Wh&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function sV(){throw new Error}var Ax=sV;function Mx(){Ax()}function Rx(t){Ax=t}var aV=null;function Nx(t){let e=Object.create(uy);e.value=t;let n=()=>(Kh(e),e.value);return n[Gn]=e,n}function ef(t,e){Dx()||Mx(),t.equal(t.value,e)||(t.value=e,cV(t))}function kx(t,e){Dx()||Mx(),ef(t,e(t.value))}var uy=Me(U({},Fa),{equal:bx,value:void 0});function cV(t){t.version++,rV(),Ix(t),aV?.()}function Px(t,e,n){let i=Object.create(lV);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=c=>{i.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Zh(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=cy)}let a=()=>{if(i.fn===null)return;if(iV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Yh(i))return;i.hasRun=!0;let c=ou(i);try{i.cleanupFn(),i.cleanupFn=cy,i.fn(r)}finally{Qh(i,c)}};return i.ref={notify:()=>Cx(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[Gn]:i},i.ref}var cy=()=>{},lV=Me(U({},Fa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:cy});function me(t){return typeof t=="function"}function La(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tf=La(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ys(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(me(i))try{i()}catch(o){e=o instanceof tf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Ox(o)}catch(s){e=e??[],s instanceof tf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ox(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ys(n,e)}remove(e){let{_finalizers:n}=this;n&&ys(n,e),e instanceof t&&e._removeParent(this)}};Ue.EMPTY=(()=>{let t=new Ue;return t.closed=!0,t})();var dy=Ue.EMPTY;function nf(t){return t instanceof Ue||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function Ox(t){me(t)?t():t.unsubscribe()}var bi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Va={setTimeout(t,e,...n){let{delegate:i}=Va;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Va;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rf(t){Va.setTimeout(()=>{let{onUnhandledError:e}=bi;if(e)e(t);else throw t})}function su(){}var Fx=hy("C",void 0,void 0);function Lx(t){return hy("E",void 0,t)}function Vx(t){return hy("N",t,void 0)}function hy(t,e,n){return{kind:t,value:e,error:n}}var _s=null;function ja(t){if(bi.useDeprecatedSynchronousErrorHandling){let e=!_s;if(e&&(_s={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=_s;if(_s=null,n)throw i}}else t()}function jx(t){bi.useDeprecatedSynchronousErrorHandling&&_s&&(_s.errorThrown=!0,_s.error=t)}var bs=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nf(e)&&e.add(this)):this.destination=hV}static create(e,n,i){return new _r(e,n,i)}next(e){this.isStopped?py(Vx(e),this):this._next(e)}error(e){this.isStopped?py(Lx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?py(Fx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uV=Function.prototype.bind;function fy(t,e){return uV.call(t,e)}var my=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){of(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){of(i)}else of(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){of(n)}}},_r=class extends bs{constructor(e,n,i){super();let r;if(me(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&bi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&fy(e.next,o),error:e.error&&fy(e.error,o),complete:e.complete&&fy(e.complete,o)}):r=e}this.destination=new my(r)}};function of(t){bi.useDeprecatedSynchronousErrorHandling?jx(t):rf(t)}function dV(t){throw t}function py(t,e){let{onStoppedNotification:n}=bi;n&&Va.setTimeout(()=>n(t,e))}var hV={closed:!0,next:su,error:dV,complete:su};var Ba=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Tn(t){return t}function au(...t){return gy(t)}function gy(t){return t.length===0?Tn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=pV(n)?n:new _r(n,i,r);return ja(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Bx(i),new i((r,o)=>{let s=new _r({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ba](){return this}pipe(...n){return gy(n)(this)}toPromise(n){return n=Bx(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function Bx(t){var e;return(e=t??bi.Promise)!==null&&e!==void 0?e:Promise}function fV(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}function pV(t){return t&&t instanceof bs||fV(t)&&nf(t)}function vy(t){return me(t?.lift)}function _e(t){return e=>{if(vy(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,i,r){return new yy(t,e,n,i,r)}var yy=class extends bs{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ua(){return _e((t,e)=>{let n=null;t._refCount++;let i=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ro=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return Ua()(this)}};var Ux=La(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new sf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Ux}next(n){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){ja(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?dy:(this.currentObservers=null,o.push(n),new Ue(()=>{this.currentObservers=null,ys(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new sf(e,n),t})(),sf=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:dy}};var Qt=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var cu={now(){return(cu.delegate||Date).now()},delegate:void 0};var ws=class extends se{constructor(e=1/0,n=1/0,i=cu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var af=class extends Ue{constructor(e,n){super()}schedule(e,n=0){return this}};var lu={setInterval(t,e,...n){let{delegate:i}=lu;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=lu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var za=class extends af{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return lu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&lu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ys(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $a=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};$a.now=cu.now;var Ha=class extends $a{constructor(e,n=$a.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var zi=new Ha(za),_y=zi;var cf=class extends za{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var lf=class extends Ha{};var by=new lf(cf);var Sn=new pe(t=>t.complete());function uf(t){return t&&me(t.schedule)}function wy(t){return t[t.length-1]}function qa(t){return me(wy(t))?t.pop():void 0}function $i(t){return uf(wy(t))?t.pop():void 0}function zx(t,e){return typeof wy(t)=="number"?t.pop():e}var Ga=t=>t&&typeof t.length=="number"&&typeof t!="function";function df(t){return me(t?.then)}function hf(t){return me(t[Ba])}function ff(t){return Symbol.asyncIterator&&me(t?.[Symbol.asyncIterator])}function pf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mf=mV();function gf(t){return me(t?.[mf])}function vf(t){return hx(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Uh(n.read());if(r)return yield Uh(void 0);yield yield Uh(i)}}finally{n.releaseLock()}})}function yf(t){return me(t?.getReader)}function Xe(t){if(t instanceof pe)return t;if(t!=null){if(hf(t))return gV(t);if(Ga(t))return vV(t);if(df(t))return yV(t);if(ff(t))return $x(t);if(gf(t))return _V(t);if(yf(t))return bV(t)}throw pf(t)}function gV(t){return new pe(e=>{let n=t[Ba]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vV(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function yV(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rf)})}function _V(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function $x(t){return new pe(e=>{wV(t,e).catch(n=>e.error(n))})}function bV(t){return $x(vf(t))}function wV(t,e){var n,i,r,o;return dx(this,void 0,void 0,function*(){try{for(n=fx(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Fn(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Ln(t,e=0){return _e((n,i)=>{n.subscribe(Ie(i,r=>Fn(i,t,()=>i.next(r),e),()=>Fn(i,t,()=>i.complete(),e),r=>Fn(i,t,()=>i.error(r),e)))})}function oi(t,e=0){return _e((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Hx(t,e){return Xe(t).pipe(oi(e),Ln(e))}function qx(t,e){return Xe(t).pipe(oi(e),Ln(e))}function Gx(t,e){return new pe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function Wx(t,e){return new pe(n=>{let i;return Fn(n,e,()=>{i=t[mf](),Fn(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>me(i?.return)&&i.return()})}function _f(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Fn(n,e,()=>{let i=t[Symbol.asyncIterator]();Fn(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Kx(t,e){return _f(vf(t),e)}function Qx(t,e){if(t!=null){if(hf(t))return Hx(t,e);if(Ga(t))return Gx(t,e);if(df(t))return qx(t,e);if(ff(t))return _f(t,e);if(gf(t))return Wx(t,e);if(yf(t))return Kx(t,e)}throw pf(t)}function Be(t,e){return e?Qx(t,e):Xe(t)}function ce(...t){let e=$i(t);return Be(t,e)}function Wa(t,e){let n=me(t)?t:()=>t,i=r=>r.error(n());return new pe(e?r=>e.schedule(i,0,r):i)}function Ka(t){return!!t&&(t instanceof pe||me(t.lift)&&me(t.subscribe))}var br=La(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Yx(t){return t instanceof Date&&!isNaN(t)}function ee(t,e){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:EV}=Array;function IV(t,e){return EV(e)?t(...e):t(e)}function oo(t){return ee(e=>IV(t,e))}var{isArray:DV}=Array,{getPrototypeOf:CV,prototype:xV,keys:TV}=Object;function bf(t){if(t.length===1){let e=t[0];if(DV(e))return{args:e,keys:null};if(SV(e)){let n=TV(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function SV(t){return t&&typeof t=="object"&&CV(t)===xV}function wf(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function wr(...t){let e=$i(t),n=qa(t),{args:i,keys:r}=bf(t);if(i.length===0)return Be([],e);let o=new pe(Ey(i,e,r?s=>wf(r,s):Tn));return n?o.pipe(oo(n)):o}function Ey(t,e,n=Tn){return i=>{Zx(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Zx(e,()=>{let u=Be(t[c],e),d=!1;u.subscribe(Ie(i,f=>{o[c]=f,d||(d=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Zx(t,e,n){t?Fn(n,t,e):e()}function Xx(t,e,n,i,r,o,s,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},g=D=>u<i?_(D):c.push(D),_=D=>{o&&e.next(D),u++;let I=!1;Xe(n(D,d++)).subscribe(Ie(e,k=>{r?.(k),o?g(k):e.next(k)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;c.length&&u<i;){let k=c.shift();s?Fn(e,s,()=>_(k)):_(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(Ie(e,g,()=>{f=!0,m()})),()=>{a?.()}}function Rt(t,e,n=1/0){return me(e)?Rt((i,r)=>ee((o,s)=>e(i,o,r,s))(Xe(t(i,r))),n):(typeof e=="number"&&(n=e),_e((i,r)=>Xx(i,r,t,n)))}function so(t=1/0){return Rt(Tn,t)}function Jx(){return so(1)}function ao(...t){return Jx()(Be(t,$i(t)))}function Qa(t){return new pe(e=>{Xe(t()).subscribe(e)})}function Iy(...t){let e=qa(t),{args:n,keys:i}=bf(t),r=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;Xe(n[d]).subscribe(Ie(o,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(i?wf(i,a):a),o.complete())}))}});return e?r.pipe(oo(e)):r}var AV=["addListener","removeListener"],MV=["addEventListener","removeEventListener"],RV=["on","off"];function Ya(t,e,n,i){if(me(n)&&(i=n,n=void 0),i)return Ya(t,e,n).pipe(oo(i));let[r,o]=PV(t)?MV.map(s=>a=>t[s](e,a,n)):NV(t)?AV.map(eT(t,e)):kV(t)?RV.map(eT(t,e)):[];if(!r&&Ga(t))return Rt(s=>Ya(s,e,n))(Xe(t));if(!r)throw new TypeError("Invalid event target");return new pe(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function eT(t,e){return n=>i=>t[n](e,i)}function NV(t){return me(t.addListener)&&me(t.removeListener)}function kV(t){return me(t.on)&&me(t.off)}function PV(t){return me(t.addEventListener)&&me(t.removeEventListener)}function tT(t=0,e,n=_y){let i=-1;return e!=null&&(uf(e)?n=e:i=e),new pe(r=>{let o=Yx(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function wi(...t){let e=$i(t),n=zx(t,1/0),i=t;return i.length?i.length===1?Xe(i[0]):so(n)(Be(i,e)):Sn}var{isArray:OV}=Array;function nT(t){return t.length===1&&OV(t[0])?t[0]:t}function We(t,e){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>t.call(e,o,r++)&&i.next(o)))})}function iT(t){return _e((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let u=r;r=null,n.next(u)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(Ie(n,u=>{i=!0,r=u,o||Xe(t(u)).subscribe(o=Ie(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function Ef(t,e=zi){return iT(()=>tT(t,e))}function Er(t){return _e((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Ie(n,void 0,void 0,s=>{o=Xe(t(s,Er(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function rT(t,e,n,i,r){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Ie(s,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Dy(...t){let e=qa(t);return e?au(Dy(...t),oo(e)):_e((n,i)=>{Ey([n,...nT(t)])(i)})}function FV(...t){return Dy(...t)}function Ir(t,e){return me(e)?Rt(t,e,1):Rt(t,1)}function uu(t,e=zi){return _e((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=o;o=null,i.next(u)}};function c(){let u=s+t,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}n.subscribe(Ie(i,u=>{o=u,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function co(t){return _e((e,n)=>{let i=!1;e.subscribe(Ie(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Vn(t){return t<=0?()=>Sn:_e((e,n)=>{let i=0;e.subscribe(Ie(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Cy(t){return ee(()=>t)}function lo(t,e=Tn){return t=t??LV,_e((n,i)=>{let r,o=!0;n.subscribe(Ie(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function LV(t,e){return t===e}function If(t=VV){return _e((e,n)=>{let i=!1;e.subscribe(Ie(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function VV(){return new br}function Es(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?We((r,o)=>t(r,o,i)):Tn,Vn(1),n?co(e):If(()=>new br))}function Za(t){return t<=0?()=>Sn:_e((e,n)=>{let i=[];e.subscribe(Ie(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function xy(t,e){let n=arguments.length>=2;return i=>i.pipe(t?We((r,o)=>t(r,o,i)):Tn,Za(1),n?co(e):If(()=>new br))}function Xa(){return _e((t,e)=>{let n,i=!1;t.subscribe(Ie(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function Is(t,e){return _e(rT(t,e,arguments.length>=2,!0))}function Sy(t={}){let{connector:e=()=>new se,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=f=!1},_=()=>{let D=s;g(),D?.unsubscribe()};return _e((D,I)=>{u++,!f&&!d&&m();let k=c=c??e();I.add(()=>{u--,u===0&&!f&&!d&&(a=Ty(_,r))}),k.subscribe(I),!s&&u>0&&(s=new _r({next:G=>k.next(G),error:G=>{f=!0,m(),a=Ty(g,n,G),k.error(G)},complete:()=>{d=!0,m(),a=Ty(g,i),k.complete()}}),Xe(D).subscribe(s))})(o)}}function Ty(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new _r({next:()=>{i.unsubscribe(),t()}});return Xe(e(...n)).subscribe(i)}function Ds(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Sy({connector:()=>new ws(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function du(t){return We((e,n)=>t<=n)}function Kn(...t){let e=$i(t);return _e((n,i)=>{(e?ao(t,n,e):ao(t,n)).subscribe(i)})}function Je(t,e){return _e((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Ie(i,c=>{r?.unsubscribe();let u=0,d=o++;Xe(t(c,d)).subscribe(r=Ie(i,f=>i.next(e?e(c,f,d,u++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Df(t,e){return me(e)?Je(()=>t,e):Je(()=>t)}function Ke(t){return _e((e,n)=>{Xe(t).subscribe(Ie(n,()=>n.complete(),su)),!n.closed&&e.subscribe(n)})}function Ay(t,e=!1){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function Nt(t,e,n){let i=me(t)||e||n?{next:t,error:e,complete:n}:t;return i?_e((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ie(o,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),o.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Tn}var YT="https://g.co/ng/security#xss",ae=class extends Error{constructor(e,n){super(hp(e,n)),this.code=e}};function hp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ZT=Symbol("InputSignalNode#UNSET"),jV=Me(U({},uy),{transformFn:void 0,applyValueToInputSignal(t,e){ef(t,e)}});function XT(t,e){let n=Object.create(jV);n.value=t,n.transformFn=e?.transform;function i(){if(Kh(n),n.value===ZT)throw new ae(-950,!1);return n.value}return i[Gn]=n,i}function Eu(t){return{toString:t}.toString()}var Cf="__parameters__";function BV(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function JT(t,e,n){return Eu(()=>{let i=BV(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Cf)?c[Cf]:Object.defineProperty(c,Cf,{value:[]})[Cf];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var pu=globalThis;function ot(t){for(let e in t)if(t[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function UV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $y(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zV=ot({__forward_ref__:ot});function Zn(t){return t.__forward_ref__=Zn,t.toString=function(){return Mn(this())},t}function an(t){return eS(t)?t():t}function eS(t){return typeof t=="function"&&t.hasOwnProperty(zV)&&t.__forward_ref__===Zn}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xe(t){return{providers:t.providers||[],imports:t.imports||[]}}function fp(t){return oT(t,nS)||oT(t,iS)}function tS(t){return fp(t)!==null}function oT(t,e){return t.hasOwnProperty(e)?t[e]:null}function $V(t){let e=t&&(t[nS]||t[iS]);return e||null}function sT(t){return t&&(t.hasOwnProperty(aT)||t.hasOwnProperty(HV))?t[aT]:null}var nS=ot({\u0275prov:ot}),aT=ot({\u0275inj:ot}),iS=ot({ngInjectableDef:ot}),HV=ot({ngInjectorDef:ot}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rS(t){return t&&!!t.\u0275providers}var qV=ot({\u0275cmp:ot}),GV=ot({\u0275dir:ot}),WV=ot({\u0275pipe:ot}),KV=ot({\u0275mod:ot}),jf=ot({\u0275fac:ot}),fu=ot({__NG_ELEMENT_ID__:ot}),cT=ot({__NG_ENV_ID__:ot});function Ss(t){return typeof t=="string"?t:t==null?"":String(t)}function QV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ss(t)}function YV(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,t)}function nb(t,e){throw new ae(-201,!1)}var Le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Le||{}),Hy;function oS(){return Hy}function jn(t){let e=Hy;return Hy=t,e}function sS(t,e,n){let i=fp(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Le.Optional)return null;if(e!==void 0)return e;nb(t,"Injector")}var ZV={},mu=ZV,qy="__NG_DI_FLAG__",Bf="ngTempTokenPath",XV="ngTokenPath",JV=/\n/gm,ej="\u0275",lT="__source",ic;function tj(){return ic}function uo(t){let e=ic;return ic=t,e}function nj(t,e=Le.Default){if(ic===void 0)throw new ae(-203,!1);return ic===null?sS(t,void 0,e):ic.get(t,e&Le.Optional?null:void 0,e)}function A(t,e=Le.Default){return(oS()||nj)(an(t),e)}function L(t,e=Le.Default){return A(t,pp(e))}function pp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gy(t){let e=[];for(let n=0;n<t.length;n++){let i=an(t[n]);if(Array.isArray(i)){if(i.length===0)throw new ae(900,!1);let r,o=Le.Default;for(let s=0;s<i.length;s++){let a=i[s],c=ij(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(A(r,o))}else e.push(A(i))}return e}function aS(t,e){return t[qy]=e,t.prototype[qy]=e,t}function ij(t){return t[qy]}function rj(t,e,n,i){let r=t[Bf];throw e[lT]&&r.unshift(e[lT]),t.message=oj(`
`+t.message,r,n,i),t[XV]=r,t[Bf]=null,t}function oj(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ej?t.slice(2):t;let r=Mn(e);if(Array.isArray(e))r=e.map(Mn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Mn(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(JV,`
  `)}`}var yo=aS(JT("Optional"),8);var gc=aS(JT("SkipSelf"),4);function As(t,e){let n=t.hasOwnProperty(jf);return n?t[jf]:null}function sj(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function aj(t){return t.flat(Number.POSITIVE_INFINITY)}function ib(t,e){t.forEach(n=>Array.isArray(n)?ib(n,e):e(n))}function cS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cj(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function lj(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function mp(t,e,n){let i=Iu(t,e);return i>=0?t[i|1]=n:(i=~i,lj(t,i,e,n)),i}function My(t,e){let n=Iu(t,e);if(n>=0)return t[n|1]}function Iu(t,e){return uj(t,e,1)}function uj(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Dr={},An=[],oc=new B(""),lS=new B("",-1),uS=new B(""),zf=class{get(e,n=mu){if(n===mu){let i=new Error(`NullInjectorError: No provider for ${Mn(e)}!`);throw i.name="NullInjectorError",i}return n}},dS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dS||{}),Gi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gi||{}),po=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(po||{});function dj(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Wy(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];hj(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function hS(t){return t===3||t===4||t===6}function hj(t){return t.charCodeAt(0)===64}function gu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?uT(t,n,r,null,e[++i]):uT(t,n,r,null,null))}}return t}function uT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var fS="ng-template";function fj(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&dj(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(rb(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function rb(t){return t.type===4&&t.value!==fS}function pj(t,e,n){let i=t.type===4&&!n?fS:t.value;return e===i}function mj(t,e,n){let i=4,r=t.attrs,o=r!==null?yj(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ei(i)&&!Ei(c))return!1;if(s&&Ei(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!pj(t,c,n)||c===""&&e.length===1){if(Ei(i))return!1;s=!0}}else if(i&8){if(r===null||!fj(t,r,c,n)){if(Ei(i))return!1;s=!0}}else{let u=e[++a],d=gj(c,r,rb(t),n);if(d===-1){if(Ei(i))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(Ei(i))return!1;s=!0}}}}return Ei(i)||s}function Ei(t){return(t&1)===0}function gj(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return _j(e,t)}function pS(t,e,n=!1){for(let i=0;i<e.length;i++)if(mj(t,e[i],n))return!0;return!1}function vj(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function yj(t){for(let e=0;e<t.length;e++){let n=t[e];if(hS(n))return e}return t.length}function _j(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function bj(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function dT(t,e){return t?":not("+e.trim()+")":e}function wj(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ei(s)&&(e+=dT(o,r),r=""),i=s,o=o||!Ei(i);n++}return r!==""&&(e+=dT(o,r)),e}function Ej(t){return t.map(wj).join(",")}function Ij(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Ei(r))break;r=o}i++}return{attrs:e,classes:n}}function Yt(t){return Eu(()=>{let e=_S(t),n=Me(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gi.Emulated,styles:t.styles||An,_:null,schemas:t.schemas||null,tView:null,id:""});bS(n);let i=t.dependencies;return n.directiveDefs=fT(i,!1),n.pipeDefs=fT(i,!0),n.id=xj(n),n})}function Dj(t){return Cr(t)||ob(t)}function Cj(t){return t!==null}function Te(t){return Eu(()=>({type:t.type,bootstrap:t.bootstrap||An,declarations:t.declarations||An,imports:t.imports||An,exports:t.exports||An,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function hT(t,e){if(t==null)return Dr;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=po.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==po.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ge(t){return Eu(()=>{let e=_S(t);return bS(e),e})}function mS(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cr(t){return t[qV]||null}function ob(t){return t[GV]||null}function gS(t){return t[WV]||null}function vS(t){let e=Cr(t)||ob(t)||gS(t);return e!==null?e.standalone:!1}function yS(t,e){let n=t[KV]||null;if(!n&&e===!0)throw new Error(`Type ${Mn(t)} does not have '\u0275mod' property.`);return n}function _S(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Dr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||An,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hT(t.inputs,e),outputs:hT(t.outputs),debugInfo:null}}function bS(t){t.features?.forEach(e=>e(t))}function fT(t,e){if(!t)return null;let n=e?gS:Dj;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(Cj)}function xj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vc(t){return{\u0275providers:t}}function Tj(...t){return{\u0275providers:wS(!0,t),\u0275fromNgModule:!0}}function wS(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return ib(e,s=>{let a=s;Ky(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&ES(r,o),n}function ES(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];sb(r,o=>{e(o,i)})}}function Ky(t,e,n,i){if(t=an(t),!t)return!1;let r=null,o=sT(t),s=!o&&Cr(t);if(!o&&!s){let c=t.ngModule;if(o=sT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ky(u,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{ib(o.imports,d=>{Ky(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&ES(u,e)}if(!a){let u=As(r)||(()=>new r);e({provide:r,useFactory:u,deps:An},r),e({provide:uS,useValue:r,multi:!0},r),e({provide:oc,useValue:()=>A(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let u=t;sb(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function sb(t,e){for(let n of t)rS(n)&&(n=n.\u0275providers),Array.isArray(n)?sb(n,e):e(n)}var Sj=ot({provide:String,useValue:ot});function IS(t){return t!==null&&typeof t=="object"&&Sj in t}function Aj(t){return!!(t&&t.useExisting)}function Mj(t){return!!(t&&t.useFactory)}function sc(t){return typeof t=="function"}function Rj(t){return!!t.useClass}var gp=new B(""),Nf={},Nj={},Ry;function vp(){return Ry===void 0&&(Ry=new zf),Ry}var cn=class{},vu=class extends cn{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yy(e,s=>this.processProvider(s)),this.records.set(lS,Ja(void 0,this)),r.has("environment")&&this.records.set(cn,Ja(void 0,this));let o=this.records.get(gp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(uS,An,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=uo(this),i=jn(void 0),r;try{return e()}finally{uo(n),jn(i)}}get(e,n=mu,i=Le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(cT))return e[cT](this);i=pp(i);let r,o=uo(this),s=jn(void 0);try{if(!(i&Le.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Lj(e)&&fp(e);u&&this.injectableDefInScope(u)?c=Ja(Qy(e),Nf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Le.Self?vp():this.parent;return n=i&Le.Optional&&n===mu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Bf]=a[Bf]||[]).unshift(Mn(e)),o)throw a;return rj(a,e,"R3InjectorError",this.source)}else throw a}finally{jn(s),uo(o)}}resolveInjectorInitializers(){let e=Ve(null),n=uo(this),i=jn(void 0),r;try{let o=this.get(oc,An,Le.Self);for(let s of o)s()}finally{uo(n),jn(i),Ve(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Mn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){e=an(e);let n=sc(e)?e:an(e&&e.provide),i=Pj(e);if(!sc(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ja(void 0,Nf,!0),r.factory=()=>Gy(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Ve(null);try{return n.value===Nf&&(n.value=Nj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Fj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=an(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qy(t){let e=fp(t),n=e!==null?e.factory:As(t);if(n!==null)return n;if(t instanceof B)throw new ae(204,!1);if(t instanceof Function)return kj(t);throw new ae(204,!1)}function kj(t){if(t.length>0)throw new ae(204,!1);let n=$V(t);return n!==null?()=>n.factory(t):()=>new t}function Pj(t){if(IS(t))return Ja(void 0,t.useValue);{let e=DS(t);return Ja(e,Nf)}}function DS(t,e,n){let i;if(sc(t)){let r=an(t);return As(r)||Qy(r)}else if(IS(t))i=()=>an(t.useValue);else if(Mj(t))i=()=>t.useFactory(...Gy(t.deps||[]));else if(Aj(t))i=()=>A(an(t.useExisting));else{let r=an(t&&(t.useClass||t.provide));if(Oj(t))i=()=>new r(...Gy(t.deps));else return As(r)||Qy(r)}return i}function Ja(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oj(t){return!!t.deps}function Fj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Lj(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Yy(t,e){for(let n of t)Array.isArray(n)?Yy(n,e):n&&rS(n)?Yy(n.\u0275providers,e):e(n)}function ai(t,e){t instanceof vu&&t.assertNotDestroyed();let n,i=uo(t),r=jn(void 0);try{return e()}finally{uo(i),jn(r)}}function CS(){return oS()!==void 0||tj()!=null}function ab(t){if(!CS())throw new ae(-203,!1)}function Vj(t){return typeof t=="function"}var Xi=0,Ce=1,be=2,vn=3,Di=4,Bn=5,ac=6,$f=7,mn=8,cc=9,Wi=10,bt=11,yu=12,pT=13,yc=14,Qn=15,Ms=16,ec=17,xr=18,yp=19,xS=20,ho=21,kf=22,si=23,ln=25,cb=1;var Rs=7,Hf=8,lc=9,gn=10,qf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qf||{});function fo(t){return Array.isArray(t)&&typeof t[cb]=="object"}function Mr(t){return Array.isArray(t)&&t[cb]===!0}function lb(t){return(t.flags&4)!==0}function _p(t){return t.componentOffset>-1}function bp(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function Zy(t){return(t[be]&512)!==0}var Xy=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function TS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function yn(){return SS}function SS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bj),jj}yn.ngInherit=!0;function jj(){let t=MS(this),e=t?.current;if(e){let n=t.previous;if(n===Dr)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Bj(t,e,n,i,r){let o=this.declaredInputs[i],s=MS(t)||Uj(t,{previous:Dr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Xy(u&&u.currentValue,n,c===Dr),TS(t,e,r,n)}var AS="__ngSimpleChanges__";function MS(t){return t[AS]||null}function Uj(t,e){return t[AS]=e}var mT=null;var Hi=function(t,e,n){mT?.(t,e,n)},RS="svg",zj="math";function Ki(t){for(;Array.isArray(t);)t=t[Xi];return t}function $j(t){for(;Array.isArray(t);){if(typeof t[cb]=="object")return t;t=t[Xi]}return null}function NS(t,e){return Ki(e[t])}function ci(t,e){return Ki(e[t.index])}function ub(t,e){return t.data[e]}function kS(t,e){return t[e]}function _o(t,e){let n=e[t];return fo(n)?n:n[Xi]}function Hj(t){return(t[be]&4)===4}function db(t){return(t[be]&128)===128}function qj(t){return Mr(t[vn])}function mo(t,e){return e==null?null:t[e]}function PS(t){t[ec]=0}function OS(t){t[be]&1024||(t[be]|=1024,db(t)&&Ep(t))}function Gj(t,e){for(;t>0;)e=e[yc],t--;return e}function wp(t){return!!(t[be]&9216||t[si]?.dirty)}function Jy(t){t[Wi].changeDetectionScheduler?.notify(8),t[be]&64&&(t[be]|=1024),wp(t)&&Ep(t)}function Ep(t){t[Wi].changeDetectionScheduler?.notify(0);let e=Ns(t);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!db(e)));)e=Ns(e)}function FS(t,e){if((t[be]&256)===256)throw new ae(911,!1);t[ho]===null&&(t[ho]=[]),t[ho].push(e)}function Wj(t,e){if(t[ho]===null)return;let n=t[ho].indexOf(e);n!==-1&&t[ho].splice(n,1)}function Ns(t){let e=t[vn];return Mr(e)?e[vn]:e}var Ne={lFrame:HS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var LS=!1;function Kj(){return Ne.lFrame.elementDepthCount}function Qj(){Ne.lFrame.elementDepthCount++}function Yj(){Ne.lFrame.elementDepthCount--}function VS(){return Ne.bindingsEnabled}function jS(){return Ne.skipHydrationRootTNode!==null}function Zj(t){return Ne.skipHydrationRootTNode===t}function Xj(){Ne.skipHydrationRootTNode=null}function ye(){return Ne.lFrame.lView}function dt(){return Ne.lFrame.tView}function _n(t){return Ne.lFrame.contextLView=t,t[mn]}function bn(t){return Ne.lFrame.contextLView=null,t}function tn(){let t=BS();for(;t!==null&&t.type===64;)t=t.parent;return t}function BS(){return Ne.lFrame.currentTNode}function Jj(){let t=Ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function js(t,e){let n=Ne.lFrame;n.currentTNode=t,n.isParent=e}function hb(){return Ne.lFrame.isParent}function fb(){Ne.lFrame.isParent=!1}function e2(){return Ne.lFrame.contextLView}function US(){return LS}function gT(t){LS=t}function Du(){let t=Ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function t2(){return Ne.lFrame.bindingIndex}function n2(t){return Ne.lFrame.bindingIndex=t}function bo(){return Ne.lFrame.bindingIndex++}function pb(t){let e=Ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function i2(){return Ne.lFrame.inI18n}function r2(t,e){let n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,e_(e)}function o2(){return Ne.lFrame.currentDirectiveIndex}function e_(t){Ne.lFrame.currentDirectiveIndex=t}function mb(t){let e=Ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gb(){return Ne.lFrame.currentQueryIndex}function Ip(t){Ne.lFrame.currentQueryIndex=t}function s2(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[Bn]:null}function zS(t,e,n){if(n&Le.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Le.Host);)if(r=s2(o),r===null||(o=o[yc],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ne.lFrame=$S();return i.currentTNode=e,i.lView=t,!0}function vb(t){let e=$S(),n=t[Ce];Ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $S(){let t=Ne.lFrame,e=t===null?null:t.child;return e===null?HS(t):e}function HS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qS(){let t=Ne.lFrame;return Ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GS=qS;function yb(){let t=qS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function a2(t){return(Ne.lFrame.contextLView=Gj(t,Ne.lFrame.contextLView))[mn]}function Rr(){return Ne.lFrame.selectedIndex}function ks(t){Ne.lFrame.selectedIndex=t}function _c(){let t=Ne.lFrame;return ub(t.tView,t.selectedIndex)}function Bs(){Ne.lFrame.currentNamespace=RS}function WS(){c2()}function c2(){Ne.lFrame.currentNamespace=null}function l2(){return Ne.lFrame.currentNamespace}var KS=!0;function Dp(){return KS}function Cp(t){KS=t}function u2(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=SS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function xp(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Pf(t,e,n){QS(t,e,3,n)}function Of(t,e,n,i){(t[be]&3)===n&&QS(t,e,n,i)}function Ny(t,e){let n=t[be];(n&3)===e&&(n&=16383,n+=1,t[be]=n)}function QS(t,e,n,i){let r=i!==void 0?t[ec]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[ec]+=65536),(a<o||o==-1)&&(d2(t,n,e,c),t[ec]=(t[ec]&4294901760)+c+2),c++}function vT(t,e){Hi(4,t,e);let n=Ve(null);try{e.call(t)}finally{Ve(n),Hi(5,t,e)}}function d2(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[be]>>14<t[ec]>>16&&(t[be]&3)===e&&(t[be]+=16384,vT(a,o)):vT(a,o)}var rc=-1,Ps=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function h2(t){return t instanceof Ps}function f2(t){return(t.flags&8)!==0}function p2(t){return(t.flags&16)!==0}var ky={},t_=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=pp(i);let r=this.injector.get(e,ky,i);return r!==ky||n===ky?r:this.parentInjector.get(e,n,i)}};function YS(t){return t!==rc}function Gf(t){return t&32767}function m2(t){return t>>16}function Wf(t,e){let n=m2(t),i=e;for(;n>0;)i=i[yc],n--;return i}var n_=!0;function Kf(t){let e=n_;return n_=t,e}var g2=256,ZS=g2-1,XS=5,v2=0,qi={};function y2(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(fu)&&(i=n[fu]),i==null&&(i=n[fu]=v2++);let r=i&ZS,o=1<<r;e.data[t+(r>>XS)]|=o}function Qf(t,e){let n=JS(t,e);if(n!==-1)return n;let i=e[Ce];i.firstCreatePass&&(t.injectorIndex=e.length,Py(i.data,t),Py(e,null),Py(i.blueprint,null));let r=_b(t,e),o=t.injectorIndex;if(YS(r)){let s=Gf(r),a=Wf(r,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function Py(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _b(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=rA(r),i===null)return rc;if(n++,r=r[yc],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return rc}function i_(t,e,n){y2(t,e,n)}function _2(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(hS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function eA(t,e,n){if(n&Le.Optional||t!==void 0)return t;nb(e,"NodeInjector")}function tA(t,e,n,i){if(n&Le.Optional&&i===void 0&&(i=null),!(n&(Le.Self|Le.Host))){let r=t[cc],o=jn(void 0);try{return r?r.get(e,i,n&Le.Optional):sS(e,i,n&Le.Optional)}finally{jn(o)}}return eA(i,e,n)}function nA(t,e,n,i=Le.Default,r){if(t!==null){if(e[be]&2048&&!(i&Le.Self)){let s=I2(t,e,n,i,qi);if(s!==qi)return s}let o=iA(t,e,n,i,qi);if(o!==qi)return o}return tA(e,n,i,r)}function iA(t,e,n,i,r){let o=w2(n);if(typeof o=="function"){if(!zS(e,t,i))return i&Le.Host?eA(r,n,i):tA(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Le.Optional))nb(n);else return s}finally{GS()}}else if(typeof o=="number"){let s=null,a=JS(t,e),c=rc,u=i&Le.Host?e[Qn][Bn]:null;for((a===-1||i&Le.SkipSelf)&&(c=a===-1?_b(t,e):e[a+8],c===rc||!_T(i,!1)?a=-1:(s=e[Ce],a=Gf(c),e=Wf(c,e)));a!==-1;){let d=e[Ce];if(yT(o,a,d.data)){let f=b2(a,e,n,s,i,u);if(f!==qi)return f}c=e[a+8],c!==rc&&_T(i,e[Ce].data[a+8]===u)&&yT(o,a,e)?(s=d,a=Gf(c),e=Wf(c,e)):a=-1}}return r}function b2(t,e,n,i,r,o){let s=e[Ce],a=s.data[t+8],c=i==null?_p(a)&&n_:i!=s&&(a.type&3)!==0,u=r&Le.Host&&o===a,d=Ff(a,s,n,c,u);return d!==null?Os(e,s,d,a):qi}function Ff(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,d=o>>20,f=i?a:a+d,m=r?a+d:u;for(let g=f;g<m;g++){let _=s[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(r){let g=s[c];if(g&&Tr(g)&&g.type===n)return c}return null}function Os(t,e,n,i){let r=t[n],o=e.data;if(h2(r)){let s=r;s.resolving&&YV(QV(o[n]));let a=Kf(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?jn(s.injectImpl):null,d=zS(t,i,Le.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&u2(n,o[n],e)}finally{u!==null&&jn(u),Kf(a),s.resolving=!1,GS()}}return r}function w2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fu)?t[fu]:void 0;return typeof e=="number"?e>=0?e&ZS:E2:e}function yT(t,e,n){let i=1<<t;return!!(n[e+(t>>XS)]&i)}function _T(t,e){return!(t&Le.Self)&&!(t&Le.Host&&e)}var Ts=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return nA(this._tNode,this._lView,e,pp(i),n)}};function E2(){return new Ts(tn(),ye())}function li(t){return Eu(()=>{let e=t.prototype.constructor,n=e[jf]||r_(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[jf]||r_(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function r_(t){return eS(t)?()=>{let e=r_(an(t));return e&&e()}:As(t)}function I2(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[be]&2048&&!(s[be]&512);){let a=iA(o,s,n,i|Le.Self,qi);if(a!==qi)return a;let c=o.parent;if(!c){let u=s[xS];if(u){let d=u.get(n,qi,i);if(d!==qi)return d}c=rA(s),s=s[yc]}o=c}return r}function rA(t){let e=t[Ce],n=e.type;return n===2?e.declTNode:n===1?t[Bn]:null}function bc(t){return _2(tn(),t)}function bT(t,e=null,n=null,i){let r=oA(t,e,n,i);return r.resolveInjectorInitializers(),r}function oA(t,e=null,n=null,i,r=new Set){let o=[n||An,Tj(t)];return i=i||(typeof t=="object"?void 0:Mn(t)),new vu(o,e||vp(),i||null,r)}var Cs=class Cs{static create(e,n){if(Array.isArray(e))return bT({name:""},n,e,"");{let i=e.name??"";return bT({name:i},e.parent,e.providers,i)}}};Cs.THROW_IF_NOT_FOUND=mu,Cs.NULL=new zf,Cs.\u0275prov=$({token:Cs,providedIn:"any",factory:()=>A(lS)}),Cs.__NG_ELEMENT_ID__=-1;var St=Cs;var D2=new B("");D2.__NG_ELEMENT_ID__=t=>{let e=tn();if(e===null)throw new ae(204,!1);if(e.type&2)return e.value;if(t&Le.Optional)return null;throw new ae(204,!1)};var C2="ngOriginalError";function Oy(t){return t[C2]}var sA=!0,Tp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x2,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),o_=class extends Tp{constructor(e){super(),this._lView=e}onDestroy(e){return FS(this._lView,e),()=>Wj(this._lView,e)}};function x2(){return new o_(ye())}var Nr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var s_=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,CS()&&(this.destroyRef=L(Tp,{optional:!0})??void 0,this.pendingTasks=L(Nr,{optional:!0})??void 0)}emit(e){let n=Ve(null);try{super.next(e)}finally{Ve(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Re=s_;function Yf(...t){}function aA(t){let e,n;function i(){t=Yf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function wT(t){return queueMicrotask(()=>t()),()=>{t=Yf}}var bb="isAngularZone",Zf=bb+"_ID",T2=0,te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=sA}=e;if(typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,M2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bb)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,S2,Yf,Yf);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},S2={};function wb(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function A2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aA(()=>{t.callbackScheduled=!1,a_(t),t.isCheckStableRunning=!0,wb(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),a_(t)}function M2(t){let e=()=>{A2(t)},n=T2++;t._inner=t._inner.fork({name:"angular",properties:{[bb]:!0,[Zf]:n,[Zf+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(R2(c))return i.invokeTask(o,s,a,c);try{return ET(t),i.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),IT(t)}},onInvoke:(i,r,o,s,a,c,u)=>{try{return ET(t),i.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!N2(c)&&e(),IT(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,a_(t),wb(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function a_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ET(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function IT(t){t._nesting--,wb(t)}var c_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function R2(t){return cA(t,"__ignore_ng_zone__")}function N2(t){return cA(t,"__scheduler_tick__")}function cA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Qi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Oy(e);for(;n&&Oy(n);)n=Oy(n);return n||null}},k2=new B("",{providedIn:"root",factory:()=>{let t=L(te),e=L(Qi);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function DT(t,e){return XT(t,e)}function P2(t){return XT(ZT,t)}var XJ=(DT.required=P2,DT);function O2(){return wc(tn(),ye())}function wc(t,e){return new we(ci(t,e))}var we=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=O2;let t=e;return t})();function lA(t){return t instanceof we?t.nativeElement:t}function F2(){return this._results[Symbol.iterator]()}var uc=class t{get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=F2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=aj(e);(this._changesDetected=!sj(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function uA(t){return(t.flags&128)===128}var dA=new Map,L2=0;function V2(){return L2++}function j2(t){dA.set(t[yp],t)}function l_(t){dA.delete(t[yp])}var CT="__ngContext__";function go(t,e){fo(e)?(t[CT]=e[yp],j2(e)):t[CT]=e}function hA(t){return pA(t[yu])}function fA(t){return pA(t[Di])}function pA(t){for(;t!==null&&!Mr(t);)t=t[Di];return t}var u_;function mA(t){u_=t}function gA(){if(u_!==void 0)return u_;if(typeof document<"u")return document;throw new ae(210,!1)}var Cu=new B("",{providedIn:"root",factory:()=>B2}),B2="ng",Eb=new B(""),un=new B("",{providedIn:"platform",factory:()=>"unknown"});var Xn=new B(""),xu=new B("",{providedIn:"root",factory:()=>gA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var U2="h",z2="b";var $2=()=>null;function Ib(t,e,n=!1){return $2(t,e,n)}var vA=!1,H2=new B("",{providedIn:"root",factory:()=>vA});var xf;function q2(){if(xf===void 0&&(xf=null,pu.trustedTypes))try{xf=pu.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xf}function Sp(t){return q2()?.createHTML(t)||t}var Tf;function G2(){if(Tf===void 0&&(Tf=null,pu.trustedTypes))try{Tf=pu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tf}function xT(t){return G2()?.createHTML(t)||t}var Sr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YT})`}},d_=class extends Sr{getTypeName(){return"HTML"}},h_=class extends Sr{getTypeName(){return"Style"}},f_=class extends Sr{getTypeName(){return"Script"}},p_=class extends Sr{getTypeName(){return"URL"}},m_=class extends Sr{getTypeName(){return"ResourceURL"}};function xi(t){return t instanceof Sr?t.changingThisBreaksApplicationSecurity:t}function wo(t,e){let n=W2(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${YT})`)}return n===e}function W2(t){return t instanceof Sr&&t.getTypeName()||null}function yA(t){return new d_(t)}function _A(t){return new h_(t)}function bA(t){return new f_(t)}function wA(t){return new p_(t)}function EA(t){return new m_(t)}function K2(t){let e=new v_(t);return Q2()?new g_(e):e}var g_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Sp(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},v_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Sp(e),n}};function Q2(){try{return!!new window.DOMParser().parseFromString(Sp(""),"text/html")}catch{return!1}}var Y2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ap(t){return t=String(t),t.match(Y2)?t:"unsafe:"+t}function kr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Tu(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var IA=kr("area,br,col,hr,img,wbr"),DA=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),CA=kr("rp,rt"),Z2=Tu(CA,DA),X2=Tu(DA,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),J2=Tu(CA,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),TT=Tu(IA,X2,J2,Z2),xA=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),eB=kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tB=kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),nB=Tu(xA,eB,tB),iB=kr("script,style,template"),y_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=sB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=oB(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=ST(e).toLowerCase();if(!TT.hasOwnProperty(n))return this.sanitizedSomething=!0,!iB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!nB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;xA[a]&&(c=Ap(c)),this.buf.push(" ",s,'="',AT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=ST(e).toLowerCase();TT.hasOwnProperty(n)&&!IA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(AT(e))}};function rB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function oB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw TA(e);return e}function sB(t){let e=t.firstChild;if(e&&rB(t,e))throw TA(e);return e}function ST(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function TA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var aB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cB=/([^\#-~ |!])/g;function AT(t){return t.replace(/&/g,"&amp;").replace(aB,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(cB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Sf;function Db(t,e){let n=null;try{Sf=Sf||K2(t);let i=e?String(e):"";n=Sf.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Sf.getInertBodyElement(i)}while(i!==o);let a=new y_().sanitizeChildren(MT(n)||n);return Sp(a)}finally{if(n){let i=MT(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function MT(t){return"content"in t&&lB(t)?t.content:null}function lB(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ji=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ji||{});function JJ(t){let e=SA();return e?xT(e.sanitize(Ji.HTML,t)||""):wo(t,"HTML")?xT(xi(t)):Db(gA(),Ss(t))}function eee(t){let e=SA();return e?e.sanitize(Ji.URL,t)||"":wo(t,"URL")?xi(t):Ap(Ss(t))}function SA(){let t=ye();return t&&t[Wi].sanitizer}var uB=/^>|^->|<!--|-->|--!>|<!-$/g,dB=/(<|>)/g,hB="\u200B$1\u200B";function fB(t){return t.replace(uB,e=>e.replace(dB,hB))}function AA(t){return t instanceof Function?t():t}function MA(t){return(t??L(St)).get(un)==="browser"}var Yi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yi||{}),pB;function Cb(t,e){return pB(t,e)}function tc(t,e,n,i,r){if(i!=null){let o,s=!1;Mr(i)?o=i:fo(i)&&(s=!0,i=i[Xi]);let a=Ki(i);t===0&&n!==null?r==null?OA(e,n,a):Xf(e,n,a,r||null,!0):t===1&&n!==null?Xf(e,n,a,r||null,!0):t===2?SB(e,a,s):t===3&&e.destroyNode(a),o!=null&&MB(e,t,o,n,r)}}function mB(t,e){return t.createText(e)}function gB(t,e,n){t.setValue(e,n)}function vB(t,e){return t.createComment(fB(e))}function RA(t,e,n){return t.createElement(e,n)}function yB(t,e){NA(t,e),e[Xi]=null,e[Bn]=null}function _B(t,e,n,i,r,o){i[Xi]=r,i[Bn]=e,Np(t,i,n,1,r,o)}function NA(t,e){e[Wi].changeDetectionScheduler?.notify(9),Np(t,e,e[bt],2,null,null)}function bB(t){let e=t[yu];if(!e)return Fy(t[Ce],t);for(;e;){let n=null;if(fo(e))n=e[yu];else{let i=e[gn];i&&(n=i)}if(!n){for(;e&&!e[Di]&&e!==t;)fo(e)&&Fy(e[Ce],e),e=e[vn];e===null&&(e=t),fo(e)&&Fy(e[Ce],e),n=e&&e[Di]}e=n}}function wB(t,e,n,i){let r=gn+i,o=n.length;i>0&&(n[r-1][Di]=e),i<o-gn?(e[Di]=n[r],cS(n,gn+i,e)):(n.push(e),e[Di]=null),e[vn]=n;let s=e[Ms];s!==null&&n!==s&&kA(s,e);let a=e[xr];a!==null&&a.insertView(t),Jy(e),e[be]|=128}function kA(t,e){let n=t[lc],i=e[vn];if(fo(i))t[be]|=qf.HasTransplantedViews;else{let r=i[vn][Qn];e[Qn]!==r&&(t[be]|=qf.HasTransplantedViews)}n===null?t[lc]=[e]:n.push(e)}function xb(t,e){let n=t[lc],i=n.indexOf(e);n.splice(i,1)}function _u(t,e){if(t.length<=gn)return;let n=gn+e,i=t[n];if(i){let r=i[Ms];r!==null&&r!==t&&xb(r,i),e>0&&(t[n-1][Di]=i[Di]);let o=Uf(t,gn+e);yB(i[Ce],i);let s=o[xr];s!==null&&s.detachView(o[Ce]),i[vn]=null,i[Di]=null,i[be]&=-129}return i}function Mp(t,e){if(!(e[be]&256)){let n=e[bt];n.destroyNode&&Np(t,e,n,3,null,null),bB(e)}}function Fy(t,e){if(e[be]&256)return;let n=Ve(null);try{e[be]&=-129,e[be]|=256,e[si]&&Zh(e[si]),IB(t,e),EB(t,e),e[Ce].type===1&&e[bt].destroy();let i=e[Ms];if(i!==null&&Mr(e[vn])){i!==e[vn]&&xb(i,e);let r=e[xr];r!==null&&r.detachView(t)}l_(e)}finally{Ve(n)}}function EB(t,e){let n=t.cleanup,i=e[$f];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[$f]=null);let r=e[ho];if(r!==null){e[ho]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function IB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Ps)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Hi(4,a,c);try{c.call(a)}finally{Hi(5,a,c)}}else{Hi(4,r,o);try{o.call(r)}finally{Hi(5,r,o)}}}}}function PA(t,e,n){return DB(t,e.parent,n)}function DB(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[Xi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Gi.None||o===Gi.Emulated)return null}return ci(i,n)}}function Xf(t,e,n,i,r){t.insertBefore(e,n,i,r)}function OA(t,e,n){t.appendChild(e,n)}function RT(t,e,n,i,r){i!==null?Xf(t,e,n,i,r):OA(t,e,n)}function FA(t,e){return t.parentNode(e)}function CB(t,e){return t.nextSibling(e)}function LA(t,e,n){return TB(t,e,n)}function xB(t,e,n){return t.type&40?ci(t,n):null}var TB=xB,NT;function Rp(t,e,n,i){let r=PA(t,i,e),o=e[bt],s=i.parent||e[Bn],a=LA(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)RT(o,r,n[c],a,!1);else RT(o,r,n,a,!1);NT!==void 0&&NT(o,i,e,n,r)}function hu(t,e){if(e!==null){let n=e.type;if(n&3)return ci(e,t);if(n&4)return __(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return hu(t,i);{let r=t[e.index];return Mr(r)?__(-1,r):Ki(r)}}else{if(n&128)return hu(t,e.next);if(n&32)return Cb(e,t)()||Ki(t[e.index]);{let i=VA(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ns(t[Qn]);return hu(r,i)}else return hu(t,e.next)}}}return null}function VA(t,e){if(e!==null){let i=t[Qn][Bn],r=e.projection;return i.projection[r]}return null}function __(t,e){let n=gn+t+1;if(n<e.length){let i=e[n],r=i[Ce].firstChild;if(r!==null)return hu(i,r)}return e[Rs]}function SB(t,e,n){t.removeChild(null,e,n)}function Tb(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&e===0&&(a&&go(Ki(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Tb(t,e,n.child,i,r,o,!1),tc(e,t,r,a,o);else if(c&32){let u=Cb(n,i),d;for(;d=u();)tc(e,t,r,d,o);tc(e,t,r,a,o)}else c&16?jA(t,e,i,n,r,o):tc(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Np(t,e,n,i,r,o){Tb(n,i,t.firstChild,e,r,o,!1)}function AB(t,e,n){let i=e[bt],r=PA(t,n,e),o=n.parent||e[Bn],s=LA(o,n,e);jA(i,0,e,n,r,s)}function jA(t,e,n,i,r,o){let s=n[Qn],c=s[Bn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];tc(e,t,r,d,o)}else{let u=c,d=s[vn];uA(i)&&(u.flags|=128),Tb(t,e,u,d,r,o,!0)}}function MB(t,e,n,i,r){let o=n[Rs],s=Ki(n);o!==s&&tc(e,t,i,o,r);for(let a=gn;a<n.length;a++){let c=n[a];Np(c[Ce],c,t,e,i,o)}}function RB(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Yi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Yi.Important),t.setStyle(n,i,r,o))}}function NB(t,e,n){t.setAttribute(e,"style",n)}function BA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function UA(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Wy(t,e,i),r!==null&&BA(t,e,r),o!==null&&NB(t,e,o)}var Un={};function De(t=1){zA(dt(),ye(),Rr()+t,!1)}function zA(t,e,n,i){if(!i)if((e[be]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Pf(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Of(e,o,0,n)}ks(n)}function V(t,e=Le.Default){let n=ye();if(n===null)return A(t,e);let i=tn();return nA(i,n,an(t),e)}function kp(){let t="invalid";throw new Error(t)}function $A(t,e,n,i,r,o){let s=Ve(null);try{let a=null;r&po.SignalBased&&(a=e[i][Gn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&po.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):TS(e,a,i,o)}finally{Ve(s)}}function kB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ks(~r);else{let o=r,s=n[++i],a=n[++i];r2(s,o);let c=e[o];a(2,c)}}}finally{ks(-1)}}function Pp(t,e,n,i,r,o,s,a,c,u,d){let f=e.blueprint.slice();return f[Xi]=r,f[be]=i|4|128|8|64,(u!==null||t&&t[be]&2048)&&(f[be]|=2048),PS(f),f[vn]=f[yc]=t,f[mn]=n,f[Wi]=s||t&&t[Wi],f[bt]=a||t&&t[bt],f[cc]=c||t&&t[cc]||null,f[Bn]=o,f[yp]=V2(),f[ac]=d,f[xS]=u,f[Qn]=e.type==2?t[Qn]:f,f}function Ec(t,e,n,i,r){let o=t.data[e];if(o===null)o=PB(t,e,n,i,r),i2()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Jj();o.injectorIndex=s===null?-1:s.injectorIndex}return js(o,!0),o}function PB(t,e,n,i,r){let o=BS(),s=hb(),a=s?o:o&&o.parent,c=t.data[e]=BB(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function HA(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function qA(t,e,n,i,r){let o=Rr(),s=i&2;try{ks(-1),s&&e.length>ln&&zA(t,e,ln,!1),Hi(s?2:0,r),n(i,r)}finally{ks(o),Hi(s?3:1,r)}}function Sb(t,e,n){if(lb(e)){let i=Ve(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Ve(i)}}}function Ab(t,e,n){VS()&&(GB(t,e,n,ci(n,e)),(n.flags&64)===64&&KA(t,e,n))}function Mb(t,e,n=ci){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function GA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Rb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Rb(t,e,n,i,r,o,s,a,c,u,d){let f=ln+i,m=f+r,g=OB(f,m),_=typeof u=="function"?u():u;return g[Ce]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function OB(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Un);return n}function FB(t,e,n,i){let o=i.get(H2,vA)||n===Gi.ShadowDom,s=t.selectRootElement(e,o);return LB(s),s}function LB(t){VB(t)}var VB=()=>null;function jB(t,e,n,i){let r=ZA(e);r.push(n),t.firstCreatePass&&XA(t).push(i,r.length-1)}function BB(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return jS()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function kT(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=po.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}t===0?PT(i,n,u,a,c):PT(i,n,u,a)}return i}function PT(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function UB(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let d=i;d<r;d++){let f=o[d],m=n?n.get(f):null,g=m?m.inputs:null,_=m?m.outputs:null;c=kT(0,f.inputs,d,c,g),u=kT(1,f.outputs,d,u,_);let D=c!==null&&s!==null&&!rb(e)?iU(c,d,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function zB(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Su(t,e,n,i,r,o,s,a){let c=ci(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(kb(t,n,d,i,r),_p(e)&&$B(n,e.index)):e.type&3?(i=zB(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function $B(t,e){let n=_o(e,t);n[be]&16||(n[be]|=64)}function Nb(t,e,n,i){if(VS()){let r=i===null?null:{"":-1},o=KB(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&WA(t,e,n,s,r,a),r&&QB(n,i,r)}n.mergedAttrs=gu(n.mergedAttrs,n.attrs)}function WA(t,e,n,i,r,o){for(let u=0;u<i.length;u++)i_(Qf(n,e),t,i[u].type);ZB(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=HA(t,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];n.mergedAttrs=gu(n.mergedAttrs,d.hostAttrs),XB(t,n,e,c,d),YB(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}UB(t,n,o)}function HB(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;qB(s)!=a&&s.push(a),s.push(n,i,o)}}function qB(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GB(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;_p(n)&&JB(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Qf(n,e),go(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],u=Os(e,t,a,n);if(go(u,e),s!==null&&nU(e,a-r,u,c,n,s),Tr(c)){let d=_o(n.index,e);d[mn]=Os(e,t,a,n)}}}function KA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=o2();try{ks(o);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];e_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&WB(c,u)}}finally{ks(-1),e_(s)}}function WB(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KB(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(pS(e,s.selectors,!1))if(i||(i=[]),Tr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;b_(t,e,c)}else i.unshift(s),b_(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function b_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QB(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new ae(-301,!1);i.push(e[r],o)}}}function YB(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Tr(e)&&(n[""]=t)}}function ZB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XB(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=As(r.type,!0)),s=new Ps(o,Tr(r),V);t.blueprint[i]=s,n[i]=s,HB(t,e,i,HA(t,n,r.hostVars,Un),r)}function JB(t,e,n){let i=ci(e,t),r=GA(n),o=t[Wi].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Op(t,Pp(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function eU(t,e,n,i,r,o){let s=ci(t,e);tU(e[bt],s,o,t.value,n,i,r)}function tU(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Ss(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function nU(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];$A(i,n,c,u,d,f)}}function iU(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function QA(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function YA(t,e){let n=t.contentQueries;if(n!==null){let i=Ve(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];Ip(o),a.contentQueries(2,e[s],s)}}}finally{Ve(i)}}}function Op(t,e){return t[yu]?t[pT][Di]=e:t[yu]=e,t[pT]=e,e}function w_(t,e,n){Ip(0);let i=Ve(null);try{e(t,n)}finally{Ve(i)}}function ZA(t){return t[$f]??=[]}function XA(t){return t.cleanup??=[]}function JA(t,e,n){return(t===null||Tr(t))&&(n=$j(n[e.index])),n[bt]}function eM(t,e){let n=t[cc],i=n?n.get(Qi,null):null;i&&i.handleError(e)}function kb(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],d=t.data[s];$A(d,u,i,a,c,r)}}function tM(t,e,n){let i=NS(e,t);gB(t[bt],i,n)}function rU(t,e){let n=_o(e,t),i=n[Ce];oU(i,n);let r=n[Xi];r!==null&&n[ac]===null&&(n[ac]=Ib(r,n[cc])),Pb(i,n,n[mn])}function oU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pb(t,e,n){vb(e);try{let i=t.viewQuery;i!==null&&w_(1,i,n);let r=t.template;r!==null&&qA(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xr]?.finishViewCreation(t),t.staticContentQueries&&YA(t,e),t.staticViewQueries&&w_(2,t.viewQuery,n);let o=t.components;o!==null&&sU(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[be]&=-5,yb()}}function sU(t,e){for(let n=0;n<e.length;n++)rU(t,e[n])}function Au(t,e,n,i){let r=Ve(null);try{let o=e.tView,a=t[be]&4096?4096:16,c=Pp(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[Ms]=u;let d=t[xr];return d!==null&&(c[xr]=d.createEmbeddedView(o)),Pb(o,c,n),c}finally{Ve(r)}}function nM(t,e){let n=gn+e;if(n<t.length)return t[n]}function dc(t,e){return!e||e.firstChild===null||uA(t)}function Mu(t,e,n,i=!0){let r=e[Ce];if(wB(r,e,t,n),i){let s=__(n,t),a=e[bt],c=FA(a,t[Rs]);c!==null&&_B(r,t[Bn],a,e,c,s)}let o=e[ac];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function iM(t,e){let n=_u(t,e);return n!==void 0&&Mp(n[Ce],n),n}function Jf(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(Ki(o)),Mr(o)&&aU(o,i);let s=n.type;if(s&8)Jf(t,e,n.child,i);else if(s&32){let a=Cb(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=VA(e,n);if(Array.isArray(a))i.push(...a);else{let c=Ns(e[Qn]);Jf(c[Ce],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function aU(t,e){for(let n=gn;n<t.length;n++){let i=t[n],r=i[Ce].firstChild;r!==null&&Jf(i[Ce],i,r,e)}t[Rs]!==t[Xi]&&e.push(t[Rs])}var rM=[];function cU(t){return t[si]??lU(t)}function lU(t){let e=rM.pop()??Object.create(dU);return e.lView=t,e}function uU(t){t.lView[si]!==t&&(t.lView=null,rM.push(t))}var dU=Me(U({},Fa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ep(t.lView)},consumerOnSignalRead(){this.lView[si]=this}});function hU(t){let e=t[si]??Object.create(fU);return e.lView=t,e}var fU=Me(U({},Fa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ns(t.lView);for(;e&&!oM(e[Ce]);)e=Ns(e);e&&OS(e)},consumerOnSignalRead(){this.lView[si]=this}});function oM(t){return t.type!==2}var pU=100;function sM(t,e=!0,n=0){let i=t[Wi],r=i.rendererFactory,o=!1;o||r.begin?.();try{mU(t,n)}catch(s){throw e&&eM(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function mU(t,e){let n=US();try{gT(!0),E_(t,e);let i=0;for(;wp(t);){if(i===pU)throw new ae(103,!1);i++,E_(t,1)}}finally{gT(n)}}function gU(t,e,n,i){let r=e[be];if((r&256)===256)return;let o=!1,s=!1;!o&&e[Wi].inlineEffectRunner?.flush(),vb(e);let a=!0,c=null,u=null;o||(oM(t)?(u=cU(e),c=ou(u)):wx()===null?(a=!1,u=hU(e),c=ou(u)):e[si]&&(Zh(e[si]),e[si]=null));try{PS(e),n2(t.bindingStartIndex),n!==null&&qA(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let g=t.preOrderCheckHooks;g!==null&&Pf(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Of(e,g,0,null),Ny(e,0)}if(s||vU(e),aM(e,0),t.contentQueries!==null&&YA(t,e),!o)if(d){let g=t.contentCheckHooks;g!==null&&Pf(e,g)}else{let g=t.contentHooks;g!==null&&Of(e,g,1),Ny(e,1)}kB(t,e);let f=t.components;f!==null&&lM(e,f,0);let m=t.viewQuery;if(m!==null&&w_(2,m,i),!o)if(d){let g=t.viewCheckHooks;g!==null&&Pf(e,g)}else{let g=t.viewHooks;g!==null&&Of(e,g,2),Ny(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kf]){for(let g of e[kf])g();e[kf]=null}o||(e[be]&=-73)}catch(d){throw o||Ep(e),d}finally{u!==null&&(Qh(u,c),a&&uU(u)),yb()}}function aM(t,e){for(let n=hA(t);n!==null;n=fA(n))for(let i=gn;i<n.length;i++){let r=n[i];cM(r,e)}}function vU(t){for(let e=hA(t);e!==null;e=fA(e)){if(!(e[be]&qf.HasTransplantedViews))continue;let n=e[lc];for(let i=0;i<n.length;i++){let r=n[i];OS(r)}}}function yU(t,e,n){let i=_o(e,t);cM(i,n)}function cM(t,e){db(t)&&E_(t,e)}function E_(t,e){let i=t[Ce],r=t[be],o=t[si],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Yh(o)),s||=!1,o&&(o.dirty=!1),t[be]&=-9217,s)gU(i,t,i.template,t[mn]);else if(r&8192){aM(t,1);let a=i.components;a!==null&&lM(t,a,1)}}function lM(t,e,n){for(let i=0;i<e.length;i++)yU(t,e[i],n)}function Ob(t,e){let n=US()?64:1088;for(t[Wi].changeDetectionScheduler?.notify(e);t;){t[be]|=n;let i=Ns(t);if(Zy(t)&&!i)return t;t=i}return null}var Fs=class{get rootNodes(){let e=this._lView,n=e[Ce];return Jf(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(e){this._lView[mn]=e}get destroyed(){return(this._lView[be]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vn];if(Mr(e)){let n=e[Hf],i=n?n.indexOf(this):-1;i>-1&&(_u(e,i),Uf(n,i))}this._attachedToViewContainer=!1}Mp(this._lView[Ce],this._lView)}onDestroy(e){FS(this._lView,e)}markForCheck(){Ob(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){Jy(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,sM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zy(this._lView),n=this._lView[Ms];n!==null&&!e&&xb(n,this._lView),NA(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e;let n=Zy(this._lView),i=this._lView[Ms];i!==null&&!n&&kA(i,this._lView),Jy(this._lView)}},Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wU;let t=e;return t})(),_U=Ci,bU=class extends _U{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Au(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new Fs(r)}};function wU(){return Fp(tn(),ye())}function Fp(t,e){return t.type&4?new bU(e,t,wc(t,e)):null}var nee=new RegExp(`^(\\d+)*(${z2}|${U2})*(.*)`);var EU=()=>null;function hc(t,e){return EU(t,e)}var fc=class{},Fb=new B("",{providedIn:"root",factory:()=>!1});var uM=new B(""),dM=new B(""),I_=class{},ep=class{};function IU(t){let e=Error(`No component factory found for ${Mn(t)}.`);return e[DU]=t,e}var DU="ngComponent";var D_=class{resolveComponentFactory(e){throw IU(e)}},Kb=class Kb{};Kb.NULL=new D_;var Zi=Kb,pc=class{},Eo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>CU();let t=e;return t})();function CU(){let t=ye(),e=tn(),n=_o(e.index,t);return(fo(n)?n:t)[bt]}var xU=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function tp(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=$y(r,a);else if(o==2){let c=a,u=e[++s];i=$y(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var np=class extends Zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new Ls(n,this.ngModule)}};function OT(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:po.None;e?n.push({propName:s,templateName:i,isSignal:(a&po.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function TU(t){let e=t.toLowerCase();return e==="svg"?RS:e==="math"?zj:null}var Ls=class extends ep{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=OT(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return OT(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Ej(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Ve(null);try{r=r||this.ngModule;let s=r instanceof cn?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new t_(e,s):e,c=a.get(pc,null);if(c===null)throw new ae(407,!1);let u=a.get(xU,null),d=a.get(fc,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=i?FB(m,i,this.componentDef.encapsulation,a):RA(m,g,TU(g)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let I=null;_!==null&&(I=Ib(_,a,!0));let k=Rb(0,null,null,1,0,null,null,null,null,null,null),G=Pp(null,k,null,D,null,null,f,m,a,null,I);vb(G);let H,K,ue=null;try{let ie=this.componentDef,E,y=null;ie.findHostDirectiveDefs?(E=[],y=new Map,ie.findHostDirectiveDefs(ie,E,y),E.push(ie)):E=[ie];let w=SU(G,_);ue=AU(w,_,ie,E,G,f,m),K=ub(k,ln),_&&NU(m,ie,_,i),n!==void 0&&kU(K,this.ngContentSelectors,n),H=RU(ue,ie,E,y,G,[PU]),Pb(k,G,null)}catch(ie){throw ue!==null&&l_(ue),l_(G),ie}finally{yb()}return new C_(this.componentType,H,wc(K,G),G,K)}finally{Ve(o)}}},C_=class extends I_{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fs(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;kb(o[Ce],o,r,e,n),this.previousInputValues.set(e,n);let s=_o(this._tNode.index,o);Ob(s,1)}}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function SU(t,e){let n=t[Ce],i=ln;return t[i]=e,Ec(n,i,2,"#host",null)}function AU(t,e,n,i,r,o,s){let a=r[Ce];MU(i,t,e,s);let c=null;e!==null&&(c=Ib(e,r[cc]));let u=o.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Pp(r,GA(n),null,d,r[t.index],t,o,u,null,null,c);return a.firstCreatePass&&b_(a,t,i.length-1),Op(r,f),r[t.index]=f}function MU(t,e,n,i){for(let r of t)e.mergedAttrs=gu(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(tp(e,e.mergedAttrs,!0),n!==null&&UA(i,n,e))}function RU(t,e,n,i,r,o){let s=tn(),a=r[Ce],c=ci(s,r);WA(a,r,s,n,null,i);for(let d=0;d<n.length;d++){let f=s.directiveStart+d,m=Os(r,a,f,s);go(m,r)}KA(a,r,s),c&&go(c,r);let u=Os(r,a,s.directiveStart+s.componentOffset,s);if(t[mn]=r[mn]=u,o!==null)for(let d of o)d(u,e);return Sb(a,s,r),u}function NU(t,e,n,i){if(i)Wy(t,n,["ng-version","18.2.3"]);else{let{attrs:r,classes:o}=Ij(e.selectors[0]);r&&Wy(t,n,r),o&&o.length>0&&BA(t,n,o.join(" "))}}function kU(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function PU(){let t=tn();xp(ye()[Ce],t)}var wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OU;let t=e;return t})();function OU(){let t=tn();return fM(t,ye())}var FU=wn,hM=class extends FU{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){let e=_b(this._hostTNode,this._hostLView);if(YS(e)){let n=Wf(e,this._hostLView),i=Gf(e),r=n[Ce].data[i+8];return new Ts(r,n)}else return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=FT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gn}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=hc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,dc(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!Vj(e),a;if(s)a=n;else{let _=n||{};a=_.index,i=_.injector,r=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Ls(Cr(e)),u=i||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?u:this.parentInjector).get(cn,null);D&&(o=D)}let d=Cr(c.componentType??{}),f=hc(this._lContainer,d?.id??null),m=f?.firstChild??null,g=c.create(u,r,m,o);return this.insertImpl(g.hostView,a,dc(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(qj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[vn],u=new hM(c,c[Bn],c[vn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Mu(s,r,o,i),e.attachToViewContainerRef(),cS(Ly(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=FT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=_u(this._lContainer,n);i&&(Uf(Ly(this._lContainer),n),Mp(i[Ce],i))}detach(e){let n=this._adjustIndex(e,-1),i=_u(this._lContainer,n);return i&&Uf(Ly(this._lContainer),n)!=null?new Fs(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function FT(t){return t[Hf]}function Ly(t){return t[Hf]||(t[Hf]=[])}function fM(t,e){let n,i=e[t.index];return Mr(i)?n=i:(n=QA(i,e,null,t),e[t.index]=n,Op(e,n)),VU(n,e,t,i),new hM(n,t,e)}function LU(t,e){let n=t[bt],i=n.createComment(""),r=ci(e,t),o=FA(n,r);return Xf(n,o,i,CB(n,r),!1),i}var VU=UU,jU=()=>!1;function BU(t,e,n){return jU(t,e,n)}function UU(t,e,n,i){if(t[Rs])return;let r;n.type&8?r=Ki(i):r=LU(e,n),t[Rs]=r}var x_=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},T_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Vb(e,n).matches!==null&&this.queries[n].setDirty()}},ip=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=WU(e):this.predicate=e}},S_=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},A_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,zU(n,o)),this.matchTNodeWithReadOption(e,n,Ff(n,e,o,!1,!1))}else i===Ci?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ff(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===we||r===wn||r===Ci&&n.type&4)this.addMatch(n.index,-2);else{let o=Ff(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function zU(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function $U(t,e){return t.type&11?wc(t,e):t.type&4?Fp(t,e):null}function HU(t,e,n,i){return n===-1?$U(e,t):n===-2?qU(t,e,i):Os(t,t[Ce],n,e)}function qU(t,e,n){if(n===we)return wc(e,t);if(n===Ci)return Fp(e,t);if(n===wn)return fM(e,t)}function pM(t,e,n,i){let r=e[xr].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(HU(e,d,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function M_(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=pM(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=gn;f<d.length;f++){let m=d[f];m[Ms]===m[vn]&&M_(m[Ce],m,u,i)}if(d[lc]!==null){let f=d[lc];for(let m=0;m<f.length;m++){let g=f[m];M_(g[Ce],g,u,i)}}}}}return i}function Lb(t,e){return t[xr].queries[e].queryList}function mM(t,e,n){let i=new uc((n&4)===4);return jB(t,e,i,i.destroy),(e[xr]??=new T_).queries.push(new x_(i))-1}function GU(t,e,n){let i=dt();return i.firstCreatePass&&(vM(i,new ip(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),mM(i,ye(),e)}function gM(t,e,n,i){let r=dt();if(r.firstCreatePass){let o=tn();vM(r,new ip(e,n,i),o.index),KU(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return mM(r,ye(),n)}function WU(t){return t.split(",").map(e=>e.trim())}function vM(t,e,n){t.queries===null&&(t.queries=new S_),t.queries.track(new A_(e,n))}function KU(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function Vb(t,e){return t.queries.getByIndex(e)}function yM(t,e){let n=t[Ce],i=Vb(n,e);return i.crossesNgTemplate?M_(n,t,e,[]):pM(n,t,i,e)}var LT=new Set;function Ti(t){LT.has(t)||(LT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Lp(t){return typeof t=="function"&&t[Gn]!==void 0}function Us(t,e){Ti("NgSignals");let n=Nx(t),i=n[Gn];return e?.equal&&(i.equal=e.equal),n.set=r=>ef(i,r),n.update=r=>kx(i,r),n.asReadonly=QU.bind(n),n}function QU(){let t=this[Gn];if(t.readonlyFn===void 0){let e=()=>this();e[Gn]=t,t.readonlyFn=e}return t.readonlyFn}function _M(t){return Lp(t)&&typeof t.set=="function"}function bM(t,e){let n,i=ly(()=>{n._dirtyCounter();let r=JU(n,t);if(e&&r===void 0)throw new ae(-951,!1);return r});return n=i[Gn],n._dirtyCounter=Us(0),n._flatValue=void 0,i}function YU(){return bM(!0,!1)}function ZU(){return bM(!0,!0)}function XU(t,e){let n=t[Gn];n._lView=ye(),n._queryIndex=e,n._queryList=Lb(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function JU(t,e){let n=t._lView,i=t._queryIndex;if(n===void 0||i===void 0||n[be]&4)return e?void 0:An;let r=Lb(n,i),o=yM(n,i);return r.reset(o,lA),e?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}function VT(t,e){return YU()}function ez(t,e){return ZU()}var wM=(VT.required=ez,VT);function tz(t){return Object.getPrototypeOf(t.prototype).constructor}function Ot(t){let e=tz(t.type),n=!0,i=[t];for(;e;){let r;if(Tr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Af(t.inputs),s.inputTransforms=Af(t.inputTransforms),s.declaredInputs=Af(t.declaredInputs),s.outputs=Af(t.outputs);let a=r.hostBindings;a&&sz(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&rz(t,c),u&&oz(t,u),nz(t,r),UV(t.outputs,r.outputs),Tr(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ot&&(n=!1)}}e=Object.getPrototypeOf(e)}iz(i)}function nz(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function iz(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=gu(r.hostAttrs,n=gu(n,r.hostAttrs))}}function Af(t){return t===Dr?{}:t===An?[]:t}function rz(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function oz(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function sz(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function ree(t){let e=n=>{let i=(Array.isArray(t)?t:t()).map(r=>typeof r=="function"?{directive:an(r),inputs:Dr,outputs:Dr}:{directive:an(r.directive),inputs:jT(r.inputs),outputs:jT(r.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=EM,n.hostDirectives=i):n.hostDirectives.unshift(...i)};return e.ngInherit=!0,e}function EM(t,e,n){if(t.hostDirectives!==null)for(let i of t.hostDirectives){let r=ob(i.directive);az(r.declaredInputs,i.inputs),EM(r,e,n),n.set(r,i),e.push(r)}}function jT(t){if(t===void 0||t.length===0)return Dr;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function az(t,e){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],r=t[n];t[i]=r}}function En(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var vo=class{},bu=class{};var R_=class extends vo{constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new np(this);let o=yS(e);this._bootstrapComponents=AA(o.bootstrap),this._r3Injector=oA(e,n,[{provide:vo,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver},...i],Mn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},N_=class extends bu{constructor(e){super(),this.moduleType=e}create(e){return new R_(this.moduleType,e,[])}};var rp=class extends vo{constructor(e){super(),this.componentFactoryResolver=new np(this),this.instance=null;let n=new vu([...e.providers,{provide:vo,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],e.parent||vp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vp(t,e,n=null){return new rp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function IM(t){return jb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function jb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jp(t,e,n){return t[e]=n}function DM(t,e){return t[e]}function Yn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function op(t,e,n,i){let r=Yn(t,e,n);return Yn(t,e+1,i)||r}function BT(t,e,n,i,r,o){let s=op(t,e,n,i);return op(t,e+2,r,o)||s}function lz(t){return(t.flags&32)===32}function uz(t,e,n,i,r,o,s,a,c){let u=e.consts,d=Ec(e,t,4,s||null,a||null);Nb(e,n,d,mo(u,c)),xp(e,d);let f=d.tView=Rb(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function sp(t,e,n,i,r,o,s,a,c,u){let d=n+ln,f=e.firstCreatePass?uz(d,e,t,i,r,o,s,a,c):e.data[d];js(f,!1);let m=dz(e,t,f,n);Dp()&&Rp(e,t,m,f),go(m,t);let g=QA(m,t,m,f);return t[d]=g,Op(t,g),BU(g,f,t),bp(f)&&Ab(e,t,f),c!=null&&Mb(t,f,u),f}function st(t,e,n,i,r,o,s,a){let c=ye(),u=dt(),d=mo(u.consts,o);return sp(c,u,t,e,n,i,r,d,s,a),st}var dz=hz;function hz(t,e,n,i){return Cp(!0),e[bt].createComment("")}var nc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(nc||{}),CM=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),xs=class xs{constructor(){this.ngZone=L(te),this.scheduler=L(fc),this.errorHandler=L(Qi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of xs.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};xs.PHASES=[nc.EarlyRead,nc.Write,nc.MixedReadWrite,nc.Read],xs.\u0275prov=$({token:xs,providedIn:"root",factory:()=>new xs});var k_=xs,P_=class{constructor(e,n,i,r){this.impl=e,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ru(t,e){!e?.injector&&ab(Ru);let n=e?.injector??L(St);return MA(n)?(Ti("NgAfterRender"),xM(t,n,e,!1)):TM}function Pr(t,e){!e?.injector&&ab(Pr);let n=e?.injector??L(St);return MA(n)?(Ti("NgAfterNextRender"),xM(t,n,e,!0)):TM}function fz(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function xM(t,e,n,i){let r=e.get(CM);r.impl??=e.get(k_);let o=n?.phase??nc.MixedReadWrite,s=new P_(r.impl,fz(t,o),i,e.get(Tp));return r.impl.register(s),s}var TM={destroy(){}};function at(t,e,n,i){let r=ye(),o=bo();if(Yn(r,o,e)){let s=dt(),a=_c();eU(a,r,t,e,n,i)}return at}function Bb(t,e,n,i){return Yn(t,bo(),n)?e+Ss(n)+i:Un}function pz(t,e,n,i,r,o){let s=t2(),a=op(t,s,n,r);return pb(2),a?e+Ss(n)+i+Ss(r)+o:Un}function Mf(t,e){return t<<17|e<<2}function Vs(t){return t>>17&32767}function mz(t){return(t&2)==2}function gz(t,e){return t&131071|e<<17}function O_(t){return t|2}function mc(t){return(t&131068)>>2}function Vy(t,e){return t&-131069|e<<2}function vz(t){return(t&1)===1}function F_(t){return t|1}function yz(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Vs(s),c=mc(s);t[i]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Iu(f,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=Vs(t[a+1]);t[i+1]=Mf(m,a),m!==0&&(t[m+1]=Vy(t[m+1],i)),t[a+1]=gz(t[a+1],i)}else t[i+1]=Mf(a,0),a!==0&&(t[a+1]=Vy(t[a+1],i)),a=i;else t[i+1]=Mf(c,0),a===0?a=i:t[c+1]=Vy(t[c+1],i),c=i;u&&(t[i+1]=O_(t[i+1])),UT(t,d,i,!0),UT(t,d,i,!1),_z(e,d,t,i,o),s=Mf(a,c),o?e.classBindings=s:e.styleBindings=s}function _z(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Iu(o,e)>=0&&(n[i+1]=F_(n[i+1]))}function UT(t,e,n,i){let r=t[n+1],o=e===null,s=i?Vs(r):mc(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];bz(c,e)&&(a=!0,t[s+1]=i?F_(u):O_(u)),s=i?Vs(u):mc(u)}a&&(t[n+1]=i?O_(r):F_(r))}function bz(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Iu(t,e)>=0:!1}var Ii={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wz(t){return t.substring(Ii.key,Ii.keyEnd)}function Ez(t){return Iz(t),SM(t,AM(t,0,Ii.textEnd))}function SM(t,e){let n=Ii.textEnd;return n===e?-1:(e=Ii.keyEnd=Dz(t,Ii.key=e,n),AM(t,e,n))}function Iz(t){Ii.key=0,Ii.keyEnd=0,Ii.value=0,Ii.valueEnd=0,Ii.textEnd=t.length}function AM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Dz(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ht(t,e,n){let i=ye(),r=bo();if(Yn(i,r,e)){let o=dt(),s=_c();Su(o,s,i,t,e,i[bt],n,!1)}return ht}function L_(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";kb(t,n,o[s],s,i)}function Ub(t,e,n){return RM(t,e,n,!1),Ub}function ft(t,e){return RM(t,e,null,!0),ft}function zb(t){NM(Mz,MM,t,!0)}function MM(t,e){for(let n=Ez(e);n>=0;n=SM(e,n))mp(t,wz(e),!0)}function RM(t,e,n,i){let r=ye(),o=dt(),s=pb(2);if(o.firstUpdatePass&&PM(o,t,s,i),e!==Un&&Yn(r,s,e)){let a=o.data[Rr()];OM(o,a,r,r[bt],t,r[s+1]=Nz(e,n),i,s)}}function NM(t,e,n,i){let r=dt(),o=pb(2);r.firstUpdatePass&&PM(r,null,o,i);let s=ye();if(n!==Un&&Yn(s,o,n)){let a=r.data[Rr()];if(FM(a,i)&&!kM(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=$y(c,n||"")),L_(r,a,s,n,i)}else Rz(r,a,s,s[bt],s[o+1],s[o+1]=Az(t,e,n),i,o)}}function kM(t,e){return e>=t.expandoStartIndex}function PM(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[Rr()],s=kM(t,n);FM(o,i)&&e===null&&!s&&(e=!1),e=Cz(r,o,e,i),yz(r,o,e,n,s,i)}}function Cz(t,e,n,i){let r=mb(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=jy(null,t,e,n,i),n=wu(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=jy(r,t,e,n,i),o===null){let c=xz(t,e,i);c!==void 0&&Array.isArray(c)&&(c=jy(null,t,e,c[1],i),c=wu(c,e.attrs,i),Tz(t,e,i,c))}else o=Sz(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function xz(t,e,n){let i=n?e.classBindings:e.styleBindings;if(mc(i)!==0)return t[Vs(i)]}function Tz(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Vs(r)]=i}function Sz(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=wu(i,s,n)}return wu(i,e.attrs,n)}function jy(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=wu(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function wu(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mp(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Az(t,e,n){if(n==null||n==="")return An;let i=[],r=xi(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Mz(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&mp(t,i,n)}function Rz(t,e,n,i,r,o,s,a){r===Un&&(r=An);let c=0,u=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=c<r.length?r[c+1]:void 0,g=u<o.length?o[u+1]:void 0,_=null,D;d===f?(c+=2,u+=2,m!==g&&(_=f,D=g)):f===null||d!==null&&d<f?(c+=2,_=d):(u+=2,_=f,D=g),_!==null&&OM(t,e,n,i,_,D,s,a),d=c<r.length?r[c]:null,f=u<o.length?o[u]:null}}function OM(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=vz(u)?zT(c,e,n,r,mc(u),s):void 0;if(!ap(d)){ap(o)||mz(u)&&(o=zT(c,null,n,r,a,s));let f=NS(Rr(),n);RB(i,s,f,r,o)}}function zT(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[r+1];m===Un&&(m=f?An:void 0);let g=f?My(m,i):d===i?m:void 0;if(u&&!ap(g)&&(g=My(c,i)),ap(g)&&(a=g,s))return a;let _=t[r+1];r=s?Vs(_):mc(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=My(c,i))}return a}function ap(t){return t!==void 0}function Nz(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mn(xi(t)))),t}function FM(t,e){return(t.flags&(e?8:16))!==0}function LM(t,e,n){let i=ye(),r=Bb(i,t,e,n);NM(mp,MM,r,!0)}var V_=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function By(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function kz(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),d=e[o],f=By(o,u,o,d,n);if(f!==0){f<0&&t.updateValue(o,d),o++;continue}let m=t.at(s),g=e[c],_=By(s,m,c,g,n);if(_!==0){_<0&&t.updateValue(s,g),s--,c--;continue}let D=n(o,u),I=n(s,m),k=n(o,d);if(Object.is(k,I)){let G=n(c,g);Object.is(G,D)?(t.swap(o,s),t.updateValue(s,g),c--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(i??=new cp,r??=HT(t,o,s,n),j_(t,i,o,k))t.updateValue(o,d),o++,s++;else if(r.has(k))i.set(D,t.detach(o)),s--;else{let G=t.create(o,e[o]);t.attach(o,G),o++,s++}}for(;o<=c;)$T(t,i,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=t.at(o),f=u.value,m=By(o,d,o,f,n);if(m!==0)m<0&&t.updateValue(o,f),o++,u=c.next();else{i??=new cp,r??=HT(t,o,s,n);let g=n(o,f);if(j_(t,i,o,g))t.updateValue(o,f),o++,s++,u=c.next();else if(!r.has(g))t.attach(o,t.create(o,f)),o++,s++,u=c.next();else{let _=n(o,d);i.set(_,t.detach(o)),s--}}}for(;!u.done;)$T(t,i,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}function j_(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function $T(t,e,n,i,r){if(j_(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function HT(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var cp=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function ct(t,e){Ti("NgControlFlow");let n=ye(),i=bo(),r=n[i]!==Un?n[i]:-1,o=r!==-1?lp(n,ln+r):void 0,s=0;if(Yn(n,i,t)){let a=Ve(null);try{if(o!==void 0&&iM(o,s),t!==-1){let c=ln+t,u=lp(n,c),d=$_(n[Ce],c),f=hc(u,d.tView.ssrId),m=Au(n,d,e,{dehydratedView:f});Mu(u,m,s,dc(d,f))}}finally{Ve(a)}}else if(o!==void 0){let a=nM(o,s);a!==void 0&&(a[mn]=e)}}var B_=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-gn}};function VM(t,e){return e}var U_=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function jM(t,e,n,i,r,o,s,a,c,u,d,f,m){Ti("NgControlFlow");let g=ye(),_=dt(),D=c!==void 0,I=ye(),k=a?s.bind(I[Qn][mn]):s,G=new U_(D,k);I[ln+t]=G,sp(g,_,t+1,e,n,i,r,mo(_.consts,o)),D&&sp(g,_,t+2,c,u,d,f,mo(_.consts,m))}var z_=class extends V_{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-gn}at(e){return this.getLView(e)[mn].$implicit}attach(e,n){let i=n[ac];this.needsIndexUpdate||=e!==this.length,Mu(this.lContainer,n,e,dc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Pz(this.lContainer,e)}create(e,n){let i=hc(this.lContainer,this.templateTNode.tView.ssrId),r=Au(this.hostLView,this.templateTNode,new B_(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Mp(e[Ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[mn].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[mn].$index=e}getLView(e){return Oz(this.lContainer,e)}};function BM(t){let e=Ve(null),n=Rr();try{let i=ye(),r=i[Ce],o=i[n],s=n+1,a=lp(i,s);if(o.liveCollection===void 0){let u=$_(r,s);o.liveCollection=new z_(a,i,u)}else o.liveCollection.reset();let c=o.liveCollection;if(kz(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=bo(),d=c.length===0;if(Yn(i,u,d)){let f=n+2,m=lp(i,f);if(d){let g=$_(r,f),_=hc(m,g.tView.ssrId),D=Au(i,g,void 0,{dehydratedView:_});Mu(m,D,0,dc(g,_))}else iM(m,0)}}}finally{Ve(e)}}function lp(t,e){return t[e]}function Pz(t,e){return _u(t,e)}function Oz(t,e){return nM(t,e)}function $_(t,e){return ub(t,e)}function Fz(t,e,n,i,r,o){let s=e.consts,a=mo(s,r),c=Ec(e,t,2,i,a);return Nb(e,n,c,mo(s,o)),c.attrs!==null&&tp(c,c.attrs,!1),c.mergedAttrs!==null&&tp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ve(t,e,n,i){let r=ye(),o=dt(),s=ln+t,a=r[bt],c=o.firstCreatePass?Fz(s,o,r,e,n,i):o.data[s],u=Lz(o,r,c,a,e,t);r[s]=u;let d=bp(c);return js(c,!0),UA(a,u,c),!lz(c)&&Dp()&&Rp(o,r,u,c),Kj()===0&&go(u,r),Qj(),d&&(Ab(o,r,c),Sb(o,c,r)),i!==null&&Mb(r,c),ve}function Se(){let t=tn();hb()?fb():(t=t.parent,js(t,!1));let e=t;Zj(e)&&Xj(),Yj();let n=dt();return n.firstCreatePass&&(xp(n,t),lb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&f2(e)&&L_(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&p2(e)&&L_(n,e,ye(),e.stylesWithoutHost,!1),Se}function lt(t,e,n,i){return ve(t,e,n,i),Se(),lt}var Lz=(t,e,n,i,r,o)=>(Cp(!0),RA(i,r,l2()));function Vz(t,e,n,i,r){let o=e.consts,s=mo(o,i),a=Ec(e,t,8,"ng-container",s);s!==null&&tp(a,s,!0);let c=mo(o,r);return Nb(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function UM(t,e,n){let i=ye(),r=dt(),o=t+ln,s=r.firstCreatePass?Vz(o,r,i,e,n):r.data[o];js(s,!0);let a=Bz(r,i,s,t);return i[o]=a,Dp()&&Rp(r,i,a,s),go(a,i),bp(s)&&(Ab(r,i,s),Sb(r,s,i)),n!=null&&Mb(i,s),UM}function zM(){let t=tn(),e=dt();return hb()?fb():(t=t.parent,js(t,!1)),e.firstCreatePass&&(xp(e,t),lb(t)&&e.queries.elementEnd(t)),zM}function jz(t,e,n){return UM(t,e,n),zM(),jz}var Bz=(t,e,n,i)=>(Cp(!0),vB(e[bt],""));function Si(){return ye()}function Ic(t,e,n){let i=ye(),r=bo();if(Yn(i,r,e)){let o=dt(),s=_c();Su(o,s,i,t,e,i[bt],n,!0)}return Ic}function Uz(t,e,n){let i=ye(),r=bo();if(Yn(i,r,e)){let o=dt(),s=_c(),a=mb(o.data),c=JA(a,s,i);Su(o,s,i,t,e,c,n,!0)}return Uz}var up="en-US";var zz=up;function $z(t){typeof t=="string"&&(zz=t.toLowerCase().replace(/_/g,"-"))}var Hz=(t,e,n)=>{};function pt(t,e,n,i){let r=ye(),o=dt(),s=tn();return $b(o,r,r[bt],s,t,e,i),pt}function qz(t,e){let n=tn(),i=ye(),r=dt(),o=mb(r.data),s=JA(o,n,i);return $b(r,i,s,n,t,e),qz}function Gz(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[$f],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function $b(t,e,n,i,r,o,s){let a=bp(i),u=t.firstCreatePass&&XA(t),d=e[mn],f=ZA(e),m=!0;if(i.type&3||s){let D=ci(i,e),I=s?s(D):D,k=f.length,G=s?K=>s(Ki(K[i.index])):i.index,H=null;if(!s&&a&&(H=Gz(t,e,r,i.index)),H!==null){let K=H.__ngLastListenerFn__||H;K.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,m=!1}else{o=GT(i,e,d,o),Hz(D,r,o);let K=n.listen(I,r,o);f.push(o,K),u&&u.push(r,G,k,k+1)}}else o=GT(i,e,d,o);let g=i.outputs,_;if(m&&g!==null&&(_=g[r])){let D=_.length;if(D)for(let I=0;I<D;I+=2){let k=_[I],G=_[I+1],ue=e[k][G].subscribe(o),ie=f.length;f.push(o,ue),u&&u.push(r,i.index,ie,-(ie+1))}}}function qT(t,e,n,i){let r=Ve(null);try{return Hi(6,e,n),n(i)!==!1}catch(o){return eM(t,o),!1}finally{Hi(7,e,n),Ve(r)}}function GT(t,e,n,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?_o(t.index,e):e;Ob(s,5);let a=qT(e,n,i,o),c=r.__ngNextListenerFn__;for(;c;)a=qT(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function et(t=1){return a2(t)}function Wz(t,e){let n=null,i=vj(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?pS(t,o,!0):bj(i,o))return r}return n}function ui(t){let e=ye()[Qn][Bn];if(!e.projection){let n=t?t.length:1,i=e.projection=cj(n,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?Wz(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function It(t,e=0,n,i,r,o){let s=ye(),a=dt(),c=i?t+1:null;c!==null&&sp(s,a,c,i,r,o,null,n);let u=Ec(a,ln+t,16,null,n||null);u.projection===null&&(u.projection=e),fb();let f=!s[ac]||jS();s[Qn][Bn].projection[u.projection]===null&&c!==null?Kz(s,a,c):f&&(u.flags&32)!==32&&AB(a,s,u)}function Kz(t,e,n){let i=ln+n,r=e.data[i],o=t[i],s=hc(o,r.tView.ssrId),a=Au(t,r,void 0,{dehydratedView:s});Mu(o,a,0,dc(r,s))}function Qz(t,e,n){return $M(t,"",e,"",n),Qz}function $M(t,e,n,i,r){let o=ye(),s=Bb(o,e,n,i);if(s!==Un){let a=dt(),c=_c();Su(a,c,o,t,s,o[bt],r,!1)}return $M}function Ai(t,e,n,i){gM(t,e,n,i)}function dn(t,e,n){GU(t,e,n)}function mt(t){let e=ye(),n=dt(),i=gb();Ip(i+1);let r=Vb(n,i);if(t.dirty&&Hj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=yM(e,i);t.reset(o,lA),t.notifyOnChanges()}return!0}return!1}function gt(){return Lb(ye(),gb())}function HM(t,e,n,i,r){XU(e,gM(t,n,i,r))}function qM(t=1){Ip(gb()+t)}function Yz(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function zs(t){let e=e2();return kS(e,ln+t)}function zn(t,e=""){let n=ye(),i=dt(),r=t+ln,o=i.firstCreatePass?Ec(i,r,1,e,null):i.data[r],s=Zz(i,n,o,e,t);n[r]=s,Dp()&&Rp(i,n,s,o),js(o,!1)}var Zz=(t,e,n,i,r)=>(Cp(!0),mB(e[bt],i));function er(t){return Io("",t,""),er}function Io(t,e,n){let i=ye(),r=Bb(i,t,e,n);return r!==Un&&tM(i,Rr(),r),Io}function Xz(t,e,n,i,r){let o=ye(),s=pz(o,t,e,n,i,r);return s!==Un&&tM(o,Rr(),s),Xz}function Jz(t,e,n){_M(e)&&(e=e());let i=ye(),r=bo();if(Yn(i,r,e)){let o=dt(),s=_c();Su(o,s,i,t,e,i[bt],n,!1)}return Jz}function oee(t,e){let n=_M(t);return n&&t.set(e),n}function e$(t,e){let n=ye(),i=dt(),r=tn();return $b(i,n,n[bt],r,t,e),e$}function t$(t,e,n){let i=dt();if(i.firstCreatePass){let r=Tr(t);H_(n,i.data,i.blueprint,r,!0),H_(e,i.data,i.blueprint,r,!1)}}function H_(t,e,n,i,r){if(t=an(t),Array.isArray(t))for(let o=0;o<t.length;o++)H_(t[o],e,n,i,r);else{let o=dt(),s=ye(),a=tn(),c=sc(t)?t:an(t.provide),u=DS(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(sc(t)||!t.multi){let g=new Ps(u,r,V),_=zy(c,e,r?d:d+m,f);_===-1?(i_(Qf(a,s),o,c),Uy(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{let g=zy(c,e,d+m,f),_=zy(c,e,d,d+m),D=g>=0&&n[g],I=_>=0&&n[_];if(r&&!I||!r&&!D){i_(Qf(a,s),o,c);let k=r$(r?i$:n$,n.length,r,i,u);!r&&I&&(n[_].providerFactory=k),Uy(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=GM(n[r?_:g],u,!r&&i);Uy(o,t,g>-1?g:_,k)}!r&&i&&I&&n[_].componentProviders++}}}function Uy(t,e,n,i){let r=sc(e),o=Rj(e);if(r||o){let c=(o?an(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function GM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zy(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function n$(t,e,n,i){return q_(this.multi,[])}function i$(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Os(n,n[Ce],this.providerFactory.index,i);o=a.slice(0,s),q_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],q_(r,o);return o}function q_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function r$(t,e,n,i,r){let o=new Ps(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,GM(o,r,i&&!n),o}function Ut(t,e=[]){return n=>{n.providersResolver=(i,r)=>t$(i,r?r(t):t,e)}}var o$=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=wS(!1,i.type),o=r.length>0?Vp([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(A(cn))});let t=e;return t})();function Zt(t){Ti("NgStandalone"),t.getStandaloneInjector=e=>e.get(o$).getOrCreateStandaloneInjector(t)}function see(t,e,n){let i=Du()+t,r=ye();return r[i]===Un?jp(r,i,n?e.call(n):e()):DM(r,i)}function aee(t,e,n,i){return KM(ye(),Du(),t,e,n,i)}function cee(t,e,n,i,r){return s$(ye(),Du(),t,e,n,i,r)}function lee(t,e,n,i,r,o,s,a,c,u,d){let f=Du()+t,m=ye(),g=BT(m,f,n,i,r,o);return BT(m,f+4,s,a,c,u)||g?jp(m,f+8,d?e.call(d,n,i,r,o,s,a,c,u):e(n,i,r,o,s,a,c,u)):DM(m,f+8)}function WM(t,e){let n=t[e];return n===Un?void 0:n}function KM(t,e,n,i,r,o){let s=e+n;return Yn(t,s,r)?jp(t,s+1,o?i.call(o,r):i(r)):WM(t,s+1)}function s$(t,e,n,i,r,o,s){let a=e+n;return op(t,a,r,o)?jp(t,a+2,s?i.call(s,r,o):i(r,o)):WM(t,a+2)}function uee(t,e){let n=dt(),i,r=t+ln;n.firstCreatePass?(i=a$(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=As(i.type,!0)),s,a=jn(V);try{let c=Kf(!1),u=o();return Kf(c),Yz(n,ye(),r,u),u}finally{jn(a)}}function a$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function dee(t,e,n){let i=t+ln,r=ye(),o=kS(r,i);return c$(r,i)?KM(r,Du(),e,o.transform,n,o):o.transform(n)}function c$(t,e){return t[Ce].data[e].pure}function QM(t,e){return Fp(t,e)}var Ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var Bp=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var YM=new B("");function Do(t){return!!t&&typeof t.then=="function"}function Hb(t){return!!t&&typeof t.subscribe=="function"}var Up=new B(""),ZM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=L(Up,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(Do(s))i.push(s);else if(Hb(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nu=new B("");function l$(){Rx(()=>{throw new ae(600,!1)})}function u$(t){return t.isBoundToModule}var d$=10;function h$(t,e,n){try{let i=n();return Do(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(k2),this.afterRenderManager=L(CM),this.zonelessEnabled=L(Fb),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=L(Nr).hasPendingTasks.pipe(ee(i=>!i)),this._injector=L(cn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof ep;if(!this._injector.get(ZM).done){let g=!o&&vS(i),_=!1;throw new ae(405,_)}let a;o?a=i:a=this._injector.get(Zi).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=u$(a)?void 0:this._injector.get(vo),u=r||a.selector,d=a.create(St.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(YM,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Lf(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ae(101,!1);let i=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ve(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(pc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<d$;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)f$(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>wp(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Lf(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Nu,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Lf(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ae(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f$(t,e,n,i){if(!n&&!wp(t))return;sM(t,e,n&&!i?0:1)}var G_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zp=(()=>{let e=class e{compileModuleSync(i){return new N_(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=yS(i),s=AA(o.declarations).reduce((a,c)=>{let u=Cr(c);return u&&a.push(new Ls(u)),a},[]);return new G_(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var p$=(()=>{let e=class e{constructor(){this.zone=L(te),this.changeDetectionScheduler=L(fc),this.applicationRef=L(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m$=new B("",{factory:()=>!1});function XM({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te(Me(U({},JM()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:oc,multi:!0,useFactory:()=>{let i=L(p$,{optional:!0});return()=>i.initialize()}},{provide:oc,multi:!0,useFactory:()=>{let i=L(g$);return()=>{i.initialize()}}},e===!0?{provide:uM,useValue:!0}:[],{provide:dM,useValue:n??sA}]}function hee(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=XM({ngZoneFactory:()=>{let r=JM(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ti("NgZone_CoalesceEvent"),new te(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return vc([{provide:m$,useValue:!0},{provide:Fb,useValue:!1},i])}function JM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var g$=(()=>{let e=class e{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=L(te),this.pendingTasks=L(Nr)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var v$=(()=>{let e=class e{constructor(){this.appRef=L(tr),this.taskService=L(Nr),this.ngZone=L(te),this.zonelessEnabled=L(Fb),this.disableScheduling=L(uM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(dM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof c_||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?wT:aA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y$(){return typeof $localize<"u"&&$localize.locale||up}var ku=new B("",{providedIn:"root",factory:()=>L(ku,Le.Optional|Le.SkipSelf)||y$()});var eR=new B("");function Rf(t){return!!t.platformInjector}function _$(t){let e=Rf(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Rf(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Qi,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Rf(t)){let o=()=>e.destroy(),s=t.platformInjector.get(eR);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Lf(t.allPlatformModules,t.moduleRef),r.unsubscribe()});return h$(i,n,()=>{let o=e.get(ZM);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ku,up);if($z(s||up),Rf(t)){let a=e.get(tr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return b$(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function b$(t,e){let n=t.injector.get(tr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ae(-403,!1);e.push(t)}var Vf=null;function w$(t=[],e){return St.create({name:e,providers:[{provide:gp,useValue:"platform"},{provide:eR,useValue:new Set([()=>Vf=null])},...t]})}function E$(t=[]){if(Vf)return Vf;let e=w$(t);return Vf=e,l$(),I$(e),e}function I$(t){t.get(Eb,null)?.forEach(n=>n())}function qb(){return!1}var zt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=D$;let t=e;return t})();function D$(t){return C$(tn(),ye(),(t&16)===16)}function C$(t,e,n){if(_p(t)&&!n){let i=_o(t.index,e);return new Fs(i,i)}else if(t.type&175){let i=e[Qn];return new Fs(i,e)}return null}var W_=class{constructor(){}supports(e){return IM(e)}create(e){return new K_(e)}},x$=(t,e)=>e,K_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||x$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<WT(i,r,o)?n:i,a=WT(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;d<=_&&_<u&&(o[m]=g+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!IM(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,cz(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Q_(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new dp),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new dp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Q_=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Y_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},dp=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Y_,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function WT(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Z_=class{constructor(){}supports(e){return e instanceof Map||jb(e)}create(){return new X_}},X_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||jb(e)))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new J_(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},J_=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function KT(){return new $p([new W_])}var $p=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||KT()),deps:[[e,new gc,new yo]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new ae(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:KT});let t=e;return t})();function QT(){return new Gb([new Z_])}var Gb=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||QT()),deps:[[e,new gc,new yo]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new ae(901,!1)}};e.\u0275prov=$({token:e,providedIn:"root",factory:QT});let t=e;return t})();function tR(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=E$(i),o=[XM({}),{provide:fc,useExisting:v$},...n||[]],s=new rp({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return _$({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var nR=new B("");function qe(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nr(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function Or(t,e){Ti("NgSignals");let n=ly(t);return e?.equal&&(n[Gn].equal=e.equal),n}function $n(t){let e=Ve(null);try{return t()}finally{Ve(e)}}var T$=new B("",{providedIn:"root",factory:()=>L(S$)}),S$=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>new eb});let t=e;return t})(),eb=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=L(Nr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},tb=class{constructor(e,n,i,r,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=Px(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Qi,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Wb(t,e){Ti("NgSignals"),!e?.injector&&ab(Wb);let n=e?.injector??L(St),i=e?.manualCleanup!==!0?n.get(Tp):null,r=new tb(n.get(T$),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get(zt,null,{optional:!0});return!o||!(o._lView[be]&8)?r.watcher.notify():(o._lView[kf]??=[]).push(r.watcher.notify),r}function fee(t,e){let n=Cr(t),i=e.elementInjector||vp();return new Ls(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function iR(t){let e=Cr(t);if(!e)return null;let n=new Ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lR=null;function Lr(){return lR}function uR(t){lR??=t}var Hp=class{};var Ee=new B(""),nw=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(M$),providedIn:"platform"});let t=e;return t})(),dR=new B(""),M$=(()=>{let e=class e extends nw{constructor(){super(),this._doc=L(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Lr().getBaseHref(this._doc)}onPopState(i){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function iw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function rR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Fr(t){return t&&t[0]!=="?"?"?"+t:t}var $s=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(rw),providedIn:"root"});let t=e;return t})(),hR=new B(""),rw=(()=>{let e=class e extends $s{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return iw(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Fr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Fr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Fr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(nw),A(hR,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fR=(()=>{let e=class e extends $s{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=iw(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Fr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(nw),A(hR,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Co=(()=>{let e=class e{constructor(i){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=k$(rR(oR(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Fr(r))}normalize(i){return e.stripTrailingSlash(N$(this._basePath,oR(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Fr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Fr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Fr,e.joinWithSlash=iw,e.stripTrailingSlash=rR,e.\u0275fac=function(r){return new(r||e)(A($s))},e.\u0275prov=$({token:e,factory:()=>R$(),providedIn:"root"});let t=e;return t})();function R$(){return new Co(A($s))}function N$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oR(t){return t.replace(/\/index.html$/,"")}function k$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function qp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Qb=/\s+/,sR=[],Gp=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=sR,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Qb):sR}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Qb):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Qb).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(V(we),V(Eo))},e.\u0275dir=ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Yb=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Oee=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Yb(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),aR(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);aR(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(wn),V(Ci),V($p))},e.\u0275dir=ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function aR(t,e){t.context.$implicit=e.item}var Fee=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Zb,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){cR("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){cR("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(wn),V(Ci))},e.\u0275dir=ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Zb=class{constructor(){this.$implicit=null,this.ngIf=null}};function cR(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mn(e)}'.`)}var Lee=(()=>{let e=class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[o,s]=i.split("."),a=o.indexOf("-")===-1?void 0:Yi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(V(we),V(Gb),V(Eo))},e.\u0275dir=ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),pR=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(i,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(V(wn))},e.\u0275dir=ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[yn]});let t=e;return t})();function P$(t,e){return new ae(2100,!1)}var Xb=class{createSubscription(e,n){return $n(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){$n(()=>e.unsubscribe())}},Jb=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},O$=new Jb,F$=new Xb,Vee=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(Do(i))return O$;if(Hb(i))return F$;throw P$(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(V(zt,16))},e.\u0275pipe=mS({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Hs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})(),ow="browser",L$="server";function sw(t){return t===ow}function xo(t){return t===L$}var mR=(()=>{let e=class e{};e.\u0275prov=$({token:e,providedIn:"root",factory:()=>sw(L(un))?new ew(L(Ee),window):new tw});let t=e;return t})(),ew=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=V$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function V$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var tw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Dc=class{};var Ou=class{},Kp=class{},Vr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cw=class{encodeKey(e){return vR(e)}encodeValue(e){return vR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function j$(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var B$=/%(\d[a-f0-9])/gi,U$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vR(t){return encodeURIComponent(t).replace(B$,(e,n)=>U$[n]??e)}function Wp(t){return`${t}`}var So=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=j$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Wp):[Wp(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Wp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var lw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function z$(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function _R(t){return typeof Blob<"u"&&t instanceof Blob}function bR(t){return typeof FormData<"u"&&t instanceof FormData}function $$(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Pu=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(z$(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Vr,this.context??=new lw,!this.params)this.params=new So,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yR(this.body)||_R(this.body)||bR(this.body)||$$(this.body)?this.body:this.body instanceof So?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bR(this.body)?null:_R(this.body)?this.body.type||null:yR(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof So?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new t(n,i,s,{params:d,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Ao=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ao||{}),Fu=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Vr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Qp=class t extends Fu{constructor(e={}){super(e),this.type=Ao.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lu=class t extends Fu{constructor(e={}){super(e),this.type=Ao.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},To=class extends Fu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},DR=200,H$=204;function aw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var q$=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Pu)s=i;else{let u;o.headers instanceof Vr?u=o.headers:u=new Vr(o.headers);let d;o.params&&(o.params instanceof So?d=o.params:d=new So({fromObject:o.params})),s=new Pu(i,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=ce(s).pipe(Ir(u=>this.handler.handle(u)));if(i instanceof Pu||o.observe==="events")return a;let c=a.pipe(We(u=>u instanceof Lu));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(ee(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new So().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,aw(o,r))}post(i,r,o={}){return this.request("POST",i,aw(o,r))}put(i,r,o={}){return this.request("PUT",i,aw(o,r))}};e.\u0275fac=function(r){return new(r||e)(A(Ou))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),G$=/^\)\]\}',?\n/,W$="X-Request-URL";function wR(t){if(t.url)return t.url;let e=W$.toLocaleLowerCase();return t.headers.get(e)}var K$=(()=>{let e=class e{constructor(){this.fetchImpl=L(uw,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=L(te)}handle(i){return new pe(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(dw,s=>r.error(new To({error:s}))),()=>o.abort()})}doRequest(i,r,o){return F(this,null,function*(){let s=this.createRequestInit(i),a;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,U({signal:r},s)));Q$(_),o.next({type:Ao.Sent}),a=yield _}catch(_){o.error(new To({error:_,status:_.status??0,statusText:_.statusText,url:i.urlWithParams,headers:_.headers}));return}let c=new Vr(a.headers),u=a.statusText,d=wR(a)??i.urlWithParams,f=a.status,m=null;if(i.reportProgress&&o.next(new Qp({headers:c,status:f,statusText:u,url:d})),a.body){let _=a.headers.get("content-length"),D=[],I=a.body.getReader(),k=0,G,H,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>F(this,null,function*(){for(;;){let{done:ie,value:E}=yield I.read();if(ie)break;if(D.push(E),k+=E.length,i.reportProgress){H=i.responseType==="text"?(H??"")+(G??=new TextDecoder).decode(E,{stream:!0}):void 0;let y=()=>o.next({type:Ao.DownloadProgress,total:_?+_:void 0,loaded:k,partialText:H});K?K.run(y):y()}}}));let ue=this.concatChunks(D,k);try{let ie=a.headers.get("Content-Type")??"";m=this.parseBody(i,ue,ie)}catch(ie){o.error(new To({error:ie,headers:new Vr(a.headers),status:a.status,statusText:a.statusText,url:wR(a)??i.urlWithParams}));return}}f===0&&(f=m?DR:0),f>=200&&f<300?(o.next(new Lu({body:m,headers:c,status:f,statusText:u,url:d})),o.complete()):o.error(new To({error:m,headers:c,status:f,statusText:u,url:d}))})}parseBody(i,r,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(r).replace(G$,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,a)=>r[s]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let s=i.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),s=0;for(let a of i)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),uw=class{};function dw(){}function Q$(t){t.then(dw,dw)}function Y$(t,e){return e(t)}function Z$(t,e,n){return(i,r)=>ai(n,()=>e(i,o=>t(o,r)))}var CR=new B(""),X$=new B(""),J$=new B("",{providedIn:"root",factory:()=>!0});var ER=(()=>{let e=class e extends Ou{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=L(Nr),this.contributeToStability=L(J$)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(CR),...this.injector.get(X$,[])]));this.chain=r.reduceRight((o,s)=>Z$(o,s,this.injector),Y$)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Es(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(A(Kp),A(cn))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();var e4=/^\)\]\}',?\n/;function t4(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var IR=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ae(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Be(r.\u0275loadImpl()):ce(null)).pipe(Je(()=>new pe(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((I,k)=>a.setRequestHeader(I,k.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let I=i.detectContentTypeHeader();I!==null&&a.setRequestHeader("Content-Type",I)}if(i.responseType){let I=i.responseType.toLowerCase();a.responseType=I!=="json"?I:"text"}let c=i.serializeBody(),u=null,d=()=>{if(u!==null)return u;let I=a.statusText||"OK",k=new Vr(a.getAllResponseHeaders()),G=t4(a)||i.url;return u=new Qp({headers:k,status:a.status,statusText:I,url:G}),u},f=()=>{let{headers:I,status:k,statusText:G,url:H}=d(),K=null;k!==H$&&(K=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=K?DR:0);let ue=k>=200&&k<300;if(i.responseType==="json"&&typeof K=="string"){let ie=K;K=K.replace(e4,"");try{K=K!==""?JSON.parse(K):null}catch(E){K=ie,ue&&(ue=!1,K={error:E,text:K})}}ue?(s.next(new Lu({body:K,headers:I,status:k,statusText:G,url:H||void 0})),s.complete()):s.error(new To({error:K,headers:I,status:k,statusText:G,url:H||void 0}))},m=I=>{let{url:k}=d(),G=new To({error:I,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});s.error(G)},g=!1,_=I=>{g||(s.next(d()),g=!0);let k={type:Ao.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(k.total=I.total),i.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),s.next(k)},D=I=>{let k={type:Ao.UploadProgress,loaded:I.loaded};I.lengthComputable&&(k.total=I.total),s.next(k)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",_),c!==null&&a.upload&&a.upload.addEventListener("progress",D)),a.send(c),s.next({type:Ao.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",_),c!==null&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(A(Dc))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),xR=new B(""),n4="XSRF-TOKEN",i4=new B("",{providedIn:"root",factory:()=>n4}),r4="X-XSRF-TOKEN",o4=new B("",{providedIn:"root",factory:()=>r4}),Yp=class{},s4=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=qp(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(un),A(i4))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function a4(t,e){let n=t.url.toLowerCase();if(!L(xR)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=L(Yp).getToken(),r=L(o4);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function Xee(...t){let e=[q$,IR,ER,{provide:Ou,useExisting:ER},{provide:Kp,useFactory:()=>L(K$,{optional:!0})??L(IR)},{provide:CR,useValue:a4,multi:!0},{provide:xR,useValue:!0},{provide:Yp,useClass:s4}];for(let n of t)e.push(...n.\u0275providers);return vc(e)}var pw=class extends Hp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mw=class t extends pw{static makeCurrent(){uR(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=c4();return n==null?null:l4(n)}resetBaseElement(){Vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qp(document.cookie,e)}},Vu=null;function c4(){return Vu=Vu||document.querySelector("base"),Vu?Vu.getAttribute("href"):null}function l4(t){return new URL(t,document.baseURI).pathname}var u4=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Zp=new B(""),MR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(A(Zp),A(te))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),ju=class{constructor(e){this._doc=e}},hw="ng-app-id",RR=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xo(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${hw}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(hw),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(hw,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(Cu),A(xu,8),A(un))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),fw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vw=/%COMP%/g,NR="%COMP%",d4=`_nghost-${NR}`,h4=`_ngcontent-${NR}`,f4=!0,p4=new B("",{providedIn:"root",factory:()=>f4});function m4(t){return h4.replace(vw,t)}function g4(t){return d4.replace(vw,t)}function kR(t,e){return e.map(n=>n.replace(vw,t))}var TR=(()=>{let e=class e{constructor(i,r,o,s,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=xo(c),this.defaultRenderer=new Bu(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gi.ShadowDom&&(r=Me(U({},r),{encapsulation:Gi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Xp?o.applyToHost(i):o instanceof Uu&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Gi.Emulated:s=new Xp(u,d,r,this.appId,f,a,c,m);break;case Gi.ShadowDom:return new gw(u,d,i,r,a,c,this.nonce,m);default:s=new Uu(u,d,r,f,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(A(MR),A(RR),A(Cu),A(p4),A(Ee),A(un),A(te),A(xu))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),Bu=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(fw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(SR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ae(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=fw[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=fw[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Yi.DashCase|Yi.Important)?e.style.setProperty(n,i,r&Yi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Yi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function SR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gw=class extends Bu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=kR(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uu=class extends Bu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?kR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xp=class extends Uu{constructor(e,n,i,r,o,s,a,c){let u=r+"-"+i.id;super(e,n,i,o,s,a,c,u),this.contentAttr=m4(u),this.hostAttr=g4(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},v4=(()=>{let e=class e extends ju{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),y4=(()=>{let e=class e extends ju{constructor(i){super(i),this.delegate=L(nR,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),AR=["alt","control","meta","shift"],_4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},b4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},w4=(()=>{let e=class e extends ju{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),AR.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let o=_4[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),AR.forEach(a=>{if(a!==o){let c=b4[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function yte(t,e){return tR(U({rootComponent:t},E4(e)))}function E4(t){return{appProviders:[...T4,...t?.providers??[]],platformProviders:x4}}function I4(){mw.makeCurrent()}function D4(){return new Qi}function C4(){return mA(document),document}var x4=[{provide:un,useValue:ow},{provide:Eb,useValue:I4,multi:!0},{provide:Ee,useFactory:C4,deps:[]}];var T4=[{provide:gp,useValue:"root"},{provide:Qi,useFactory:D4,deps:[]},{provide:Zp,useClass:v4,multi:!0,deps:[Ee,te,un]},{provide:Zp,useClass:w4,multi:!0,deps:[Ee]},{provide:Zp,useClass:y4,multi:!0},TR,RR,MR,{provide:pc,useExisting:TR},{provide:Dc,useClass:u4,deps:[]},[]];var PR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var S4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=A(A4),o},providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e extends S4{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Ji.NONE:return r;case Ji.HTML:return wo(r,"HTML")?xi(r):Db(this._doc,String(r)).toString();case Ji.STYLE:return wo(r,"Style")?xi(r):r;case Ji.SCRIPT:if(wo(r,"Script"))return xi(r);throw new ae(5200,!1);case Ji.URL:return wo(r,"URL")?xi(r):Ap(String(r));case Ji.RESOURCE_URL:if(wo(r,"ResourceURL"))return xi(r);throw new ae(5201,!1);default:throw new ae(5202,!1)}}bypassSecurityTrustHtml(i){return yA(i)}bypassSecurityTrustStyle(i){return _A(i)}bypassSecurityTrustScript(i){return bA(i)}bypassSecurityTrustUrl(i){return wA(i)}bypassSecurityTrustResourceUrl(i){return EA(i)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pe="primary",id=Symbol("RouteTitle"),Ew=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Mc(t){return new Ew(t)}function R4(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function N4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ir(t[n],e[n]))return!1;return!0}function ir(t,e){let n=t?Iw(t):void 0,i=e?Iw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!qR(t[r],e[r]))return!1;return!0}function Iw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function qR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function GR(t){return t.length>0?t[t.length-1]:null}function No(t){return Ka(t)?t:Do(t)?Be(Promise.resolve(t)):ce(t)}var k4={exact:KR,subset:QR},WR={exact:P4,subset:O4,ignored:()=>!0};function OR(t,e,n){return k4[n.paths](t.root,e.root,n.matrixParams)&&WR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function P4(t,e){return ir(t,e)}function KR(t,e,n){if(!Gs(t.segments,e.segments)||!tm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!KR(t.children[i],e.children[i],n))return!1;return!0}function O4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>qR(t[n],e[n]))}function QR(t,e,n){return YR(t,e,e.segments,n)}function YR(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Gs(r,n)||e.hasChildren()||!tm(r,n,i))}else if(t.segments.length===n.length){if(!Gs(t.segments,n)||!tm(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!QR(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Gs(t.segments,r)||!tm(t.segments,r,i)||!t.children[Pe]?!1:YR(t.children[Pe],e,o,i)}}function tm(t,e,n){return e.every((i,r)=>WR[n](t[r].parameters,i.parameters))}var Br=class{constructor(e=new Qe([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Mc(this.queryParams),this._queryParamMap}toString(){return V4.serialize(this)}},Qe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nm(this)}},qs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Mc(this.parameters),this._parameterMap}toString(){return XR(this)}};function F4(t,e){return Gs(t,e)&&t.every((n,i)=>ir(n.parameters,e[i].parameters))}function Gs(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function L4(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Pe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Pe&&(n=n.concat(e(r,i)))}),n}var rd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>new Rc,providedIn:"root"});let t=e;return t})(),Rc=class{parse(e){let n=new Cw(e);return new Br(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zu(e.root,!0)}`,i=U4(e.queryParams),r=typeof e.fragment=="string"?`#${j4(e.fragment)}`:"";return`${n}${i}${r}`}},V4=new Rc;function nm(t){return t.segments.map(e=>XR(e)).join("/")}function zu(t,e){if(!t.hasChildren())return nm(t);if(e){let n=t.children[Pe]?zu(t.children[Pe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Pe&&i.push(`${r}:${zu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=L4(t,(i,r)=>r===Pe?[zu(t.children[Pe],!1)]:[`${r}:${zu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Pe]!=null?`${nm(t)}/${n[0]}`:`${nm(t)}/(${n.join("//")})`}}function ZR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jp(t){return ZR(t).replace(/%3B/gi,";")}function j4(t){return encodeURI(t)}function Dw(t){return ZR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function im(t){return decodeURIComponent(t)}function FR(t){return im(t.replace(/\+/g,"%20"))}function XR(t){return`${Dw(t.path)}${B4(t.parameters)}`}function B4(t){return Object.entries(t).map(([e,n])=>`;${Dw(e)}=${Dw(n)}`).join("")}function U4(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Jp(n)}=${Jp(r)}`).join("&"):`${Jp(n)}=${Jp(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var z4=/^[^\/()?;#]+/;function yw(t){let e=t.match(z4);return e?e[0]:""}var $4=/^[^\/()?;=#]+/;function H4(t){let e=t.match($4);return e?e[0]:""}var q4=/^[^=?&#]+/;function G4(t){let e=t.match(q4);return e?e[0]:""}var W4=/^[^&#]+/;function K4(t){let e=t.match(W4);return e?e[0]:""}var Cw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Pe]=new Qe(e,n)),i}parseSegment(){let e=yw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new qs(im(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=H4(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=yw(this.remaining);r&&(i=r,this.capture(i))}e[im(n)]=im(i)}parseQueryParam(e){let n=G4(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=K4(this.remaining);s&&(i=s,this.capture(i))}let r=FR(n),o=FR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=yw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ae(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Pe]:new Qe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function JR(t){return t.segments.length>0?new Qe([],{[Pe]:t}):t}function eN(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=eN(r);if(i===Pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Qe(t.segments,e);return Q4(n)}function Q4(t){if(t.numberOfChildren===1&&t.children[Pe]){let e=t.children[Pe];return new Qe(t.segments.concat(e.segments),e.children)}return t}function Ku(t){return t instanceof Br}function Y4(t,e,n=null,i=null){let r=tN(t);return nN(r,e,n,i)}function tN(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new Qe(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=JR(i);return e??r}function nN(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return _w(r,r,r,n,i);let o=Z4(e);if(o.toRoot())return _w(r,r,new Qe([],{}),n,i);let s=X4(o,r,t),a=s.processChildren?qu(s.segmentGroup,s.index,o.commands):rN(s.segmentGroup,s.index,o.commands);return _w(r,s.segmentGroup,a,n,i)}function rm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qu(t){return typeof t=="object"&&t!=null&&t.outlets}function _w(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;t===e?s=n:s=iN(t,e,n);let a=JR(eN(s));return new Br(a,o,r)}function iN(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=iN(o,e,n)}),new Qe(t.segments,i)}var om=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&rm(i[0]))throw new ae(4003,!1);let r=i.find(Qu);if(r&&r!==GR(i))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Z4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new om(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new om(n,e,i)}var Tc=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function X4(t,e,n){if(t.isAbsolute)return new Tc(e,!0,0);if(!n)return new Tc(e,!1,NaN);if(n.parent===null)return new Tc(n,!0,0);let i=rm(t.commands[0])?0:1,r=n.segments.length-1+i;return J4(n,r,t.numberOfDoubleDots)}function J4(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ae(4005,!1);r=i.segments.length}return new Tc(i,!1,r-o)}function eH(t){return Qu(t[0])?t[0].outlets:{[Pe]:t}}function rN(t,e,n){if(t??=new Qe([],{}),t.segments.length===0&&t.hasChildren())return qu(t,e,n);let i=tH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Qe(t.segments.slice(0,i.pathIndex),{});return o.children[Pe]=new Qe(t.segments.slice(i.pathIndex),t.children),qu(o,0,r)}else return i.match&&r.length===0?new Qe(t.segments,{}):i.match&&!t.hasChildren()?xw(t,e,n):i.match?qu(t,0,r):xw(t,e,n)}function qu(t,e,n){if(n.length===0)return new Qe(t.segments,{});{let i=eH(n),r={};if(Object.keys(i).some(o=>o!==Pe)&&t.children[Pe]&&t.numberOfChildren===1&&t.children[Pe].segments.length===0){let o=qu(t.children[Pe],e,n);return new Qe(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=rN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Qe(t.segments,r)}}function tH(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(Qu(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!VR(c,u,s))return o;i+=2}else{if(!VR(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function xw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Qu(o)){let c=nH(o.outlets);return new Qe(i,c)}if(r===0&&rm(n[0])){let c=t.segments[e];i.push(new qs(c.path,LR(n[0]))),r++;continue}let s=Qu(o)?o.outlets[Pe]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&rm(a)?(i.push(new qs(s,LR(a))),r+=2):(i.push(new qs(s,{})),r++)}return new Qe(i,{})}function nH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=xw(new Qe([],{}),0,i))}),e}function LR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function VR(t,e,n){return t==n.path&&ir(e,n.parameters)}var Gu="imperative",nn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nn||{}),di=class{constructor(e,n){this.id=e,this.url=n}},Nc=class extends di{constructor(e,n,i="imperative",r=null){super(e,n),this.type=nn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ur=class extends di{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=nn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ei=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ei||{}),sm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sm||{}),jr=class extends di{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=nn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Mo=class extends di{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=nn.NavigationSkipped}},Yu=class extends di{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=nn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},am=class extends di{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=nn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tw=class extends di{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=nn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sw=class extends di{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=nn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Aw=class extends di{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=nn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mw=class extends di{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=nn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rw=class{constructor(e){this.route=e,this.type=nn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nw=class{constructor(e){this.route=e,this.type=nn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kw=class{constructor(e){this.snapshot=e,this.type=nn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pw=class{constructor(e){this.snapshot=e,this.type=nn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ow=class{constructor(e){this.snapshot=e,this.type=nn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fw=class{constructor(e){this.snapshot=e,this.type=nn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cm=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=nn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Zu=class{},kc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function iH(t,e){return t.providers&&!t._injector&&(t._injector=Vp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mi(t){return t.outlet||Pe}function rH(t,e){let n=t.filter(i=>Mi(i)===e);return n.push(...t.filter(i=>Mi(i)!==e)),n}function od(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Lw=class{get injector(){return od(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new sd(this.rootInjector),this.attachRef=null}},sd=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Lw(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(A(cn))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vw(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Vw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return jw(e,this._root).map(n=>n.value)}};function Vw(t,e){if(t===e.value)return e;for(let n of e.children){let i=Vw(t,n);if(i)return i}return null}function jw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=jw(t,n);if(i.length)return i.unshift(e),i}return[]}var Jn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var um=class extends lm{constructor(e,n){super(e),this.snapshot=n,Kw(this,e)}toString(){return this.snapshot.toString()}};function oN(t){let e=oH(t),n=new Qt([new qs("",{})]),i=new Qt({}),r=new Qt({}),o=new Qt({}),s=new Qt(""),a=new Ws(n,i,o,s,r,Pe,t,e.root);return a.snapshot=e.root,new um(new Jn(a,[]),e)}function oH(t){let e={},n={},i={},r="",o=new Sc([],e,i,r,n,Pe,t,null,{});return new hm("",new Jn(o,[]))}var Ws=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[id]))??ce(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Mc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Mc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dm(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),r?.data),t._resolvedData)}:i={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},r&&aN(r)&&(i.resolve[id]=r.title),i}var Sc=class{get title(){return this.data?.[id]}constructor(e,n,i,r,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},hm=class extends lm{constructor(e,n){super(n),this.url=e,Kw(this,n)}toString(){return sN(this._root)}};function Kw(t,e){e.value._routerState=t,e.children.forEach(n=>Kw(t,n))}function sN(t){let e=t.children.length>0?` { ${t.children.map(sN).join(", ")} } `:"";return`${t.value}${e}`}function bw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ir(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ir(e.params,n.params)||t.paramsSubject.next(n.params),N4(e.url,n.url)||t.urlSubject.next(n.url),ir(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bw(t,e){let n=ir(t.params,e.params)&&F4(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Bw(t.parent,e.parent))}function aN(t){return typeof t.title=="string"||t.title===null}var sH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=L(sd),this.location=L(wn),this.changeDetector=L(zt),this.inputBinder=L(gm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Uw(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]});let t=e;return t})(),Uw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ws?this.route:e===sd?this.childContexts:this.parent.get(e,n)}},gm=new B(""),jR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=wr([r.queryParams,r.params,r.data]).pipe(Je(([s,a,c],u)=>(c=U(U(U({},s),a),c),u===0?ce(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=iR(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function aH(t,e,n){let i=Xu(t,e._root,n?n._root:void 0);return new um(i,e)}function Xu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=cH(t,e,n);return new Jn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xu(t,a)),s}}let i=lH(e.value),r=e.children.map(o=>Xu(t,o));return new Jn(i,r)}}function cH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Xu(t,i,r);return Xu(t,i)})}function lH(t){return new Ws(new Qt(t.url),new Qt(t.params),new Qt(t.queryParams),new Qt(t.fragment),new Qt(t.data),t.outlet,t.component,t)}var Ju=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},cN="ngNavigationCancelingError";function fm(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ku(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=lN(!1,ei.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function lN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[cN]=!0,n.cancellationCode=e,n}function uH(t){return uN(t)&&Ku(t.url)}function uN(t){return!!t&&t[cN]}var dH=(t,e,n,i)=>ee(r=>(new zw(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),zw=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),bw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=xc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=xc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=xc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=xc(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Fw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Pw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(bw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},pm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ac=class{constructor(e,n){this.component=e,this.route=n}};function hH(t,e,n){let i=t._root,r=e?e._root:null;return $u(i,r,n,[i.value])}function fH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Oc(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!tS(t)?t:e.get(t):i}function $u(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xc(e);return t.children.forEach(s=>{pH(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Wu(a,n.getContext(s),r)),r}function pH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=mH(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new pm(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$u(t,e,a?a.children:null,i,r):$u(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ac(a.outlet.component,s))}else s&&Wu(e,a,r),r.canActivateChecks.push(new pm(i)),o.component?$u(t,null,a?a.children:null,i,r):$u(t,null,n,i,r);return r}function mH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(t.url,e.url)||!ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bw(t,e)||!ir(t.queryParams,e.queryParams);case"paramsChange":default:return!Bw(t,e)}}function Wu(t,e,n){let i=xc(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Wu(s,e.children.getContext(o),n):Wu(s,null,n):Wu(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ac(e.outlet.component,r)):n.canDeactivateChecks.push(new Ac(null,r)):n.canDeactivateChecks.push(new Ac(null,r))}function ad(t){return typeof t=="function"}function gH(t){return typeof t=="boolean"}function vH(t){return t&&ad(t.canLoad)}function yH(t){return t&&ad(t.canActivate)}function _H(t){return t&&ad(t.canActivateChild)}function bH(t){return t&&ad(t.canDeactivate)}function wH(t){return t&&ad(t.canMatch)}function dN(t){return t instanceof br||t?.name==="EmptyError"}var em=Symbol("INITIAL_VALUE");function Pc(){return Je(t=>wr(t.map(e=>e.pipe(Vn(1),Kn(em)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===em)return em;if(n===!1||EH(n))return n}return!0}),We(e=>e!==em),Vn(1)))}function EH(t){return Ku(t)||t instanceof Ju}function IH(t,e){return Rt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ce(Me(U({},n),{guardsResult:!0})):DH(s,i,r,t).pipe(Rt(a=>a&&gH(a)?CH(i,o,t,e):ce(a)),ee(a=>Me(U({},n),{guardsResult:a})))})}function DH(t,e,n,i){return Be(t).pipe(Rt(r=>MH(r.component,r.route,n,e,i)),Wn(r=>r!==!0,!0))}function CH(t,e,n,i){return Be(e).pipe(Ir(r=>ao(TH(r.route.parent,i),xH(r.route,i),AH(t,r.path,n),SH(t,r.route,n))),Wn(r=>r!==!0,!0))}function xH(t,e){return t!==null&&e&&e(new Ow(t)),ce(!0)}function TH(t,e){return t!==null&&e&&e(new kw(t)),ce(!0)}function SH(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ce(!0);let r=i.map(o=>Qa(()=>{let s=od(e)??n,a=Oc(o,s),c=yH(a)?a.canActivate(e,t):ai(s,()=>a(e,t));return No(c).pipe(Wn())}));return ce(r).pipe(Pc())}function AH(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>fH(s)).filter(s=>s!==null).map(s=>Qa(()=>{let a=s.guards.map(c=>{let u=od(s.node)??n,d=Oc(c,u),f=_H(d)?d.canActivateChild(i,t):ai(u,()=>d(i,t));return No(f).pipe(Wn())});return ce(a).pipe(Pc())}));return ce(o).pipe(Pc())}function MH(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let c=od(e)??r,u=Oc(a,c),d=bH(u)?u.canDeactivate(t,e,n,i):ai(c,()=>u(t,e,n,i));return No(d).pipe(Wn())});return ce(s).pipe(Pc())}function RH(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ce(!0);let o=r.map(s=>{let a=Oc(s,t),c=vH(a)?a.canLoad(e,n):ai(t,()=>a(e,n));return No(c)});return ce(o).pipe(Pc(),hN(i))}function hN(t){return au(Nt(e=>{if(typeof e!="boolean")throw fm(t,e)}),ee(e=>e===!0))}function NH(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ce(!0);let o=r.map(s=>{let a=Oc(s,t),c=wH(a)?a.canMatch(e,n):ai(t,()=>a(e,n));return No(c)});return ce(o).pipe(Pc(),hN(i))}var ed=class{constructor(e){this.segmentGroup=e||null}},td=class extends Error{constructor(e){super(),this.urlTree=e}};function Cc(t){return Wa(new ed(t))}function kH(t){return Wa(new ae(4e3,!1))}function PH(t){return Wa(lN(!1,ei.GuardRejected))}var $w=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ce(i);if(r.numberOfChildren>1||!r.children[Pe])return kH(`${e.redirectTo}`);r=r.children[Pe]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:g,data:_,title:D}=r,I=ai(o,()=>a({params:g,data:_,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:D}));if(I instanceof Br)throw new td(I);n=I}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new td(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Br(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Qe(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new ae(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Hw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OH(t,e,n,i,r){let o=fN(t,e,n);return o.matched?(i=iH(e,i),NH(i,e,n,r).pipe(ee(s=>s===!0?o:U({},Hw)))):ce(o)}function fN(t,e,n){if(e.path==="**")return FH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Hw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||R4)(n,t,e);if(!r)return U({},Hw);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?U(U({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function FH(t){return{matched:!0,parameters:t.length>0?GR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BR(t,e,n,i){return n.length>0&&jH(t,n,i)?{segmentGroup:new Qe(e,VH(i,new Qe(n,t.children))),slicedSegments:[]}:n.length===0&&BH(t,n,i)?{segmentGroup:new Qe(t.segments,LH(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Qe(t.segments,t.children),slicedSegments:n}}function LH(t,e,n,i){let r={};for(let o of n)if(vm(t,e,o)&&!i[Mi(o)]){let s=new Qe([],{});r[Mi(o)]=s}return U(U({},i),r)}function VH(t,e){let n={};n[Pe]=e;for(let i of t)if(i.path===""&&Mi(i)!==Pe){let r=new Qe([],{});n[Mi(i)]=r}return n}function jH(t,e,n){return n.some(i=>vm(t,e,i)&&Mi(i)!==Pe)}function BH(t,e,n){return n.some(i=>vm(t,e,i))}function vm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function UH(t,e,n){return e.length===0&&!t.children[n]}var qw=class{};function zH(t,e,n,i,r,o,s="emptyOnly"){return new Gw(t,e,n,i,r,s,o).recognize()}var $H=31,Gw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $w(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=BR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:i})=>{let r=new Jn(i,n),o=new hm("",r),s=Y4(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Sc([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pe,n).pipe(ee(i=>({children:i,rootSnapshot:n})),Er(i=>{if(i instanceof td)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ed?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(ee(s=>s instanceof Jn?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Be(o).pipe(Ir(s=>{let a=i.children[s],c=rH(n,s);return this.processSegmentGroup(e,c,a,s,r)}),Is((s,a)=>(s.push(...a),s)),co(null),xy(),Rt(s=>{if(s===null)return Cc(i);let a=pN(s);return HH(a),ce(a)}))}processSegment(e,n,i,r,o,s,a){return Be(n).pipe(Ir(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s,a).pipe(Er(u=>{if(u instanceof ed)return ce(null);throw u}))),Wn(c=>!!c),Er(c=>{if(dN(c))return UH(i,r,o)?ce(new qw):Cc(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,c){return Mi(i)!==s&&(s===Pe||!vm(r,o,i))?Cc(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,c):Cc(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=fN(n,r,o);if(!c)return Cc(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$H&&(this.allowRedirects=!1));let g=new Sc(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,UR(r),Mi(r),r.component??r._loadedComponent??null,r,zR(r)),_=dm(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let D=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(r,D).pipe(Rt(I=>this.processSegment(e,i,n,I.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=OH(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Je(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Je(({routes:u})=>{let d=i._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=c,_=new Sc(m,f,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,UR(i),Mi(i),i.component??i._loadedComponent??null,i,zR(i)),D=dm(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(D.params),_.data=Object.freeze(D.data);let{segmentGroup:I,slicedSegments:k}=BR(n,m,g,u);if(k.length===0&&I.hasChildren())return this.processChildren(d,u,I,_).pipe(ee(H=>new Jn(_,H)));if(u.length===0&&k.length===0)return ce(new Jn(_,[]));let G=Mi(i)===o;return this.processSegment(d,u,I,k,G?Pe:o,!0,_).pipe(ee(H=>new Jn(_,H instanceof Jn?[H]:[])))}))):Cc(n)))}getChildConfig(e,n,i){return n.children?ce({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ce({routes:n._loadedRoutes,injector:n._loadedInjector}):RH(e,n,i,this.urlSerializer).pipe(Rt(r=>r?this.configLoader.loadChildren(e,n).pipe(Nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):PH(n))):ce({routes:[],injector:e})}};function HH(t){t.sort((e,n)=>e.value.outlet===Pe?-1:n.value.outlet===Pe?1:e.value.outlet.localeCompare(n.value.outlet))}function qH(t){let e=t.value.routeConfig;return e&&e.path===""}function pN(t){let e=[],n=new Set;for(let i of t){if(!qH(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=pN(i.children);e.push(new Jn(i.value,r))}return e.filter(i=>!n.has(i))}function UR(t){return t.data||{}}function zR(t){return t.resolve||{}}function GH(t,e,n,i,r,o){return Rt(s=>zH(t,e,n,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Me(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function WH(t,e){return Rt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ce(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of mN(c))s.add(u);let a=0;return Be(s).pipe(Ir(c=>o.has(c)?KH(c,i,t,e):(c.data=dm(c,c.parent,t).resolve,ce(void 0))),Nt(()=>a++),Za(1),Rt(c=>a===s.size?ce(n):Sn))})}function mN(t){let e=t.children.map(n=>mN(n)).flat();return[t,...e]}function KH(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!aN(r)&&(o[id]=r.title),QH(o,t,e,i).pipe(ee(s=>(t._resolvedData=s,t.data=dm(t,t.parent,n).resolve,null)))}function QH(t,e,n,i){let r=Iw(t);if(r.length===0)return ce({});let o={};return Be(r).pipe(Rt(s=>YH(t[s],e,n,i).pipe(Wn(),Nt(a=>{if(a instanceof Ju)throw fm(new Rc,a);o[s]=a}))),Za(1),Cy(o),Er(s=>dN(s)?Sn:Wa(s)))}function YH(t,e,n,i){let r=od(e)??i,o=Oc(t,r),s=o.resolve?o.resolve(e,n):ai(r,()=>o(e,n));return No(s)}function ww(t){return Je(e=>{let n=t(e);return n?Be(n).pipe(ee(()=>e)):ce(e)})}var gN=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Pe);return r}getResolvedTitleForRoute(i){return i.data[id]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(ZH),providedIn:"root"});let t=e;return t})(),ZH=(()=>{let e=class e extends gN{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(A(PR))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cd=new B("",{providedIn:"root",factory:()=>({})}),XH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Yt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zt],decls:1,vars:0,template:function(r,o){r&1&&lt(0,"router-outlet")},dependencies:[sH],encapsulation:2});let t=e;return t})();function Qw(t){let e=t.children&&t.children.map(Qw),n=e?Me(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Pe&&(n.component=XH),n}var nd=new B(""),Yw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(zp)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ce(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=No(i.loadComponent()).pipe(ee(vN),Nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Es(()=>{this.componentLoaders.delete(i)})),o=new ro(r,()=>new se).pipe(Ua());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=JH(r,this.compiler,i,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(r)})),a=new ro(s,()=>new se).pipe(Ua());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JH(t,e,n,i){return No(t.loadChildren()).pipe(ee(vN),Rt(r=>r instanceof bu||Array.isArray(r)?ce(r):Be(e.compileModuleAsync(r))),ee(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(nd,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qw),injector:o}}))}function eq(t){return t&&typeof t=="object"&&"default"in t}function vN(t){return eq(t)?t.default:t}var Zw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(tq),providedIn:"root"});let t=e;return t})(),tq=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yN=new B(""),_N=new B("");function nq(t,e,n){let i=t.get(_N),r=t.get(Ee);return t.get(te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),iq(t))),{onViewTransitionCreated:c}=i;return c&&ai(t,()=>c({transition:a,from:e,to:n})),s})}function iq(t){return new Promise(e=>{Pr({read:()=>setTimeout(e)},{injector:t})})}var rq=new B(""),Xw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=L(Yw),this.environmentInjector=L(cn),this.urlSerializer=L(rd),this.rootContexts=L(sd),this.location=L(Co),this.inputBindingEnabled=L(gm,{optional:!0})!==null,this.titleStrategy=L(gN),this.options=L(cd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Zw),this.createViewTransition=L(yN,{optional:!0}),this.navigationErrorHandler=L(rq,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ce(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Rw(o)),r=o=>this.events.next(new Nw(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Me(U(U({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Qt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(We(s=>s.id!==0),ee(s=>Me(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Je(s=>{let a=!1,c=!1;return ce(s).pipe(Je(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ei.SupersededByNewNavigation),Sn;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new Mo(u.id,this.urlSerializer.serialize(u.rawUrl),m,sm.IgnoredSameUrlNavigation)),u.resolve(!1),Sn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ce(u).pipe(Je(m=>{let g=this.transitions?.getValue();return this.events.next(new Nc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?Sn:Promise.resolve(m)}),GH(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Nt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Me(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new am(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:g,source:_,restoredState:D,extras:I}=u,k=new Nc(m,this.urlSerializer.serialize(g),_,D);this.events.next(k);let G=oN(this.rootComponentType).snapshot;return this.currentTransition=s=Me(U({},u),{targetSnapshot:G,urlAfterRedirects:g,extras:Me(U({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ce(s)}else{let m="";return this.events.next(new Mo(u.id,this.urlSerializer.serialize(u.extractedUrl),m,sm.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Sn}}),Nt(u=>{let d=new Tw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ee(u=>(this.currentTransition=s=Me(U({},u),{guards:hH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),IH(this.environmentInjector,u=>this.events.next(u)),Nt(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw fm(this.urlSerializer,u.guardsResult);let d=new Sw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),We(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ei.GuardRejected),!1)),ww(u=>{if(u.guards.canActivateChecks.length)return ce(u).pipe(Nt(d=>{let f=new Aw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Je(d=>{let f=!1;return ce(d).pipe(WH(this.paramsInheritanceStrategy,this.environmentInjector),Nt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",ei.NoDataFromResolver)}}))}),Nt(d=>{let f=new Mw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),ww(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(Nt(g=>{f.component=g}),ee(()=>{})));for(let g of f.children)m.push(...d(g));return m};return wr(d(u.targetSnapshot.root)).pipe(co(null),Vn(1))}),ww(()=>this.afterPreactivation()),Je(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Be(f).pipe(ee(()=>s)):ce(s)}),ee(u=>{let d=aH(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Me(U({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Nt(()=>{this.events.next(new Zu)}),dH(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Vn(1),Nt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ke(this.transitionAbortSubject.pipe(Nt(u=>{throw u}))),Es(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ei.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(u=>{if(c=!0,uN(u))this.events.next(new jr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),uH(u)?this.events.next(new kc(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Yu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=ai(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof Ju){let{message:m,cancellationCode:g}=fm(this.urlSerializer,f);this.events.next(new jr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,g)),this.events.next(new kc(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(u);s.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Sn}))}))}cancelNavigationTransition(i,r,o){let s=new jr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oq(t){return t!==Gu}var sq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(aq),providedIn:"root"});let t=e;return t})(),Ww=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},aq=(()=>{let e=class e extends Ww{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:()=>L(cq),providedIn:"root"});let t=e;return t})(),cq=(()=>{let e=class e extends bN{constructor(){super(...arguments),this.location=L(Co),this.urlSerializer=L(rd),this.options=L(cd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Zw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Nc)this.stateMemento=this.createStateMemento();else if(i instanceof Mo)this.rawUrlTree=r.initialUrl;else if(i instanceof am){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof Zu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof jr&&(i.code===ei.GuardRejected||i.code===ei.NoDataFromResolver)?this.restoreHistory(r):i instanceof Yu?this.restoreHistory(r,!0):i instanceof Ur&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof Br?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Hu||{});function wN(t,e){t.events.pipe(We(n=>n instanceof Ur||n instanceof jr||n instanceof Yu||n instanceof Mo),ee(n=>n instanceof Ur||n instanceof Mo?Hu.COMPLETE:(n instanceof jr?n.code===ei.Redirect||n.code===ei.SupersededByNewNavigation:!1)?Hu.REDIRECTING:Hu.FAILED),We(n=>n!==Hu.REDIRECTING),Vn(1)).subscribe(()=>{e()})}function lq(t){throw t}var uq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ro=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Bp),this.stateManager=L(bN),this.options=L(cd,{optional:!0})||{},this.pendingTasks=L(Nr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(Xw),this.urlSerializer=L(rd),this.location=L(Co),this.urlHandlingStrategy=L(Zw),this._events=new se,this.errorHandler=this.options.errorHandler||lq,this.navigated=!1,this.routeReuseStrategy=L(sq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(nd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(gm,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof jr&&r.code!==ei.Redirect&&r.code!==ei.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ur)this.navigated=!0;else if(r instanceof kc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u=U({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oq(o.source)},a);this.scheduleNavigation(c,Gu,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}fq(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=U({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Qw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=o?o.snapshot:this.routerState.snapshot.root;m=tN(g)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return nN(m,i,f,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Ku(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Gu,null,r)}navigate(i,r={skipLocationChange:!1}){return hq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=U({},uq):r===!1?o=U({},dq):o=r,Ku(i))return OR(this.currentUrlTree,i,o);let s=this.parseUrl(i);return OR(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,g)=>{c=m,u=g});let f=this.pendingTasks.add();return wN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}function fq(t){return!(t instanceof Zu)&&!(t instanceof kc)}var mm=class{};var pq=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(We(i=>i instanceof Ur),Ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Vp(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Be(o).pipe(so())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=ce(null);let s=o.pipe(Rt(a=>a===null?ce(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Be([s,a]).pipe(so())}else return s})}};e.\u0275fac=function(r){return new(r||e)(A(Ro),A(zp),A(cn),A(mm),A(Yw))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EN=new B(""),mq=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Nc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ur?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Mo&&i.code===sm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof cm&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cm(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){kp()},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})();function Lte(t,...e){return vc([{provide:nd,multi:!0,useValue:t},[],{provide:Ws,useFactory:IN,deps:[Ro]},{provide:Nu,multi:!0,useFactory:DN},e.map(n=>n.\u0275providers)])}function IN(t){return t.routerState.root}function ld(t,e){return{\u0275kind:t,\u0275providers:e}}function DN(){let t=L(St);return e=>{let n=t.get(tr);if(e!==n.components[0])return;let i=t.get(Ro),r=t.get(CN);t.get(Jw)===1&&i.initialNavigation(),t.get(xN,null,Le.Optional)?.setUpPreloading(),t.get(EN,null,Le.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var CN=new B("",{factory:()=>new se}),Jw=new B("",{providedIn:"root",factory:()=>1});function gq(){return ld(2,[{provide:Jw,useValue:0},{provide:Up,multi:!0,deps:[St],useFactory:e=>{let n=e.get(dR,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Ro),o=e.get(CN);wN(r,()=>{i(!0)}),e.get(Xw).afterPreactivation=()=>(i(!0),o.closed?ce(void 0):o),r.initialNavigation()}))}}])}function vq(){return ld(3,[{provide:Up,multi:!0,useFactory:()=>{let e=L(Ro);return()=>{e.setUpLocationChangeListener()}}},{provide:Jw,useValue:2}])}var xN=new B("");function yq(t){return ld(0,[{provide:xN,useExisting:pq},{provide:mm,useExisting:t}])}function _q(){return ld(8,[jR,{provide:gm,useExisting:jR}])}function bq(t){let e=[{provide:yN,useValue:nq},{provide:_N,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return ld(9,e)}var $R=new B("ROUTER_FORROOT_GUARD"),wq=[Co,{provide:rd,useClass:Rc},Ro,sd,{provide:Ws,useFactory:IN,deps:[Ro]},Yw,[]],Vte=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[wq,[],{provide:nd,multi:!0,useValue:i},{provide:$R,useFactory:Cq,deps:[[Ro,new yo,new gc]]},{provide:cd,useValue:r||{}},r?.useHash?Iq():Dq(),Eq(),r?.preloadingStrategy?yq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xq(r):[],r?.bindToComponentInputs?_q().\u0275providers:[],r?.enableViewTransitions?bq().\u0275providers:[],Tq()]}}static forChild(i){return{ngModule:e,providers:[{provide:nd,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(A($R,8))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();function Eq(){return{provide:EN,useFactory:()=>{let t=L(mR),e=L(te),n=L(cd),i=L(Xw),r=L(rd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new mq(r,i,t,e,n)}}}function Iq(){return{provide:$s,useClass:fR}}function Dq(){return{provide:$s,useClass:rw}}function Cq(t){return"guarded"}function xq(t){return[t.initialNavigation==="disabled"?vq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?gq().\u0275providers:[]]}var HR=new B("");function Tq(){return[{provide:HR,useFactory:DN},{provide:Nu,multi:!0,useExisting:HR}]}var PN=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(V(Eo),V(we))},e.\u0275dir=ge({type:e});let t=e;return t})(),ON=(()=>{let e=class e extends PN{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,features:[Ot]});let t=e;return t})(),i0=new B("");var Sq={provide:i0,useExisting:Zn(()=>FN),multi:!0};function Aq(){let t=Lr()?Lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Mq=new B(""),FN=(()=>{let e=class e extends PN{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Aq())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(V(Eo),V(we),V(Mq,8))},e.\u0275dir=ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&pt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ut([Sq]),Ot]});let t=e;return t})();function ko(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function LN(t){return t!=null&&typeof t.length=="number"}var Fo=new B(""),r0=new B(""),Rq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_m=class{static min(e){return VN(e)}static max(e){return jN(e)}static required(e){return BN(e)}static requiredTrue(e){return Nq(e)}static email(e){return kq(e)}static minLength(e){return UN(e)}static maxLength(e){return zN(e)}static pattern(e){return Pq(e)}static nullValidator(e){return bm(e)}static compose(e){return KN(e)}static composeAsync(e){return QN(e)}};function VN(t){return e=>{if(ko(e.value)||ko(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function jN(t){return e=>{if(ko(e.value)||ko(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function BN(t){return ko(t.value)?{required:!0}:null}function Nq(t){return t.value===!0?null:{required:!0}}function kq(t){return ko(t.value)||Rq.test(t.value)?null:{email:!0}}function UN(t){return e=>ko(e.value)||!LN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function zN(t){return e=>LN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Pq(t){if(!t)return bm;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(ko(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function bm(t){return null}function $N(t){return t!=null}function HN(t){return Do(t)?Be(t):t}function qN(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function GN(t,e){return e.map(n=>n(t))}function Oq(t){return!t.validate}function WN(t){return t.map(e=>Oq(e)?e:n=>e.validate(n))}function KN(t){if(!t)return null;let e=t.filter($N);return e.length==0?null:function(n){return qN(GN(n,e))}}function o0(t){return t!=null?KN(WN(t)):null}function QN(t){if(!t)return null;let e=t.filter($N);return e.length==0?null:function(n){let i=GN(n,e).map(HN);return Iy(i).pipe(ee(qN))}}function s0(t){return t!=null?QN(WN(t)):null}function TN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YN(t){return t._rawValidators}function ZN(t){return t._rawAsyncValidators}function e0(t){return t?Array.isArray(t)?t:[t]:[]}function wm(t,e){return Array.isArray(t)?t.includes(e):t===e}function SN(t,e){let n=e0(e);return e0(t).forEach(r=>{wm(n,r)||n.push(r)}),n}function AN(t,e){return e0(e).filter(n=>!wm(t,n))}var Em=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=s0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Po=class extends Em{get formDirective(){return null}get path(){return null}},Ks=class extends Em{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Im=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Fq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nne=Me(U({},Fq),{"[class.ng-submitted]":"isSubmitted"}),ine=(()=>{let e=class e extends Im{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(Ks,2))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ft("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ot]});let t=e;return t})(),rne=(()=>{let e=class e extends Im{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(Po,10))},e.\u0275dir=ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ft("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ot]});let t=e;return t})();var ud="VALID",ym="INVALID",Fc="PENDING",dd="DISABLED",Oo=class{},Dm=class extends Oo{constructor(e,n){super(),this.value=e,this.source=n}},fd=class extends Oo{constructor(e,n){super(),this.pristine=e,this.source=n}},pd=class extends Oo{constructor(e,n){super(),this.touched=e,this.source=n}},Lc=class extends Oo{constructor(e,n){super(),this.status=e,this.source=n}},t0=class extends Oo{constructor(e){super(),this.source=e}},n0=class extends Oo{constructor(e){super(),this.source=e}};function XN(t){return(Mm(t)?t.validators:t)||null}function Lq(t){return Array.isArray(t)?o0(t):t||null}function JN(t,e){return(Mm(e)?e.asyncValidators:t)||null}function Vq(t){return Array.isArray(t)?s0(t):t||null}function Mm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function jq(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new ae(1e3,"");if(!i[n])throw new ae(1001,"")}function Bq(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new ae(1002,"")})}var Cm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Or(()=>this.statusReactive()),this.statusReactive=Us(void 0),this._pristine=Or(()=>this.pristineReactive()),this.pristineReactive=Us(!0),this._touched=Or(()=>this.touchedReactive()),this.touchedReactive=Us(!1),this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return $n(this.statusReactive)}set status(e){$n(()=>this.statusReactive.set(e))}get valid(){return this.status===ud}get invalid(){return this.status===ym}get pending(){return this.status==Fc}get disabled(){return this.status===dd}get enabled(){return this.status!==dd}get pristine(){return $n(this.pristineReactive)}set pristine(e){$n(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return $n(this.touchedReactive)}set touched(e){$n(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AN(e,this._rawAsyncValidators))}hasValidator(e){return wm(this._rawValidators,e)}hasAsyncValidator(e){return wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Me(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new pd(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new pd(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Me(U({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new fd(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new fd(!0,i))}markAsPending(e={}){this.status=Fc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Me(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=dd,this.errors=null,this._forEachChild(r=>{r.disable(Me(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dm(this.value,i)),this._events.next(new Lc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ud,this._forEachChild(i=>{i.enable(Me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ud||this.status===Fc)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dm(this.value,n)),this._events.next(new Lc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Me(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dd:ud}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=HN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Lc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?dd:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(ym)?ym:ud}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new fd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new pd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Lq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vq(this._rawAsyncValidators)}},xm=class extends Cm{constructor(e,n,i){super(XN(n),JN(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Bq(this,!0,e),Object.keys(e).forEach(i=>{jq(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var md=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Rm}),Rm="always";function Uq(t,e){return[...e.path,t]}function Tm(t,e,n=Rm){a0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),$q(t,e),qq(t,e),Hq(t,e),zq(t,e)}function MN(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Am(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zq(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function a0(t,e){let n=YN(t);e.validator!==null?t.setValidators(TN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=ZN(t);e.asyncValidator!==null?t.setAsyncValidators(TN(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Sm(e._rawValidators,r),Sm(e._rawAsyncValidators,r)}function Am(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=YN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=ZN(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Sm(e._rawValidators,i),Sm(e._rawAsyncValidators,i),n}function $q(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ek(t,e)})}function Hq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ek(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ek(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qq(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function tk(t,e){t==null,a0(t,e)}function Gq(t,e){return Am(t,e)}function Wq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Kq(t){return Object.getPrototypeOf(t.constructor)===ON}function nk(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Qq(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===FN?n=o:Kq(o)?i=o:r=o}),r||i||n||null}function Yq(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Zq={provide:Po,useExisting:Zn(()=>c0)},hd=Promise.resolve(),c0=(()=>{let e=class e extends Po{get submitted(){return $n(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Or(()=>this.submittedReactive()),this.submittedReactive=Us(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new xm({},o0(i),s0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){hd.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Tm(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){hd.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){hd.then(()=>{let r=this._findContainer(i.path),o=new xm({});tk(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){hd.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){hd.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),nk(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(V(Fo,10),V(r0,10),V(md,8))},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&pt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([Zq]),Ot]});let t=e;return t})();function RN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ik=class extends Cm{constructor(e=null,n,i){super(XN(n),JN(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Xq=t=>t instanceof ik;var Jq={provide:Ks,useExisting:Zn(()=>eG)},kN=Promise.resolve(),eG=(()=>{let e=class e extends Ks{constructor(i,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new ik,this._registered=!1,this.name="",this.update=new Re,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Qq(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Wq(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Tm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){kN.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&qe(r);kN.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Uq(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(V(Po,9),V(Fo,10),V(r0,10),V(i0,10),V(zt,8),V(md,8))},e.\u0275dir=ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([Jq]),Ot,yn]});let t=e;return t})(),sne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),tG={provide:i0,useExisting:Zn(()=>nG),multi:!0},nG=(()=>{let e=class e extends ON{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&pt("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Ut([tG]),Ot]});let t=e;return t})();var iG=new B("");var rG={provide:Po,useExisting:Zn(()=>l0)},l0=(()=>{let e=class e extends Po{get submitted(){return $n(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Or(()=>this._submittedReactive()),this._submittedReactive=Us(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Am(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Tm(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){MN(i.control||null,i,!1),Yq(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),nk(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new t0(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new n0(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(MN(r||null,i),Xq(o)&&(Tm(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);tk(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Gq(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){a0(this.form,this),this._oldForm&&Am(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(V(Fo,10),V(r0,10),V(md,8))},e.\u0275dir=ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&pt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([rG]),Ot,yn]});let t=e;return t})();function rk(t){return typeof t=="number"?t:parseInt(t,10)}function ok(t){return typeof t=="number"?t:parseFloat(t)}var gd=(()=>{let e=class e{constructor(){this._validator=bm}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bm,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,features:[yn]});let t=e;return t})(),oG={provide:Fo,useExisting:Zn(()=>sG),multi:!0},sG=(()=>{let e=class e extends gd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=i=>ok(i),this.createValidator=i=>jN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&at("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[Ut([oG]),Ot]});let t=e;return t})(),aG={provide:Fo,useExisting:Zn(()=>cG),multi:!0},cG=(()=>{let e=class e extends gd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>ok(i),this.createValidator=i=>VN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&at("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Ut([aG]),Ot]});let t=e;return t})(),lG={provide:Fo,useExisting:Zn(()=>uG),multi:!0};var uG=(()=>{let e=class e extends gd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=qe,this.createValidator=i=>BN}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&at("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ut([lG]),Ot]});let t=e;return t})();var dG={provide:Fo,useExisting:Zn(()=>hG),multi:!0},hG=(()=>{let e=class e extends gd{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=i=>rk(i),this.createValidator=i=>UN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&at("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[Ut([dG]),Ot]});let t=e;return t})(),fG={provide:Fo,useExisting:Zn(()=>pG),multi:!0},pG=(()=>{let e=class e extends gd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=i=>rk(i),this.createValidator=i=>zN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=li(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&at("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ut([fG]),Ot]});let t=e;return t})();var sk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var ane=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:md,useValue:i.callSetDisabledState??Rm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[sk]});let t=e;return t})(),cne=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:iG,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:md,useValue:i.callSetDisabledState??Rm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[sk]});let t=e;return t})();var d0;try{d0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d0=!1}var tt=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?sw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||d0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(A(un))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vd;function gG(){if(vd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vd=!0}))}finally{vd=vd||!1}return vd}function Lo(t){return gG()?t:!!t.capture}var Ri=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Ri||{}),Nm,Qs;function km(){if(Qs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Qs=!1,Qs;if("scrollBehavior"in document.documentElement.style)Qs=!0;else{let t=Element.prototype.scrollTo;t?Qs=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Qs=!1}}return Qs}function Vc(){if(typeof document!="object"||!document)return Ri.NORMAL;if(Nm==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Nm=Ri.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Nm=t.scrollLeft===0?Ri.NEGATED:Ri.INVERTED),t.remove()}return Nm}var u0;function vG(){if(u0==null){let t=typeof document<"u"?document.head:null;u0=!!(t&&(t.createShadowRoot||t.attachShadow))}return u0}function ak(t){if(vG()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ck(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ti(t){return t.composedPath?t.composedPath()[0]:t.target}function yd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ni(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function jc(t){return t!=null&&`${t}`!="false"}function _d(t,e=0){return yG(t)?Number(t):arguments.length===2?e:0}function yG(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Bc(t){return Array.isArray(t)?t:[t]}function Ft(t){return t==null?"":typeof t=="string"?t:`${t}px`}function zr(t){return t instanceof we?t.nativeElement:t}var _G=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[_G]});let t=e;return t})();var lk=new Set,Ys,bG=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):EG}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&wG(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(A(tt),A(xu,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wG(t,e){if(!lk.has(t))try{Ys||(Ys=document.createElement("style"),e&&Ys.setAttribute("nonce",e),Ys.setAttribute("type","text/css"),document.head.appendChild(Ys)),Ys.sheet&&(Ys.sheet.insertRule(`@media ${t} {body{ }}`,0),lk.add(t))}catch(n){console.error(n)}}function EG(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var dk=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return uk(Bc(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=uk(Bc(i)).map(a=>this._registerQuery(a).observable),s=wr(o);return s=ao(s.pipe(Vn(1)),s.pipe(du(1),uu(0))),s.pipe(ee(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new pe(a=>{let c=u=>this._zone.run(()=>a.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Kn(r),ee(({matches:a})=>({query:i,matches:a})),Ke(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(A(bG),A(te))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uk(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Tne={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var vk=" ";function b0(t,e,n){let i=Vm(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(vk)))}function $m(t,e,n){let i=Vm(t,e);n=n.trim();let r=i.filter(o=>o!==n);r.length?t.setAttribute(e,r.join(vk)):t.removeAttribute(e)}function Vm(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var yk="cdk-describedby-message",Om="cdk-describedby-host",p0=0,_k=(()=>{let e=class e{constructor(i,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${p0++}`,this._document=i,this._id=L(Cu)+"-"+p0++}describe(i,r,o){if(!this._canBeDescribed(i,r))return;let s=h0(r,o);typeof r!="string"?(hk(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(i,s)||this._addMessageReference(i,s)}removeDescription(i,r,o){if(!r||!this._isElementNode(i))return;let s=h0(r,o);if(this._isElementDescribedByMessage(i,s)&&this._removeMessageReference(i,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let i=this._document.querySelectorAll(`[${Om}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(Om);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,r){let o=this._document.createElement("div");hk(o,this._id),o.textContent=i,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(h0(i,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;let i="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(i),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(i){let r=Vm(i,"aria-describedby").filter(o=>o.indexOf(yk)!=0);i.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(i,r){let o=this._messageRegistry.get(r);b0(i,"aria-describedby",o.messageElement.id),i.setAttribute(Om,this._id),o.referenceCount++}_removeMessageReference(i,r){let o=this._messageRegistry.get(r);o.referenceCount--,$m(i,"aria-describedby",o.messageElement.id),i.removeAttribute(Om)}_isElementDescribedByMessage(i,r){let o=Vm(i,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(i,r){if(!this._isElementNode(i))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=i.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h0(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function hk(t,e){t.id||(t.id=`${yk}-${e}-${p0++}`)}var FG=200,m0=class{constructor(e,n){this._letterKeyStream=new se,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new se,this.selectedItem=this._selectedItem;let i=typeof n?.debounceInterval=="number"?n.debounceInterval:FG;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let n=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Nt(n=>this._pressedLetters.push(n)),uu(e),We(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},jm=class{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Ue.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new se,this.change=new se,e instanceof uc?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Lp(e)&&(this._effectRef=Wb(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new m0(n,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){let n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Ni(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),i=typeof e=="number"?e:n.indexOf(e),r=n[i];this._activeItem=r??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+e*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=n,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Lp(this._items)?this._items():this._items instanceof uc?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}},Bm=class extends jm{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}},fk=class extends jm{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var LG=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return jG(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=VG(WG(i));if(r&&(pk(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=pk(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!qG(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return GG(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(A(tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VG(t){try{return t.frameElement}catch{return null}}function jG(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function BG(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function UG(t){return $G(t)&&t.type=="hidden"}function zG(t){return HG(t)&&t.hasAttribute("href")}function $G(t){return t.nodeName.toLowerCase()=="input"}function HG(t){return t.nodeName.toLowerCase()=="a"}function bk(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function pk(t){if(!bk(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function qG(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function GG(t){return UG(t)?!1:BG(t)||zG(t)||t.hasAttribute("contenteditable")||bk(t)}function WG(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var g0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1,s){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Pr(e,{injector:this._injector}):setTimeout(e)}},KG=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._injector=L(St),this._document=o}create(i,r=!1){return new g0(i,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(A(LG),A(te),A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qne=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}constructor(i,r,o){this._elementRef=i,this._focusTrapFactory=r,this._previouslyFocusedElement=null,L(tt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let r=i.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ck(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(r){return new(r||e)(V(we),V(KG),V(Ee))},e.\u0275dir=ge({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",qe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",qe]},exportAs:["cdkTrapFocus"],standalone:!0,features:[En,yn]});let t=e;return t})();function w0(t){return t.buttons===0||t.detail===0}function E0(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var QG=new B("cdk-input-modality-detector-options"),YG={ignoreKeys:[18,17,224,91,16]},wk=650,Uc=Lo({passive:!0,capture:!0}),ZG=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new Qt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ti(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<wk||(this._modality.next(w0(a)?"keyboard":"mouse"),this._mostRecentTarget=ti(a))},this._onTouchstart=a=>{if(E0(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ti(a)},this._options=U(U({},YG),s),this.modalityDetected=this._modality.pipe(du(1)),this.modalityChanged=this.modalityDetected.pipe(lo()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Uc),o.addEventListener("mousedown",this._onMousedown,Uc),o.addEventListener("touchstart",this._onTouchstart,Uc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uc),document.removeEventListener("mousedown",this._onMousedown,Uc),document.removeEventListener("touchstart",this._onTouchstart,Uc))}};e.\u0275fac=function(r){return new(r||e)(A(tt),A(te),A(Ee),A(QG,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XG=new B("liveAnnouncerElement",{providedIn:"root",factory:JG});function JG(){return null}var e8=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),t8=0,Ek=(()=>{let e=class e{constructor(i,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=i||this._createLiveElement()}announce(i,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",r=this._document.getElementsByClassName(i),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(i),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${t8++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(i){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(i)===-1&&s.setAttribute("aria-owns",a+" "+i):s.setAttribute("aria-owns",i)}}};e.\u0275fac=function(r){return new(r||e)(A(XG,8),A(te),A(Ee),A(e8,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Lm||{}),n8=new B("cdk-focus-monitor-default-options"),Fm=Lo({passive:!0,capture:!0}),bd=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se,this._rootNodeFocusAndBlurListener=c=>{let u=ti(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=a?.detectionMode||Lm.IMMEDIATE}monitor(i,r=!1){let o=zr(i);if(!this._platform.isBrowser||o.nodeType!==1)return ce();let s=ak(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new se,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=zr(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=zr(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Lm.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Lm.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?wk:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=ti(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Fm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Fm)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ke(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Fm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Fm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(A(te),A(tt),A(ZG),A(Ee,8),A(n8,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gne=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new Re}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(V(we),V(bd))},e.\u0275dir=ge({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),Zs=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Zs||{}),mk="cdk-high-contrast-black-on-white",gk="cdk-high-contrast-white-on-black",f0="cdk-high-contrast-active",I0=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=L(dk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zs.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zs.BLACK_ON_WHITE}return Zs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(f0,mk,gk),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Zs.BLACK_ON_WHITE?i.add(f0,mk):r===Zs.WHITE_ON_BLACK&&i.add(f0,gk)}}};e.\u0275fac=function(r){return new(r||e)(A(tt),A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ik=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(A(I0))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[Pm]});let t=e;return t})();var i8=new B("cdk-dir-doc",{providedIn:"root",factory:r8});function r8(){return L(Ee)}var o8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function s8(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?o8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ki=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Re,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=s8(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(A(i8,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var a8=["text"],c8=[[["mat-icon"]],"*"],l8=["mat-icon","*"];function u8(t,e){if(t&1&&lt(0,"mat-pseudo-checkbox",1),t&2){let n=et();ht("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function d8(t,e){if(t&1&&lt(0,"mat-pseudo-checkbox",3),t&2){let n=et();ht("disabled",n.disabled)}}function h8(t,e){if(t&1&&(ve(0,"span",4),zn(1),Se()),t&2){let n=et();De(),Io("(",n.group.label,")")}}var f8=["mat-internal-form-field",""],p8=["*"];var Eie=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),Iie=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function m8(){return!0}var g8=new B("mat-sanity-checks",{providedIn:"root",factory:m8}),rn=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return yd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(A(I0),A(g8,8),A(Ee))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[jo,jo]});let t=e;return t})();var qm=class{constructor(e,n,i,r,o){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var Dk=new B("MAT_DATE_LOCALE",{providedIn:"root",factory:v8});function v8(){return L(ku)}var Gm=class{constructor(){this._localeChanges=new se,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let i=this.isValid(e),r=this.isValid(n);return i&&r?!this.compareDate(e,n):i==r}return e==n}clampDate(e,n,i){return n&&this.compareDate(e,n)<0?n:i&&this.compareDate(e,i)>0?i:e}},y8=new B("mat-date-formats"),_8=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function C0(t,e){let n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}var b8=(()=>{let e=class e extends Gm{constructor(i){super(),this.useUtcForDisplay=!1,this._matDateLocale=L(Dk,{optional:!0}),i!==void 0&&(this._matDateLocale=i),super.setLocale(this._matDateLocale)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){let r=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return C0(12,o=>this._format(r,new Date(2017,o,1)))}getDateNames(){let i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return C0(31,r=>this._format(i,new Date(2017,0,r+1)))}getDayOfWeekNames(i){let r=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return C0(7,o=>this._format(r,new Date(2017,0,o+1)))}getYearName(i){let r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,r,o){let s=this._createDateWithOverflow(i,r,o);return s.getMonth()!=r,s}today(){return new Date}parse(i,r){return typeof i=="number"?new Date(i):i?new Date(Date.parse(i)):null}format(i,r){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,Me(U({},r),{timeZone:"utc"}));return this._format(o,i)}addCalendarYears(i,r){return this.addCalendarMonths(i,r*12)}addCalendarMonths(i,r){let o=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+r,this.getDate(i));return this.getMonth(o)!=((this.getMonth(i)+r)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(i,r){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+r)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if(typeof i=="string"){if(!i)return null;if(_8.test(i)){let r=new Date(i);if(this.isValid(r))return r}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,r,o){let s=new Date;return s.setFullYear(i,r,o),s.setHours(0,0,0,0),s}_2digit(i){return("00"+i).slice(-2)}_format(i,r){let o=new Date;return o.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),o.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),i.format(o)}};e.\u0275fac=function(r){return new(r||e)(A(Dk,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac});let t=e;return t})(),w8={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};var Die=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[E8()]});let t=e;return t})();function E8(t=w8){return[{provide:Gm,useClass:b8},{provide:y8,useValue:t}]}var kk=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[rn,rn]});let t=e;return t})(),hi=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(hi||{}),S0=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=hi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ck=Lo({passive:!0,capture:!0}),A0=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=ti(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Ck)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Ck)))}},xk={enterDuration:225,exitDuration:150},I8=800,Tk=Lo({passive:!0,capture:!0}),Sk=["mousedown","touchstart"],Ak=["mouseup","mouseleave","touchend","touchcancel"],Ed=class Ed{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=zr(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=U(U({},xk),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||D8(e,n,r),a=e-r.left,c=n-r.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,g=f.transitionDuration,_=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,D=new S0(this,d,i,_);d.style.transform="scale3d(1, 1, 1)",D.state=hi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=D);let I=null;return!_&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>{I&&(I.fallbackTimer=null),clearTimeout(H),this._finishRippleTransition(D)},G=()=>this._destroyRipple(D),H=setTimeout(G,u+100);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",G),I={onTransitionEnd:k,onTransitionCancel:G,fallbackTimer:H}}),this._activeRipples.set(D,I),(_||!u)&&this._finishRippleTransition(D),D}fadeOutRipple(e){if(e.state===hi.FADING_OUT||e.state===hi.HIDDEN)return;let n=e.element,i=U(U({},xk),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=hi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=zr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Sk.forEach(i=>{Ed._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ak.forEach(n=>{this._triggerElement.addEventListener(n,this,Tk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===hi.FADING_IN?this._startFadeOutTransition(e):e.state===hi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=hi.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=hi.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=w0(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+I8;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!E0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===hi.VISIBLE||e.config.terminateOnPointerUp&&e.state===hi.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Sk.forEach(n=>Ed._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(Ak.forEach(n=>e.removeEventListener(n,this,Tk)),this._pointerUpEventsRegistered=!1))}};Ed._eventManager=new A0;var M0=Ed;function D8(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var Pk=new B("mat-ripple-global-options"),Ok=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new M0(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:U(U(U({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,U(U({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,U(U({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(V(we),V(te),V(tt),V(Pk,8),V(Xn,8))},e.\u0275dir=ge({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&ft("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),N0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[rn,rn]});let t=e;return t})(),C8=(()=>{let e=class e{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(V(Xn,8))},e.\u0275cmp=Yt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&ft("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Zt],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),x8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[rn]});let t=e;return t})(),k0=new B("MAT_OPTION_PARENT_COMPONENT");var P0=new B("MatOptgroup");var T8=0,R0=class{constructor(e,n=!1){this.source=e,this.isUserInput=n}},Qm=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(i,r,o,s){this._element=i,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${T8++}`,this.onSelectionChange=new Re,this._stateChanges=new se}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,r){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!Ni(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new R0(this,i))}};e.\u0275fac=function(r){return new(r||e)(V(we),V(zt),V(k0,8),V(P0,8))},e.\u0275cmp=Yt({type:e,selectors:[["mat-option"]],viewQuery:function(r,o){if(r&1&&dn(a8,7),r&2){let s;mt(s=gt())&&(o._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&1&&pt("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),r&2&&(Ic("id",o.id),at("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),ft("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",qe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[En,Zt],ngContentSelectors:l8,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){r&1&&(ui(c8),st(0,u8,1,2,"mat-pseudo-checkbox",1),It(1),ve(2,"span",2,0),It(4,1),Se(),st(5,d8,1,1,"mat-pseudo-checkbox",3)(6,h8,2,1,"span",4),lt(7,"div",5)),r&2&&(ct(o.multiple?0:-1),De(5),ct(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),De(),ct(o.group&&o.group._inert?6:-1),De(),ht("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[C8,Ok],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function Fk(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let s=0;s<t+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function Lk(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}var O0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[N0,rn,x8]});let t=e;return t})(),Mk={capture:!0},Rk=["focus","mousedown","mouseenter","touchstart"],x0="mat-ripple-loader-uninitialized",T0="mat-ripple-loader-class-name",Nk="mat-ripple-loader-centered",Hm="mat-ripple-loader-disabled",Vk=(()=>{let e=class e{constructor(){this._document=L(Ee,{optional:!0}),this._animationMode=L(Xn,{optional:!0}),this._globalRippleOptions=L(Pk,{optional:!0}),this._platform=L(tt),this._ngZone=L(te),this._hosts=new Map,this._onInteraction=i=>{let r=ti(i);if(r instanceof HTMLElement){let o=r.closest(`[${x0}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of Rk)this._document?.addEventListener(i,this._onInteraction,Mk)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of Rk)this._document?.removeEventListener(r,this._onInteraction,Mk)}configureRipple(i,r){i.setAttribute(x0,this._globalRippleOptions?.namespace??""),(r.className||!i.hasAttribute(T0))&&i.setAttribute(T0,r.className||""),r.centered&&i.setAttribute(Nk,""),r.disabled&&i.setAttribute(Hm,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(Hm,""):i.removeAttribute(Hm)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(T0)),i.append(o);let s=new Ok(new we(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(Nk),s.disabled=i.hasAttribute(Hm),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(x0),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Yt({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&ft("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Zt],attrs:f8,ngContentSelectors:p8,decls:1,vars:0,template:function(r,o){r&1&&(ui(),It(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();var A8=["mat-button",""],M8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],R8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var N8=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var k8=["mat-icon-button",""],P8=["*"];var O8=new B("MAT_BUTTON_CONFIG");var F8=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],jk=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=L(bd),this._rippleLoader=L(Vk),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=L(O8,{optional:!0}),c=i.nativeElement,u=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:f}of F8)c.hasAttribute(d)&&u.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){kp()},e.\u0275dir=ge({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",qe],disabled:[2,"disabled","disabled",qe],ariaDisabled:[2,"aria-disabled","ariaDisabled",qe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",qe]},features:[En]});let t=e;return t})();var jie=(()=>{let e=class e extends jk{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(V(we),V(tt),V(te),V(Xn,8))},e.\u0275cmp=Yt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(at("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),zb(o.color?"mat-"+o.color:""),ft("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ot,Zt],attrs:A8,ngContentSelectors:R8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ui(M8),lt(0,"span",0),It(1),ve(2,"span",1),It(3,1),Se(),It(4,2),lt(5,"span",2)(6,"span",3)),r&2&&ft("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Bk=(()=>{let e=class e extends jk{constructor(i,r,o,s){super(i,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(r){return new(r||e)(V(we),V(tt),V(te),V(Xn,8))},e.\u0275cmp=Yt({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(at("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),zb(o.color?"mat-"+o.color:""),ft("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ot,Zt],attrs:k8,ngContentSelectors:P8,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ui(),lt(0,"span",0),It(1),lt(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N8],encapsulation:2,changeDetection:0});let t=e;return t})();var Uk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[rn,N0,rn]});let t=e;return t})();var zc=t=>t!=null&&t!="undefined",$k=t=>t==null||t==null,Uie=t=>t==null;function Hk(t){return t===null?!1:typeof t=="function"||typeof t=="object"}var zk=class{static isTypeDate(e){return zc(e)&&e.toString()=="Invalid Date"?!1:e instanceof Date?!isNaN(e.getTime()):!!new Date(e).getTime()}static getRandom(e){return Math.floor(Math.random()*Math.floor(e))}static generateRange(e,n){return Array.from({length:n-e+1},(i,r)=>r+e)}};var Ym=class{_target;constructor(e){this._target=new e}map(e){return Object.keys(this._target).forEach(n=>{let i=this._target.constructor[n];i?this._target[n]=e[i]:this._target[n]=e[n]}),Object.keys(e).forEach(n=>{Object.keys(this._target).indexOf(n)===-1&&(this._target[n]=e[n])}),this._target}};var L8="firebase",V8="10.13.1";yr(L8,V8,"app");var L0=new Ar("ANGULARFIRE2_VERSION");function Xie(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var j8=(t,e)=>{let n=e?[e]:qh(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Js=class{constructor(){return j8(B8)}},B8="app-check";function $c(){}var Zm=class{zone;delegate;constructor(e,n=by){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},F0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)),n.pipe(Nt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xm=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Zm(Zone.current)),this.insideAngular=n.run(()=>new Zm(Zone.current,zi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(A(te))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Id(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function U8(t){return Id().ngZone.runOutsideAngular(()=>t())}function Xs(t){return Id().ngZone.run(()=>t())}function Jie(t){return t.pipe(Ln(Id().outsideAngular))}function Rn(t){return z8(Id())(t)}function z8(t){return function(n){return n=n.lift(new F0(t.ngZone)),n.pipe(oi(t.outsideAngular),Ln(t.insideAngular))}}var $8=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xs(()=>t.apply(void 0,i))},ere=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c))),i[o]=$8(i[o],n));let r=U8(()=>t.apply(this,i));if(!e)if(r instanceof pe){let o=Id();return r.pipe(oi(o.outsideAngular),Ln(o.insideAngular))}else return Xs(()=>r);return r instanceof pe?r.pipe(Rn):r instanceof Promise?Xs(()=>new Promise((o,s)=>r.then(a=>Xs(()=>o(a)),a=>Xs(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Xs(()=>r)};var H8="firebase",q8="10.13.1";_i.registerVersion(H8,q8,"app-compat");var G8=["ngOnDestroy"],Wk=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(G8.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>n.run(()=>u)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(d=>{let f=d?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,f),f})})})});var V0=class{constructor(e){return e}},Jm=new B("angularfire2.app.options"),eg=new B("angularfire2.app.name");function tg(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=_i.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>_i.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;W8("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new V0(s)}var W8=(t,...e)=>{qb()&&typeof console<"u"&&console[t](...e)};function ng(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return K8(r,s)||(Gk("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Q8?" You may need to reload as Firebase is not HMR aware.":""}`),Gk("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function K8(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Q8=typeof module<"u"&&!!module.hot,Gk=(t,...e)=>{qb()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Kk=class{constructor(e){return e}},Qk=class{constructor(){return qh()}};var Y8=new Map,Z8={activated:!1,tokenObservers:[]},X8={initialized:!1,enabled:!1};function Pi(t){return Y8.get(t)||Object.assign({},Z8)}function eP(){return X8}var J8="https://content-firebaseappcheck.googleapis.com/v1";var e3="exchangeDebugToken",Yk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},xre=24*60*60*1e3;var B0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return F(this,null,function*(){this.stop();try{this.pending=new ny,this.pending.promise.catch(n=>{}),yield t3(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ny,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function t3(t){return new Promise(e=>{setTimeout(e,t)})}var n3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Bo=new yx("appCheck","AppCheck",n3);function tP(t){if(!Pi(t).activated)throw Bo.create("use-before-activation",{appName:t.name})}function nP(i,r){return F(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(g){throw Bo.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Bo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(g){throw Bo.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function iP(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${J8}/projects/${n}/apps/${i}:${e3}?key=${r}`,body:{debug_token:e}}}var i3="firebase-app-check-database",r3=1,U0="firebase-app-check-store";var ig=null;function o3(){return ig||(ig=new Promise((t,e)=>{try{let n=indexedDB.open(i3,r3);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(Bo.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(U0,{keyPath:"compositeKey"})}}}catch(n){e(Bo.create("storage-open",{originalErrorMessage:n?.message}))}}),ig)}function s3(t,e){return a3(c3(t),e)}function a3(t,e){return F(this,null,function*(){let i=(yield o3()).transaction(U0,"readwrite"),o=i.objectStore(U0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var u;a(Bo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function c3(t){return`${t.options.appId}-${t.name}`}var z0=new $h("@firebase/app-check");function j0(t,e){return zh()?s3(t,e).catch(n=>{z0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rP(){return eP().enabled}function oP(){return F(this,null,function*(){let t=eP();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var l3={error:"UNKNOWN_ERROR"};function u3(t){return px.encodeString(JSON.stringify(t),!1)}function $0(t,e=!1){return F(this,null,function*(){let n=t.app;tP(n);let i=Pi(n),r=i.token,o;if(r&&!Dd(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Dd(c)?r=c:yield j0(n,void 0))}if(!e&&r&&Dd(r))return{token:r.token};let s=!1;if(rP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=nP(iP(n,yield oP()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield j0(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Pi(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?z0.warn(c.message):z0.error(c),o=c}let a;return r?o?Dd(r)?a={token:r.token,internalError:o}:a=Xk(o):(a={token:r.token},i.token=r,yield j0(n,r)):a=Xk(o),s&&p3(n,a),a})}function d3(t){return F(this,null,function*(){let e=t.app;tP(e);let{provider:n}=Pi(e);if(rP()){let i=yield oP(),{token:r}=yield nP(iP(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function h3(t,e,n,i){let{app:r}=t,o=Pi(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Dd(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Zk(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Zk(t))}function sP(t,e){let n=Pi(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Zk(t){let{app:e}=t,n=Pi(e),i=n.tokenRefresher;i||(i=f3(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function f3(t){let{app:e}=t;return new B0(()=>F(this,null,function*(){let n=Pi(e),i;if(n.token?i=yield $0(t,!0):i=yield $0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Pi(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Yk.RETRIAL_MIN_WAIT,Yk.RETRIAL_MAX_WAIT)}function p3(t,e){let n=Pi(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Dd(t){return t.expireTimeMillis-Date.now()>0}function Xk(t){return{token:u3(l3),error:t}}var H0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Pi(this.app);for(let n of e)sP(this.app,n.next);return Promise.resolve()}};function m3(t,e){return new H0(t,e)}function g3(t){return{getToken:e=>$0(t,e),getLimitedUseToken:()=>d3(t),addTokenListener:e=>h3(t,"INTERNAL",e),removeTokenListener:e=>sP(t.app,e)}}var v3="@firebase/app-check",y3="0.8.7";var _3="app-check",Jk="app-check-internal";function b3(){nu(new vs(_3,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return m3(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Jk).initialize()})),nu(new vs(Jk,t=>{let e=t.getProvider("app-check").getImmediate();return g3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),yr(v3,y3)}b3();var w3=["localhost","0.0.0.0","127.0.0.1"],Vre=typeof window<"u"&&w3.includes(window.location.hostname);var q0=new B("angularfire2.auth.use-emulator"),G0=new B("angularfire2.auth.settings"),W0=new B("angularfire2.auth.tenant-id"),K0=new B("angularfire2.auth.langugage-code"),Q0=new B("angularfire2.auth.use-device-language"),Y0=new B("angularfire.auth.persistence"),Z0=(t,e,n,i,r,o,s,a)=>ng(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))c.settings[u]=d;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),Cd=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,u,d,f,m,g){let _=new se,D=ce(void 0).pipe(Ln(s.outsideAngular),Je(()=>o.runOutsideAngular(()=>import("./chunk-5USNJEBD.js"))),ee(()=>tg(n,o,i)),ee(I=>Z0(I,o,a,u,d,f,c,m)),Ds({bufferSize:1,refCount:!1}));if(xo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ce(null);else{D.pipe(Wn()).subscribe();let I=D.pipe(Je(H=>H.getRedirectResult().then(K=>K,()=>null)),Rn,Ds({bufferSize:1,refCount:!1})),k=D.pipe(Je(H=>new pe(K=>({unsubscribe:o.runOutsideAngular(()=>H.onAuthStateChanged(ue=>K.next(ue),ue=>K.error(ue),()=>K.complete()))})))),G=D.pipe(Je(H=>new pe(K=>({unsubscribe:o.runOutsideAngular(()=>H.onIdTokenChanged(ue=>K.next(ue),ue=>K.error(ue),()=>K.complete()))}))));this.authState=I.pipe(Df(k),oi(s.outsideAngular),Ln(s.insideAngular)),this.user=I.pipe(Df(G),oi(s.outsideAngular),Ln(s.insideAngular)),this.idToken=this.user.pipe(Je(H=>H?Be(H.getIdToken()):ce(null))),this.idTokenResult=this.user.pipe(Je(H=>H?Be(H.getIdTokenResult()):ce(null))),this.credential=wi(I,_,this.authState.pipe(We(H=>!H))).pipe(ee(H=>H?.user?H:null),oi(s.outsideAngular),Ln(s.insideAngular))}return Wk(this,D,o,{spy:{apply:(I,k,G)=>{(I.startsWith("signIn")||I.startsWith("createUser"))&&G.then(H=>_.next(H))}}})}static \u0275fac=function(i){return new(i||t)(A(Jm),A(eg,8),A(un),A(te),A(Xm),A(q0,8),A(G0,8),A(W0,8),A(K0,8),A(Q0,8),A(Y0,8),A(Js,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),eoe=(()=>{class t{constructor(){_i.registerVersion("angularfire",L0.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Te({type:t});static \u0275inj=xe({providers:[Cd]})}return t})();var lP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uP={};var Uo,X0;(function(){var t;function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(C,x,M){for(var b=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)b[ri-2]=arguments[ri];return y.prototype[x].apply(C,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,w){w||(w=0);var C=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)C[x]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(x=0;16>x;++x)C[x]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],x=E.g[2];var M=E.g[3],b=y+(M^w&(x^M))+C[0]+3614090360&4294967295;y=w+(b<<7&4294967295|b>>>25),b=M+(x^y&(w^x))+C[1]+3905402710&4294967295,M=y+(b<<12&4294967295|b>>>20),b=x+(w^M&(y^w))+C[2]+606105819&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(y^x&(M^y))+C[3]+3250441966&4294967295,w=x+(b<<22&4294967295|b>>>10),b=y+(M^w&(x^M))+C[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(x^y&(w^x))+C[5]+1200080426&4294967295,M=y+(b<<12&4294967295|b>>>20),b=x+(w^M&(y^w))+C[6]+2821735955&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(y^x&(M^y))+C[7]+4249261313&4294967295,w=x+(b<<22&4294967295|b>>>10),b=y+(M^w&(x^M))+C[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(x^y&(w^x))+C[9]+2336552879&4294967295,M=y+(b<<12&4294967295|b>>>20),b=x+(w^M&(y^w))+C[10]+4294925233&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(y^x&(M^y))+C[11]+2304563134&4294967295,w=x+(b<<22&4294967295|b>>>10),b=y+(M^w&(x^M))+C[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=M+(x^y&(w^x))+C[13]+4254626195&4294967295,M=y+(b<<12&4294967295|b>>>20),b=x+(w^M&(y^w))+C[14]+2792965006&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(y^x&(M^y))+C[15]+1236535329&4294967295,w=x+(b<<22&4294967295|b>>>10),b=y+(x^M&(w^x))+C[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(y^w))+C[6]+3225465664&4294967295,M=y+(b<<9&4294967295|b>>>23),b=x+(y^w&(M^y))+C[11]+643717713&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(x^M))+C[0]+3921069994&4294967295,w=x+(b<<20&4294967295|b>>>12),b=y+(x^M&(w^x))+C[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(y^w))+C[10]+38016083&4294967295,M=y+(b<<9&4294967295|b>>>23),b=x+(y^w&(M^y))+C[15]+3634488961&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(x^M))+C[4]+3889429448&4294967295,w=x+(b<<20&4294967295|b>>>12),b=y+(x^M&(w^x))+C[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(y^w))+C[14]+3275163606&4294967295,M=y+(b<<9&4294967295|b>>>23),b=x+(y^w&(M^y))+C[3]+4107603335&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(x^M))+C[8]+1163531501&4294967295,w=x+(b<<20&4294967295|b>>>12),b=y+(x^M&(w^x))+C[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(y^w))+C[2]+4243563512&4294967295,M=y+(b<<9&4294967295|b>>>23),b=x+(y^w&(M^y))+C[7]+1735328473&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^y&(x^M))+C[12]+2368359562&4294967295,w=x+(b<<20&4294967295|b>>>12),b=y+(w^x^M)+C[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^x)+C[8]+2272392833&4294967295,M=y+(b<<11&4294967295|b>>>21),b=x+(M^y^w)+C[11]+1839030562&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^y)+C[14]+4259657740&4294967295,w=x+(b<<23&4294967295|b>>>9),b=y+(w^x^M)+C[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^x)+C[4]+1272893353&4294967295,M=y+(b<<11&4294967295|b>>>21),b=x+(M^y^w)+C[7]+4139469664&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^y)+C[10]+3200236656&4294967295,w=x+(b<<23&4294967295|b>>>9),b=y+(w^x^M)+C[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^x)+C[0]+3936430074&4294967295,M=y+(b<<11&4294967295|b>>>21),b=x+(M^y^w)+C[3]+3572445317&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^y)+C[6]+76029189&4294967295,w=x+(b<<23&4294967295|b>>>9),b=y+(w^x^M)+C[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=M+(y^w^x)+C[12]+3873151461&4294967295,M=y+(b<<11&4294967295|b>>>21),b=x+(M^y^w)+C[15]+530742520&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^y)+C[2]+3299628645&4294967295,w=x+(b<<23&4294967295|b>>>9),b=y+(x^(w|~M))+C[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~x))+C[7]+1126891415&4294967295,M=y+(b<<10&4294967295|b>>>22),b=x+(y^(M|~w))+C[14]+2878612391&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~y))+C[5]+4237533241&4294967295,w=x+(b<<21&4294967295|b>>>11),b=y+(x^(w|~M))+C[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~x))+C[3]+2399980690&4294967295,M=y+(b<<10&4294967295|b>>>22),b=x+(y^(M|~w))+C[10]+4293915773&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~y))+C[1]+2240044497&4294967295,w=x+(b<<21&4294967295|b>>>11),b=y+(x^(w|~M))+C[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~x))+C[15]+4264355552&4294967295,M=y+(b<<10&4294967295|b>>>22),b=x+(y^(M|~w))+C[6]+2734768916&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~y))+C[13]+1309151649&4294967295,w=x+(b<<21&4294967295|b>>>11),b=y+(x^(w|~M))+C[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=M+(w^(y|~x))+C[11]+3174756917&4294967295,M=y+(b<<10&4294967295|b>>>22),b=x+(y^(M|~w))+C[2]+718787259&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~y))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+M&4294967295}i.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,C=this.B,x=this.h,M=0;M<y;){if(x==0)for(;M<=w;)r(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<y;)if(C[x++]=E.charCodeAt(M++),x==this.blockSize){r(this,C),x=0;break}}else for(;M<y;)if(C[x++]=E[M++],x==this.blockSize){r(this,C),x=0;break}}this.h=x,this.o+=y},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var C=0;32>C;C+=8)E[w++]=this.g[y]>>>C&255;return E};function o(E,y){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function s(E,y){this.h=y;for(var w=[],C=!0,x=E.length-1;0<=x;x--){var M=E[x]|0;C&&M==y||(w[x]=M,C=!1)}this.g=w}var a={};function c(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return I(u(-E));for(var y=[],w=1,C=0;E>=w;C++)y[C]=E/w|0,w*=4294967296;return new s(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return I(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),C=f,x=0;x<E.length;x+=8){var M=Math.min(8,E.length-x),b=parseInt(E.substring(x,x+M),y);8>M?(M=u(Math.pow(y,M)),C=C.j(M).add(u(b))):(C=C.j(w),C=C.add(u(b)))}return C}var f=c(0),m=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(D(this))return-I(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var C=this.i(w);E+=(0<=C?C:4294967296+C)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_(this))return"0";if(D(this))return"-"+I(this).toString(E);for(var y=u(Math.pow(E,6)),w=this,C="";;){var x=K(w,y).g;w=k(w,x.j(y));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=x,_(w))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function _(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function D(E){return E.h==-1}t.l=function(E){return E=k(this,E),D(E)?-1:_(E)?0:1};function I(E){for(var y=E.g.length,w=[],C=0;C<y;C++)w[C]=~E.g[C];return new s(w,~E.h).add(m)}t.abs=function(){return D(this)?I(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0,x=0;x<=y;x++){var M=C+(this.i(x)&65535)+(E.i(x)&65535),b=(M>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);C=b>>>16,M&=65535,b&=65535,w[x]=b<<16|M}return new s(w,w[w.length-1]&-2147483648?-1:0)};function k(E,y){return E.add(I(y))}t.j=function(E){if(_(this)||_(E))return f;if(D(this))return D(E)?I(this).j(I(E)):I(I(this).j(E));if(D(E))return I(this.j(I(E)));if(0>this.l(g)&&0>E.l(g))return u(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],C=0;C<2*y;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<E.g.length;x++){var M=this.i(C)>>>16,b=this.i(C)&65535,ri=E.i(x)>>>16,pr=E.i(x)&65535;w[2*C+2*x]+=b*pr,G(w,2*C+2*x),w[2*C+2*x+1]+=M*pr,G(w,2*C+2*x+1),w[2*C+2*x+1]+=b*ri,G(w,2*C+2*x+1),w[2*C+2*x+2]+=M*ri,G(w,2*C+2*x+2)}for(C=0;C<y;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=y;C<2*y;C++)w[C]=0;return new s(w,0)};function G(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function H(E,y){this.g=E,this.h=y}function K(E,y){if(_(y))throw Error("division by zero");if(_(E))return new H(f,f);if(D(E))return y=K(I(E),y),new H(I(y.g),I(y.h));if(D(y))return y=K(E,I(y)),new H(I(y.g),y.h);if(30<E.g.length){if(D(E)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,C=y;0>=C.l(E);)w=ue(w),C=ue(C);var x=ie(w,1),M=ie(C,1);for(C=ie(C,2),w=ie(w,2);!_(C);){var b=M.add(C);0>=b.l(E)&&(x=x.add(w),M=b),C=ie(C,1),w=ie(w,1)}return y=k(E,x.j(y)),new H(x,y)}for(x=f;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(w),b=M.j(y);D(b)||0<b.l(E);)w-=C,M=u(w),b=M.j(y);_(M)&&(M=m),x=x.add(M),E=k(E,b)}return new H(x,E)}t.A=function(E){return K(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)&E.i(C);return new s(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)|E.i(C);return new s(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],C=0;C<y;C++)w[C]=this.i(C)^E.i(C);return new s(w,this.h^E.h)};function ue(E){for(var y=E.g.length+1,w=[],C=0;C<y;C++)w[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(w,E.h)}function ie(E,y){var w=y>>5;y%=32;for(var C=E.g.length-w,x=[],M=0;M<C;M++)x[M]=0<y?E.i(M+w)>>>y|E.i(M+w+1)<<32-y:E.i(M+w);return new s(x,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,X0=uP.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Uo=uP.Integer=s}).apply(typeof lP<"u"?lP:typeof self<"u"?self:typeof window<"u"?window:{});var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$r={};var J0,eE,Hc,tE,xd,og,nE,iE,rE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof rg=="object"&&rg];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var S=l[v];if(!(S in p))break e;p=p[S]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,v=!1,S={next:function(){if(!v&&p<l.length){var O=p++;return{value:h(O,l[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}r("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,v),l.apply(h,S)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function _(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,S,O){for(var Q=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Q[rt-2]=arguments[rt];return h.prototype[S].apply(v,Q)}}function D(l){let h=l.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function I(l,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let S=l.length||0,O=v.length||0;l.length=S+O;for(let Q=0;Q<O;Q++)l[S+Q]=v[Q]}else l.push(v)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function G(l){return/^[\s\xa0]*$/.test(l)}function H(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function K(l){return K[" "](l),l}K[" "]=function(){};var ue=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ie(l,h,p){for(let v in l)h.call(p,l[v],v,l)}function E(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function y(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let p,v;for(let S=1;S<arguments.length;S++){v=arguments[S];for(p in v)l[p]=v[p];for(let O=0;O<w.length;O++)p=w[O],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function x(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Sa;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class ri{constructor(){this.h=this.g=null}add(h,p){let v=pr.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var pr=new k(()=>new Eh,l=>l.reset());class Eh{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Jr,eo=!1,Sa=new ri,Ol=()=>{let l=a.Promise.resolve(void 0);Jr=()=>{l.then(Ih)}};var Ih=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){M(p)}var h=pr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}eo=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var jv=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function it(l,h){if(xt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ue){e:{try{K(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Bv[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&it.aa.h.call(this)}}_(it,xt);var Bv={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var cs="closure_listenable_"+(1e6*Math.random()|0),Dh=0;function Uv(l,h,p,v,S){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=S,this.key=++Dh,this.da=this.fa=!1}function Cn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ls(l){this.src=l,this.g={},this.h=0}ls.prototype.add=function(l,h,p,v,S){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var Q=Aa(l,h,v,S);return-1<Q?(h=l[Q],p||(h.fa=!1)):(h=new Uv(h,this.src,O,!!v,S),h.fa=p,l.push(h)),h};function Bi(l,h){var p=h.type;if(p in l.g){var v=l.g[p],S=Array.prototype.indexOf.call(v,h,void 0),O;(O=0<=S)&&Array.prototype.splice.call(v,S,1),O&&(Cn(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Aa(l,h,p,v){for(var S=0;S<l.length;++S){var O=l[S];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==v)return S}return-1}var Fl="closure_lm_"+(1e6*Math.random()|0),us={};function Ll(l,h,p,v,S){if(v&&v.once)return jl(l,h,p,v,S);if(Array.isArray(h)){for(var O=0;O<h.length;O++)Ll(l,h[O],p,v,S);return null}return p=mr(p),l&&l[cs]?l.K(h,p,u(v)?!!v.capture:!!v,S):Vl(l,h,p,!1,v,S)}function Vl(l,h,p,v,S,O){if(!h)throw Error("Invalid event type");var Q=u(S)?!!S.capture:!!S,rt=Ul(l);if(rt||(l[Fl]=rt=new ls(l)),p=rt.add(h,p,v,Q,O),p.proxy)return p;if(v=Ch(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)jv||(S=Q),S===void 0&&(S=!1),l.addEventListener(h.toString(),v,S);else if(l.attachEvent)l.attachEvent(xh(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ch(){function l(p){return h.call(l.src,l.listener,p)}let h=zv;return l}function jl(l,h,p,v,S){if(Array.isArray(h)){for(var O=0;O<h.length;O++)jl(l,h[O],p,v,S);return null}return p=mr(p),l&&l[cs]?l.L(h,p,u(v)?!!v.capture:!!v,S):Vl(l,h,p,!0,v,S)}function Bl(l,h,p,v,S){if(Array.isArray(h))for(var O=0;O<h.length;O++)Bl(l,h[O],p,v,S);else v=u(v)?!!v.capture:!!v,p=mr(p),l&&l[cs]?(l=l.i,h=String(h).toString(),h in l.g&&(O=l.g[h],p=Aa(O,p,v,S),-1<p&&(Cn(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete l.g[h],l.h--)))):l&&(l=Ul(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Aa(h,p,v,S)),(p=-1<l?h[l]:null)&&ds(p))}function ds(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[cs])Bi(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(xh(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Ul(h))?(Bi(p,l),p.h==0&&(p.src=null,h[Fl]=null)):Cn(l)}}}function xh(l){return l in us?us[l]:us[l]="on"+l}function zv(l,h){if(l.da)l=!0;else{h=new it(h,this);var p=l.listener,v=l.ha||l.src;l.fa&&ds(l),l=p.call(v,h)}return l}function Ul(l){return l=l[Fl],l instanceof ls?l:null}var zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(l){return typeof l=="function"?l:(l[zl]||(l[zl]=function(h){return l.handleEvent(h)}),l[zl])}function en(){fe.call(this),this.i=new ls(this),this.M=this,this.F=null}_(en,fe),en.prototype[cs]=!0,en.prototype.removeEventListener=function(l,h,p,v){Bl(this,l,h,p,v)};function on(l,h){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new xt(h,l);else if(h instanceof xt)h.target=h.target||l;else{var S=h;h=new xt(v,l),C(h,S)}if(S=!0,p)for(var O=p.length-1;0<=O;O--){var Q=h.g=p[O];S=Ma(Q,v,!0,h)&&S}if(Q=h.g=l,S=Ma(Q,v,!0,h)&&S,S=Ma(Q,v,!1,h)&&S,p)for(O=0;O<p.length;O++)Q=h.g=p[O],S=Ma(Q,v,!1,h)&&S}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],v=0;v<p.length;v++)Cn(p[v]);delete l.g[h],l.h--}}this.F=null},en.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},en.prototype.L=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function Ma(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,O=0;O<h.length;++O){var Q=h[O];if(Q&&!Q.da&&Q.capture==p){var rt=Q.listener,sn=Q.ha||Q.src;Q.fa&&Bi(l.i,Q),S=rt.call(sn,v)!==!1&&S}}return S&&!v.defaultPrevented}function Ra(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function T(l){l.g=Ra(()=>{l.g=null,l.i&&(l.i=!1,T(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class R extends fe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:T(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function j(l){fe.call(this),this.h=l,this.g={}}_(j,fe);var W=[];function de(l){ie(l.g,function(h,p){this.g.hasOwnProperty(p)&&ds(h)},l),l.g={}}j.prototype.N=function(){j.aa.N.call(this),de(this)},j.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yt=a.JSON.stringify,Pt=a.JSON.parse,Fe=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function X(){}X.prototype.h=null;function J(l){return l.h||(l.h=l.i())}function re(){}var oe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oe(){xt.call(this,"d")}_(Oe,xt);function Ye(){xt.call(this,"c")}_(Ye,xt);var Ze={},On=null;function hs(){return On=On||new en}Ze.La="serverreachability";function Th(l){xt.call(this,Ze.La,l)}_(Th,xt);function fs(l){let h=hs();on(h,new Th(h))}Ze.STAT_EVENT="statevent";function IC(l,h){xt.call(this,Ze.STAT_EVENT,l),this.stat=h}_(IC,xt);function xn(l){let h=hs();on(h,new IC(h,l))}Ze.Ma="timingevent";function DC(l,h){xt.call(this,Ze.Ma,l),this.size=h}_(DC,xt);function $l(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Hl(){this.g=!0}Hl.prototype.xa=function(){this.g=!1};function kL(l,h,p,v,S,O){l.info(function(){if(l.g)if(O)for(var Q="",rt=O.split("&"),sn=0;sn<rt.length;sn++){var Ge=rt[sn].split("=");if(1<Ge.length){var fn=Ge[0];Ge=Ge[1];var pn=fn.split("_");Q=2<=pn.length&&pn[1]=="type"?Q+(fn+"="+Ge+"&"):Q+(fn+"=redacted&")}}else Q=null;else Q=O;return"XMLHTTP REQ ("+v+") [attempt "+S+"]: "+h+`
`+p+`
`+Q})}function PL(l,h,p,v,S,O,Q){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+S+"]: "+h+`
`+p+`
`+O+" "+Q})}function Na(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+FL(l,p)+(v?" "+v:"")})}function OL(l,h){l.info(function(){return"TIMEOUT: "+h})}Hl.prototype.info=function(){};function FL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var S=v[1];if(Array.isArray(S)&&!(1>S.length)){var O=S[0];if(O!="noop"&&O!="stop"&&O!="close")for(var Q=1;Q<S.length;Q++)S[Q]=""}}}}return yt(p)}catch{return h}}var Sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},CC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$v;function Ah(){}_(Ah,X),Ah.prototype.g=function(){return new XMLHttpRequest},Ah.prototype.i=function(){return{}},$v=new Ah;function to(l,h,p,v){this.j=l,this.i=h,this.l=p,this.R=v||1,this.U=new j(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xC}function xC(){this.i=null,this.g="",this.h=!1}var TC={},Hv={};function qv(l,h,p){l.L=1,l.v=kh(gr(h)),l.m=p,l.P=!0,SC(l,null)}function SC(l,h){l.F=Date.now(),Mh(l),l.A=gr(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),zC(p.i,"t",v),l.C=0,p=l.j.J,l.h=new xC,l.g=sx(l.j,p?h:null,!l.m),0<l.O&&(l.M=new R(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,v=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(W[0]=S.toString()),S=W);for(var O=0;O<S.length;O++){var Q=Ll(p,S[O],v||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),fs(),kL(l.i,l.u,l.A,l.l,l.R,l.m)}to.prototype.ca=function(l){l=l.target;let h=this.M;h&&vr(l)==3?h.j():this.Y(l)},to.prototype.Y=function(l){try{if(l==this.g)e:{let pn=vr(this.g);var h=this.g.Ba();let Oa=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||QC(this.g)))){this.J||pn!=4||h==7||(h==8||0>=Oa?fs(3):fs(2)),Gv(this);var p=this.g.Z();this.X=p;t:if(AC(this)){var v=QC(this.g);l="";var S=v.length,O=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),ql(this);var Q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(O&&h==S-1)});v.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=p==200,PL(this.i,this.u,this.A,this.l,this.R,pn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,sn=this.g;if((rt=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(rt)){var Ge=rt;break t}}Ge=null}if(p=Ge)Na(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wv(this,p);else{this.o=!1,this.s=3,xn(12),ps(this),ql(this);break e}}if(this.P){p=!0;let yi;for(;!this.J&&this.C<Q.length;)if(yi=LL(this,Q),yi==Hv){pn==4&&(this.s=4,xn(14),p=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==TC){this.s=4,xn(15),Na(this.i,this.l,Q,"[Invalid Chunk]"),p=!1;break}else Na(this.i,this.l,yi,null),Wv(this,yi);if(AC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||Q.length!=0||this.h.h||(this.s=1,xn(16),p=!1),this.o=this.o&&p,!p)Na(this.i,this.l,Q,"[Invalid Chunked Response]"),ps(this),ql(this);else if(0<Q.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Jv(fn),fn.M=!0,xn(11))}}else Na(this.i,this.l,Q,null),Wv(this,Q);pn==4&&ps(this),this.o&&!this.J&&(pn==4?nx(this.j,this):(this.o=!1,Mh(this)))}else eV(this.g),p==400&&0<Q.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),ps(this),ql(this)}}}catch{}finally{}};function AC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function LL(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?Hv:(p=Number(h.substring(p,v)),isNaN(p)?TC:(v+=1,v+p>h.length?Hv:(h=h.slice(v,v+p),l.C=v+p,h)))}to.prototype.cancel=function(){this.J=!0,ps(this)};function Mh(l){l.S=Date.now()+l.I,MC(l,l.I)}function MC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=$l(m(l.ba,l),h)}function Gv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}to.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(OL(this.i,this.A),this.L!=2&&(fs(),xn(17)),ps(this),this.s=2,ql(this)):MC(this,this.S-l)};function ql(l){l.j.G==0||l.J||nx(l.j,l)}function ps(l){Gv(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,de(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Wv(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Kv(p.h,l))){if(!l.K&&Kv(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var S=v;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Vh(p),Fh(p);else break e;Xv(p),xn(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=$l(m(p.Za,p),6e3));if(1>=kC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gs(p,11)}else if((l.K||p.g==l)&&Vh(p),!G(h))for(S=p.Da.g.parse(h),h=0;h<S.length;h++){let Ge=S[h];if(p.T=Ge[0],Ge=Ge[1],p.G==2)if(Ge[0]=="c"){p.K=Ge[1],p.ia=Ge[2];let fn=Ge[3];fn!=null&&(p.la=fn,p.j.info("VER="+p.la));let pn=Ge[4];pn!=null&&(p.Aa=pn,p.j.info("SVER="+p.Aa));let Oa=Ge[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(v=1.5*Oa,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let yi=l.g;if(yi){let Bh=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bh){var O=v.h;O.g||Bh.indexOf("spdy")==-1&&Bh.indexOf("quic")==-1&&Bh.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Qv(O,O.h),O.h=null))}if(v.D){let ey=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;ey&&(v.ya=ey,_t(v.I,v.D,ey))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var Q=l;if(v.qa=ox(v,v.J?v.ia:null,v.W),Q.K){PC(v.h,Q);var rt=Q,sn=v.L;sn&&(rt.I=sn),rt.B&&(Gv(rt),Mh(rt)),v.g=Q}else ex(v);0<p.i.length&&Lh(p)}else Ge[0]!="stop"&&Ge[0]!="close"||gs(p,7);else p.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?gs(p,7):Zv(p):Ge[0]!="noop"&&p.l&&p.l.ta(Ge),p.v=0)}}fs(4)}catch{}}var VL=class{constructor(l,h){this.g=l,this.map=h}};function RC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function kC(l){return l.h?1:l.g?l.g.size:0}function Kv(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Qv(l,h){l.g?l.g.add(h):l.h=h}function PC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}RC.prototype.cancel=function(){if(this.i=OC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function OC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return D(l.i)}function jL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,v=0;v<p;v++)h.push(l[v]);return h}h=[],p=0;for(v in l)h[p++]=l[v];return h}function BL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let v in l)h[p++]=v;return h}}}function FC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=BL(l),v=jL(l),S=v.length,O=0;O<S;O++)h.call(void 0,v[O],p&&p[O],l)}var LC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),S=null;if(0<=v){var O=l[p].substring(0,v);S=l[p].substring(v+1)}else O=l[p];h(O,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function ms(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ms){this.h=l.h,Rh(this,l.j),this.o=l.o,this.g=l.g,Nh(this,l.s),this.l=l.l;var h=l.i,p=new Kl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),VC(this,p),this.m=l.m}else l&&(h=String(l).match(LC))?(this.h=!1,Rh(this,h[1]||"",!0),this.o=Gl(h[2]||""),this.g=Gl(h[3]||"",!0),Nh(this,h[4]),this.l=Gl(h[5]||"",!0),VC(this,h[6]||"",!0),this.m=Gl(h[7]||"")):(this.h=!1,this.i=new Kl(null,this.h))}ms.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Wl(h,jC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Wl(h,jC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Wl(p,p.charAt(0)=="/"?HL:$L,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Wl(p,GL)),l.join("")};function gr(l){return new ms(l)}function Rh(l,h,p){l.j=p?Gl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Nh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function VC(l,h,p){h instanceof Kl?(l.i=h,WL(l.i,l.h)):(p||(h=Wl(h,qL)),l.i=new Kl(h,l.h))}function _t(l,h,p){l.i.set(h,p)}function kh(l){return _t(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Gl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Wl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,zL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function zL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var jC=/[#\/\?@]/g,$L=/[#\?:]/g,HL=/[#\?]/g,qL=/[#\?@]/g,GL=/#/g;function Kl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function no(l){l.g||(l.g=new Map,l.h=0,l.i&&UL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Kl.prototype,t.add=function(l,h){no(this),this.i=null,l=ka(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function BC(l,h){no(l),h=ka(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function UC(l,h){return no(l),h=ka(l,h),l.g.has(h)}t.forEach=function(l,h){no(this),this.g.forEach(function(p,v){p.forEach(function(S){l.call(h,S,v,this)},this)},this)},t.na=function(){no(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let S=l[v];for(let O=0;O<S.length;O++)p.push(h[v])}return p},t.V=function(l){no(this);let h=[];if(typeof l=="string")UC(this,l)&&(h=h.concat(this.g.get(ka(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return no(this),this.i=null,l=ka(this,l),UC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function zC(l,h,p){BC(l,h),0<p.length&&(l.i=null,l.g.set(ka(l,h),D(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let O=encodeURIComponent(String(v)),Q=this.V(v);for(v=0;v<Q.length;v++){var S=O;Q[v]!==""&&(S+="="+encodeURIComponent(String(Q[v]))),l.push(S)}}return this.i=l.join("&")};function ka(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function WL(l,h){h&&!l.j&&(no(l),l.i=null,l.g.forEach(function(p,v){var S=v.toLowerCase();v!=S&&(BC(this,v),zC(this,S,p))},l)),l.j=h}function KL(l,h){let p=new Hl;if(a.Image){let v=new Image;v.onload=g(io,p,"TestLoadImage: loaded",!0,h,v),v.onerror=g(io,p,"TestLoadImage: error",!1,h,v),v.onabort=g(io,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(io,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function QL(l,h){let p=new Hl,v=new AbortController,S=setTimeout(()=>{v.abort(),io(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(O=>{clearTimeout(S),O.ok?io(p,"TestPingServer: ok",!0,h):io(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),io(p,"TestPingServer: error",!1,h)})}function io(l,h,p,v,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),v(p)}catch{}}function YL(){this.g=new Fe}function ZL(l,h,p){let v=p||"";try{FC(l,function(S,O){let Q=S;u(S)&&(Q=yt(S)),h.push(v+O+"="+encodeURIComponent(Q))})}catch(S){throw h.push(v+"type="+encodeURIComponent("_badmap")),S}}function Ql(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Ql,X),Ql.prototype.g=function(){return new Ph(this.l,this.j)},Ql.prototype.i=function(l){return function(){return l}}({});function Ph(l,h){en.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ph,en),t=Ph.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Zl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$C(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function $C(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Yl(this):Zl(this),this.readyState==3&&$C(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Yl(this))},t.Qa=function(l){this.g&&(this.response=l,Yl(this))},t.ga=function(){this.g&&Yl(this)};function Yl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Zl(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Zl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function HC(l){let h="";return ie(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function Yv(l,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=HC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):_t(l,h,p))}function Mt(l){en.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Mt,en);var XL=/^https?$/i,JL=["POST","PUT"];t=Mt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$v.g(),this.v=this.o?J(this.o):J($v),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(O){qC(this,O);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var S in v)p.set(S,v[S]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let O of v.keys())p.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JL,h,void 0))||v||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[O,Q]of p)this.g.setRequestHeader(O,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KC(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){qC(this,O)}};function qC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,GC(l),Oh(l)}function GC(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,on(this,"complete"),on(this,"abort"),Oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oh(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?WC(this):this.bb())},t.bb=function(){WC(this)};function WC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||vr(l)!=4||l.Z()!=2)){if(l.u&&vr(l)==4)Ra(l.Ea,0,l);else if(on(l,"readystatechange"),vr(l)==4){l.h=!1;try{let Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=Q===0){var S=String(l.D).match(LC)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),v=!XL.test(S?S.toLowerCase():"")}p=v}if(p)on(l,"complete"),on(l,"success");else{l.m=6;try{var O=2<vr(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",GC(l)}}finally{Oh(l)}}}}function Oh(l,h){if(l.g){KC(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||on(l,"ready");try{p.onreadystatechange=v}catch{}}}function KC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function vr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Pt(h)}};function QC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function eV(l){let h={};l=(l.g&&2<=vr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(G(l[v]))continue;var p=x(l[v]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let O=h[S]||[];h[S]=O,O.push(p)}E(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function YC(l){this.Aa=0,this.i=[],this.j=new Hl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xl("baseRetryDelayMs",5e3,l),this.cb=Xl("retryDelaySeedMs",1e4,l),this.Wa=Xl("forwardChannelMaxRetries",2,l),this.wa=Xl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new RC(l&&l.concurrentRequestLimit),this.Da=new YL,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=YC.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,v){xn(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=ox(this,null,this.W),Lh(this)};function Zv(l){if(ZC(l),l.G==3){var h=l.U++,p=gr(l.I);if(_t(p,"SID",l.K),_t(p,"RID",h),_t(p,"TYPE","terminate"),Jl(l,p),h=new to(l,l.j,h),h.L=2,h.v=kh(gr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=sx(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Mh(h)}rx(l)}function Fh(l){l.g&&(Jv(l),l.g.cancel(),l.g=null)}function ZC(l){Fh(l),l.u&&(a.clearTimeout(l.u),l.u=null),Vh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Lh(l){if(!NC(l.h)&&!l.s){l.s=!0;var h=l.Ga;Jr||Ol(),eo||(Jr(),eo=!0),Sa.add(h,l),l.B=0}}function tV(l,h){return kC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=$l(m(l.Ga,l,h),ix(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let S=new to(this,this.j,l),O=this.o;if(this.S&&(O?(O=y(O),C(O,this.S)):O=this.S),this.m!==null||this.O||(S.H=O,O=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=JC(this,S,h),p=gr(this.I),_t(p,"RID",l),_t(p,"CVER",22),this.D&&_t(p,"X-HTTP-Session-Id",this.D),Jl(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(HC(O)))+"&"+h:this.m&&Yv(p,this.m,O)),Qv(this.h,S),this.Ua&&_t(p,"TYPE","init"),this.P?(_t(p,"$req",h),_t(p,"SID","null"),S.T=!0,qv(S,p,null)):qv(S,p,h),this.G=2}}else this.G==3&&(l?XC(this,l):this.i.length==0||NC(this.h)||XC(this))};function XC(l,h){var p;h?p=h.l:p=l.U++;let v=gr(l.I);_t(v,"SID",l.K),_t(v,"RID",p),_t(v,"AID",l.T),Jl(l,v),l.m&&l.o&&Yv(v,l.m,l.o),p=new to(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=JC(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Qv(l.h,p),qv(p,v,h)}function Jl(l,h){l.H&&ie(l.H,function(p,v){_t(h,v,p)}),l.l&&FC({},function(p,v){_t(h,v,p)})}function JC(l,h,p){p=Math.min(l.i.length,p);var v=l.l?m(l.l.Na,l.l,l):null;e:{var S=l.i;let O=-1;for(;;){let Q=["count="+p];O==-1?0<p?(O=S[0].g,Q.push("ofs="+O)):O=0:Q.push("ofs="+O);let rt=!0;for(let sn=0;sn<p;sn++){let Ge=S[sn].g,fn=S[sn].map;if(Ge-=O,0>Ge)O=Math.max(0,S[sn].g-100),rt=!1;else try{ZL(fn,Q,"req"+Ge+"_")}catch{v&&v(fn)}}if(rt){v=Q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,v}function ex(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Jr||Ol(),eo||(Jr(),eo=!0),Sa.add(h,l),l.v=0}}function Xv(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=$l(m(l.Fa,l),ix(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,tx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=$l(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Fh(this),tx(this))};function Jv(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function tx(l){l.g=new to(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=gr(l.qa);_t(h,"RID","rpc"),_t(h,"SID",l.K),_t(h,"AID",l.T),_t(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&_t(h,"TO",l.ja),_t(h,"TYPE","xmlhttp"),Jl(l,h),l.m&&l.o&&Yv(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=kh(gr(h)),p.m=null,p.P=!0,SC(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Fh(this),Xv(this),xn(19))};function Vh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function nx(l,h){var p=null;if(l.g==h){Vh(l),Jv(l),l.g=null;var v=2}else if(Kv(l.h,h))p=h.D,PC(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var S=l.B;v=hs(),on(v,new DC(v,p)),Lh(l)}else ex(l);else if(S=h.s,S==3||S==0&&0<h.X||!(v==1&&tV(l,h)||v==2&&Xv(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),S){case 1:gs(l,5);break;case 4:gs(l,10);break;case 3:gs(l,6);break;default:gs(l,2)}}}function ix(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function gs(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),v=l.Xa;let S=!v;v=new ms(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rh(v,"https"),kh(v),S?KL(v.toString(),p):QL(v.toString(),p)}else xn(2);l.G=0,l.l&&l.l.sa(h),rx(l),ZC(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function rx(l){if(l.G=0,l.ka=[],l.l){let h=OC(l.h);(h.length!=0||l.i.length!=0)&&(I(l.ka,h),I(l.ka,l.i),l.h.i.length=0,D(l.i),l.i.length=0),l.l.ra()}}function ox(l,h,p){var v=p instanceof ms?gr(p):new ms(p);if(v.g!="")h&&(v.g=h+"."+v.g),Nh(v,v.s);else{var S=a.location;v=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var O=new ms(null);v&&Rh(O,v),h&&(O.g=h),S&&Nh(O,S),p&&(O.l=p),v=O}return p=l.D,h=l.ya,p&&h&&_t(v,p,h),_t(v,"VER",l.la),Jl(l,v),v}function sx(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Mt(new Ql({eb:p})):new Mt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ax(){}t=ax.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jh(){}jh.prototype.g=function(l,h){return new qn(l,h)};function qn(l,h){en.call(this),this.g=new YC(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!G(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!G(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Pa(this)}_(qn,en),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Zv(this.g)},qn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=yt(l),l=p);h.i.push(new VL(h.Ya++,l)),h.G==3&&Lh(h)},qn.prototype.N=function(){this.g.l=null,delete this.j,Zv(this.g),delete this.g,qn.aa.N.call(this)};function cx(l){Oe.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(cx,Oe);function lx(){Ye.call(this),this.status=1}_(lx,Ye);function Pa(l){this.g=l}_(Pa,ax),Pa.prototype.ua=function(){on(this.g,"a")},Pa.prototype.ta=function(l){on(this.g,new cx(l))},Pa.prototype.sa=function(l){on(this.g,new lx)},Pa.prototype.ra=function(){on(this.g,"b")},jh.prototype.createWebChannel=jh.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,rE=$r.createWebChannelTransport=function(){return new jh},iE=$r.getStatEventTarget=function(){return hs()},nE=$r.Event=Ze,og=$r.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sh.NO_ERROR=0,Sh.TIMEOUT=8,Sh.HTTP_ERROR=6,xd=$r.ErrorCode=Sh,CC.COMPLETE="complete",tE=$r.EventType=CC,re.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",en.prototype.listen=en.prototype.K,Hc=$r.WebChannel=re,eE=$r.FetchXmlHttpFactory=Ql,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,J0=$r.XhrIo=Mt}).apply(typeof rg<"u"?rg:typeof self<"u"?self:typeof window<"u"?window:{});var dP="@firebase/firestore";var qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");var wl="10.13.1";var Ko=new $h("@firebase/firestore");function Qc(){return Ko.logLevel}function fO(t){Ko.setLogLevel(t)}function q(t,...e){if(Ko.logLevel<=Ui.DEBUG){let n=e.map(lD);Ko.debug(`Firestore (${wl}): ${t}`,...n)}}function Lt(t,...e){if(Ko.logLevel<=Ui.ERROR){let n=e.map(lD);Ko.error(`Firestore (${wl}): ${t}`,...n)}}function pi(t,...e){if(Ko.logLevel<=Ui.WARN){let n=e.map(lD);Ko.warn(`Firestore (${wl}): ${t}`,...n)}}function lD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+t;throw Lt(e),new Error(e)}function le(t,e){t||ne()}function pO(t,e){t||ne()}function Y(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends vx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var gg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},lE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}},uE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},dE=class{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>F(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(le(typeof i.accessToken=="string"),new gg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string"),new qt(e)}},hE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new hE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string"),this.R=n.token,new pE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function E3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var vg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=E3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ae(t,e){return t<e?-1:t>e?1:0}function rl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function mO(t){return t+"\0"}var At=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new At(0,0))}static max(){return new t(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var yg=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(),i===void 0?i=e.length-n:i>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$e=class t extends yg{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends yg{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var ol=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function gE(t){return t.fields.find(e=>e.kind===2)}function ta(t){return t.fields.filter(e=>e.kind!==2)}ol.UNKNOWN_ID=-1;var tl=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Vd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,mi.min())}};function gO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new mi(r,Z.empty(),e)}function vO(t){return new mi(t.readTime,t.key,-1)}var mi=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(he.min(),Z.empty(),-1)}static max(){return new t(he.max(),Z.empty(),-1)}};function uD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}var yO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_g=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function rs(t){return F(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==yO)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(d=>{s[u]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var bg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new aa(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=dD(i.target.error);this.V.reject(new aa(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new aa(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new yE(n)}},Qo=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(tu())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return q("SimpleDb","Removing database:",e),na(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zh())return!1;if(t.v())return!0;let e=tu(),n=t.S(e),i=0<n&&n<10,r=_O(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return F(this,null,function*(){return this.db||(q("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new aa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new z(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new z(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new aa(e,s))},r.onupgradeneeded=o=>{q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return F(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=bg.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),N.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function _O(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var vE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return na(this.B.delete())}},aa=class extends z{constructor(e,n){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function os(t){return t.name==="IndexedDbTransactionError"}var yE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(q("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(q("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),na(i)}add(e){return q("SimpleDb","ADD",this.store.name,e,e),na(this.store.add(e))}get(e){return na(this.store.get(e)).next(n=>(n===void 0&&(n=null),q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return q("SimpleDb","DELETE",this.store.name,e),na(this.store.delete(e))}count(){return q("SimpleDb","COUNT",this.store.name),na(this.store.count())}U(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new N((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new N((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(e,n){q("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.H=!1;let r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.W(r,n)}Y(e){let n=this.cursor({});return new N((i,r)=>{n.onerror=o=>{let s=dD(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,n){let i=[];return new N((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new vE(a),u=n(a.primaryKey,a.value,c);if(u instanceof N){let d=u.catch(f=>(c.done(),N.reject(f)));i.push(d)}c.isDone?r():c.K===null?a.continue():a.continue(c.K)}}).next(()=>N.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function na(t){return new N((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=dD(i.target.error);n(r)}})}var hP=!1;function dD(t){let e=Qo.S(tu());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hP||(hP=!0,setTimeout(()=>{throw i},0)),i}}return t}var _E=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){q("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>F(this,null,function*(){this.task=null;try{q("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){os(n)?q("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield rs(n)}yield this.X(6e4)}))}},bE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return F(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let i=new Set,r=n,o=!0;return N.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return q("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}ne(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(r,o)).next(a=>(q("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=vO(o);uD(s,i)>0&&(i=s)}),new mi(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var ni=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ah(t){return t==null}function jd(t){return t===0&&1/t==-1/0}function bO(t){return typeof t=="number"&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Nn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fP(e)),e=D3(t.get(n),e);return fP(e)}function D3(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function fP(t){return t+""}function rr(t){let e=t.length;if(le(e>=2),e===2)return le(t.charAt(0)===""&&t.charAt(1)===""),$e.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&ne(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:ne()}o=s+2}return new $e(i)}var pP=["userId","batchId"];function ug(t,e){return[t,Nn(e)]}function wO(t,e,n){return[t,Nn(e),n]}var C3={},x3=["prefixPath","collectionGroup","readTime","documentId"],T3=["prefixPath","collectionGroup","documentId"],S3=["collectionGroup","readTime","prefixPath","documentId"],A3=["canonicalId","targetId"],M3=["targetId","path"],R3=["path","targetId"],N3=["collectionId","parent"],k3=["indexId","uid"],P3=["uid","sequenceNumber"],O3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],F3=["indexId","uid","orderedDocumentKey"],L3=["userId","collectionPath","documentId"],V3=["userId","collectionPath","largestBatchId"],j3=["userId","collectionGroup","largestBatchId"],EO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],B3=[...EO,"documentOverlays"],IO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DO=IO,hD=[...DO,"indexConfiguration","indexState","indexEntries"],U3=hD,z3=[...hD,"globals"];var Bd=class extends _g{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Xt(t,e){let n=Y(t);return Qo.F(n._e,e)}function mP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Et=class t{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}},el=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sr=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,i,r,o){return this}insert(e,n,i){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wg(this.data.getIterator())}getIteratorFrom(e){return new wg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function qc(t){return t.hasNext()?t.getNext():void 0}var ii=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(Vt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Eg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function xO(){return typeof atob<"u"}var Bt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Eg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bt.EMPTY_BYTE_STRING=new Bt("");var $3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(le(!!t),typeof t=="string"){let e=0,n=$3.exec(t);if(le(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yo(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}function hv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fD(t){let e=t.mapValue.fields.__previous_value__;return hv(e)?fD(e):e}function Ud(t){let e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}var wE=class{constructor(e,n,i,r,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Zo=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dg={nullValue:"NULL_VALUE"};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:TO(t)?9007199254740991:fv(t)?10:11:ne()}function lr(t,e){if(t===e)return!0;let n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ud(t).isEqual(Ud(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Gr(r.timestampValue),a=Gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Yo(r.bytesValue).isEqual(Yo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Dt(r.geoPointValue.latitude)===Dt(o.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Dt(r.integerValue)===Dt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Dt(r.doubleValue),a=Dt(o.doubleValue);return s===a?jd(s)===jd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(mP(s)!==mP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!lr(s[c],a[c])))return!1;return!0}(t,e);default:return ne()}}function zd(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;let n=ca(t),i=ca(e);if(n!==i)return Ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Dt(o.integerValue||o.doubleValue),c=Dt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return gP(t.timestampValue,e.timestampValue);case 4:return gP(Ud(t),Ud(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Yo(o),c=Yo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ae(a[u],c[u]);if(d!==0)return d}return Ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ae(Dt(o.latitude),Dt(s.latitude));return a!==0?a:Ae(Dt(o.longitude),Dt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(c=m.value)===null||c===void 0?void 0:c.arrayValue,D=Ae(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:vP(g,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Go.mapValue&&s===Go.mapValue)return 0;if(o===Go.mapValue)return 1;if(s===Go.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=Ae(c[f],d[f]);if(m!==0)return m;let g=Xo(a[c[f]],u[d[f]]);if(g!==0)return g}return Ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ne()}}function gP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);let n=Gr(t),i=Gr(e),r=Ae(n.seconds,i.seconds);return r!==0?r:Ae(n.nanos,i.nanos)}function vP(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let o=Xo(n[r],i[r]);if(o)return o}return Ae(n.length,i.length)}function sl(t){return EE(t)}function EE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Gr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=EE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${EE(n.fields[s])}`;return r+"}"}(t.mapValue):ne()}function la(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function IE(t){return!!t&&"integerValue"in t}function $d(t){return!!t&&"arrayValue"in t}function yP(t){return!!t&&"nullValue"in t}function _P(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hg(t){return!!t&&"mapValue"in t}function fv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=kd(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var SO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function H3(t){return"nullValue"in t?dg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?la(Zo.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?fv(t)?SO:{mapValue:{}}:ne()}function q3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?la(Zo.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?SO:"mapValue"in t?fv(t)?{mapValue:{}}:Go:ne()}function bP(t,e){let n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function wP(t,e){let n=Xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(n)}setAll(e){let n=Vt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=kd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());hg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];hg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_a(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(kd(this.value))}};function AO(t){let e=[];return _a(t.fields,(n,i)=>{let r=new Vt([n]);if(hg(i)){let o=AO(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new ii(e)}var Wt=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),Dn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,he.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ur=class{constructor(e,n){this.position=e,this.inclusive=n}};function EP(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=Z.comparator(Z.fromName(s.referenceValue),n.key):i=Xo(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function IP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var ua=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ig=class{},je=class t extends Ig{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new xE(e,n,i):n==="array-contains"?new AE(e,i):n==="in"?new Dg(e,i):n==="not-in"?new ME(e,i):n==="array-contains-any"?new RE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new TE(e,i):new SE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},nt=class t extends Ig{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return al(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function al(t){return t.op==="and"}function DE(t){return t.op==="or"}function pD(t){return MO(t)&&al(t)}function MO(t){for(let e of t.filters)if(e instanceof nt)return!1;return!0}function CE(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(pD(t))return t.filters.map(e=>CE(e)).join(",");{let e=t.filters.map(n=>CE(n)).join(",");return`${t.op}(${e})`}}function RO(t,e){return t instanceof je?function(i,r){return r instanceof je&&i.op===r.op&&i.field.isEqual(r.field)&&lr(i.value,r.value)}(t,e):t instanceof nt?function(i,r){return r instanceof nt&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&RO(s,r.filters[a]),!0):!1}(t,e):void ne()}function NO(t,e){let n=t.filters.concat(e);return nt.create(n,t.op)}function kO(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof nt?function(n){return n.op.toString()+" {"+n.getFilters().map(kO).join(" ,")+"}"}(t):"Filter"}var xE=class extends je{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},TE=class extends je{constructor(e,n){super(e,"in",n),this.keys=PO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},SE=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=PO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function PO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}var AE=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return $d(n)&&zd(n.arrayValue,this.value)}},Dg=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zd(this.value.arrayValue,n)}},ME=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!zd(this.value.arrayValue,n)}},RE=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!$d(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>zd(this.value.arrayValue,i))}};var NE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function kE(t,e=null,n=[],i=[],r=null,o=null,s=null){return new NE(t,e,n,i,r,o,s)}function da(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>CE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>sl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>sl(i)).join(",")),e.ue=n}return e.ue}function ch(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IP(t.startAt,e.startAt)&&IP(t.endAt,e.endAt)}function Cg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function xg(t,e){return t.filters.filter(n=>n instanceof je&&n.field.isEqual(e))}function DP(t,e,n){let i=dg,r=!0;for(let o of xg(t,e)){let s=dg,a=!0;switch(o.op){case"<":case"<=":s=H3(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=dg}bP({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];bP({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function CP(t,e,n){let i=Go,r=!0;for(let o of xg(t,e)){let s=Go,a=!0;switch(o.op){case">=":case">":s=q3(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Go}wP({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];wP({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var Oi=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function OO(t,e,n,i,r,o,s,a){return new Oi(t,e,n,i,r,o,s,a)}function El(t){return new Oi(t)}function xP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mD(t){return t.collectionGroup!==null}function nl(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(Vt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ua(o,i))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new ua(Vt.keyField(),i))}return e.ce}function kn(t){let e=Y(t);return e.le||(e.le=W3(e,nl(t))),e.le}function W3(t,e){if(t.limitType==="F")return kE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new ua(r.field,o)});let n=t.endAt?new ur(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ur(t.startAt.position,t.startAt.inclusive):null;return kE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function PE(t,e){let n=t.filters.concat([e]);return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return ch(kn(t),kn(e))&&t.limitType===e.limitType}function FO(t){return`${da(kn(t))}|lt:${t.limitType}`}function Yc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>kO(r)).join(", ")}]`),ah(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>sl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>sl(r)).join(",")),`Target(${i})`}(kn(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Z.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of nl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let u=EP(s,a,c);return s.inclusive?u<=0:u<0}(i.startAt,nl(i),r)||i.endAt&&!function(s,a,c){let u=EP(s,a,c);return s.inclusive?u>=0:u>0}(i.endAt,nl(i),r))}(t,e)}function LO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VO(t){return(e,n)=>{let i=!1;for(let r of nl(t)){let o=K3(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function K3(t,e,n){let i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?Xo(c,u):ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne()}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return CO(this.inner)}size(){return this.innerSize}};var Q3=new Et(Z.comparator);function Hn(){return Q3}var jO=new Et(Z.comparator);function Rd(...t){let e=jO;for(let n of t)e=e.insert(n.key,n);return e}function BO(t){let e=jO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function or(){return Pd()}function UO(){return Pd()}function Pd(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Y3=new Et(Z.comparator),Z3=new ut(Z.comparator);function ke(...t){let e=Z3;for(let n of t)e=e.add(n);return e}var X3=new ut(Ae);function gD(){return X3}function vD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function zO(t){return{integerValue:""+t}}function $O(t,e){return bO(e)?zO(e):vD(t,e)}var cl=class{constructor(){this._=void 0}};function J3(t,e,n){return t instanceof Jo?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hv(o)&&(o=fD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Wr?qO(t,e):t instanceof Kr?GO(t,e):function(r,o){let s=HO(r,o),a=TP(s)+TP(r.Pe);return IE(s)&&IE(r.Pe)?zO(a):vD(r.serializer,a)}(t,e)}function e5(t,e,n){return t instanceof Wr?qO(t,e):t instanceof Kr?GO(t,e):n}function HO(t,e){return t instanceof es?function(i){return IE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Jo=class extends cl{},Wr=class extends cl{constructor(e){super(),this.elements=e}};function qO(t,e){let n=WO(e);for(let i of t.elements)n.some(r=>lr(r,i))||n.push(i);return{arrayValue:{values:n}}}var Kr=class extends cl{constructor(e){super(),this.elements=e}};function GO(t,e){let n=WO(e);for(let i of t.elements)n=n.filter(r=>!lr(r,i));return{arrayValue:{values:n}}}var es=class extends cl{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function TP(t){return Dt(t.integerValue||t.doubleValue)}function WO(t){return $d(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ha=class{constructor(e,n){this.field=e,this.transform=n}};function t5(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Wr&&r instanceof Wr||i instanceof Kr&&r instanceof Kr?rl(i.elements,r.elements,lr):i instanceof es&&r instanceof es?lr(i.Pe,r.Pe):i instanceof Jo&&r instanceof Jo}(t.transform,e.transform)}var OE=class{constructor(e,n){this.version=e,this.transformResults=n}},kt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function fg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ll=class{};function KO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ns(t.key,kt.none()):new ts(t.key,t.data,kt.none());{let n=t.data,i=Dn.empty(),r=new ut(Vt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Fi(t.key,i,new ii(r.toArray()),kt.none())}}function n5(t,e,n){t instanceof ts?function(r,o,s){let a=r.value.clone(),c=AP(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(r,o,s){if(!fg(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=AP(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(QO(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Od(t,e,n,i){return t instanceof ts?function(o,s,a,c){if(!fg(o.precondition,s))return a;let u=o.value.clone(),d=MP(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Fi?function(o,s,a,c){if(!fg(o.precondition,s))return a;let u=MP(o.fieldTransforms,c,s),d=s.data;return d.setAll(QO(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return fg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function i5(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=HO(i.transform,r||null);o!=null&&(n===null&&(n=Dn.empty()),n.set(i.field,o))}return n||null}function SP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&rl(i,r,(o,s)=>t5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ts=class extends ll{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Fi=class extends ll{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function AP(t,e,n){let i=new Map;le(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,e5(s,a,n[r]))}return i}function MP(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,J3(o,s,e))}return i}var ns=class extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Hd=class extends ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var qd=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&n5(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Od(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Od(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=UO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=KO(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,i)=>SP(n,i))&&rl(this.baseMutations,e.baseMutations,(n,i)=>SP(n,i))}},FE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){le(e.mutations.length===i.length);let r=function(){return Y3}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var Gd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var LE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var $t,ze;function YO(t){switch(t){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function ZO(t){if(t===void 0)return Lt("GRPC error has no .code"),P.UNKNOWN;switch(t){case $t.OK:return P.OK;case $t.CANCELLED:return P.CANCELLED;case $t.UNKNOWN:return P.UNKNOWN;case $t.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case $t.INTERNAL:return P.INTERNAL;case $t.UNAVAILABLE:return P.UNAVAILABLE;case $t.UNAUTHENTICATED:return P.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case $t.NOT_FOUND:return P.NOT_FOUND;case $t.ALREADY_EXISTS:return P.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return P.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case $t.ABORTED:return P.ABORTED;case $t.OUT_OF_RANGE:return P.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return P.UNIMPLEMENTED;case $t.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(ze=$t||($t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";var RP=null;function XO(){return new TextEncoder}var r5=new Uo([4294967295,4294967295],0);function NP(t){let e=XO().encode(t),n=new X0;return n.update(e),new Uint8Array(n.digest())}function kP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Uo([n,i],0),new Uo([r,o],0)]}var VE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(i<0)throw new sa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Uo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Uo.fromNumber(i)));return r.compare(r5)===1&&(r=new Uo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=NP(e),[i,r]=kP(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=NP(e),[i,r]=kP(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},sa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wd=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(he.min(),r,new Et(Ae),Hn(),ke())}},Kd=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ke(),ke(),ke())}};var il=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Sg=class{constructor(e,n){this.targetId=e,this.me=n}},Ag=class{constructor(e,n,i=Bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Mg=class{constructor(){this.fe=0,this.ge=OP(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),i=ke();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ne()}}),new Kd(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=OP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},jE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=PP(),this.Qe=new Et(Ae)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if(Cg(o))if(i===0){let s=new Z(o.path);this.Ue(n,s,Wt.newNoDocument(s,he.min()))}else le(i===1);else{let s=this.Ye(n);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}RP?.et(function(d,f,m,g,_){var D,I,k,G,H,K;let ue={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ie=f.unchangedNames;return ie&&(ue.bloomFilter={applied:_===0,hashCount:(D=ie?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(G=(k=(I=ie?.bits)===null||I===void 0?void 0:I.bitmap)===null||k===void 0?void 0:k.length)!==null&&G!==void 0?G:0,padding:(K=(H=ie?.bits)===null||H===void 0?void 0:H.padding)!==null&&K!==void 0?K:0,mightContain:E=>{var y;return(y=g?.mightContain(E))!==null&&y!==void 0&&y}}),ue}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Yo(i).toUint8Array()}catch(c){if(c instanceof Eg)return pi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new VE(s,r,o)}catch(c){return pi(c instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Cg(a.target)){let c=new Z(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Wt.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let i=ke();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Wd(e,n,this.Qe,this.ke,i);return this.ke=Hn(),this.qe=PP(),this.Qe=new Et(Ae),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Mg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function PP(){return new Et(Z.comparator)}function OP(){return new Et(Z.comparator)}var o5={asc:"ASCENDING",desc:"DESCENDING"},s5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a5={and:"AND",or:"OR"},BE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function UE(t,e){return t.useProto3Json||ah(e)?e:{value:e}}function ul(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function c5(t,e){return ul(t,e.toTimestamp())}function jt(t){return le(!!t),he.fromTimestamp(function(n){let i=Gr(n);return new At(i.seconds,i.nanos)}(t))}function yD(t,e){return zE(t,e).canonicalString()}function zE(t,e){let n=function(r){return new $e(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function e1(t){let e=$e.fromString(t);return le(u1(e)),e}function Qd(t,e){return yD(t.databaseId,e.path)}function ar(t,e){let n=e1(e);if(n.get(1)!==t.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(i1(n))}function t1(t,e){return yD(t.databaseId,e)}function n1(t){let e=e1(t);return e.length===4?$e.emptyPath():i1(e)}function $E(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i1(t){return le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FP(t,e,n){return{name:Qd(t,e),fields:n.value.mapValue.fields}}function r1(t,e,n){let i=ar(t,e.name),r=jt(e.updateTime),o=e.createTime?jt(e.createTime):he.min(),s=new Dn({mapValue:{fields:e.fields}}),a=Wt.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function l5(t,e){return"found"in e?function(i,r){le(!!r.found),r.found.name,r.found.updateTime;let o=ar(i,r.found.name),s=jt(r.found.updateTime),a=r.found.createTime?jt(r.found.createTime):he.min(),c=new Dn({mapValue:{fields:r.found.fields}});return Wt.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){le(!!r.missing),le(!!r.readTime);let o=ar(i,r.missing),s=jt(r.readTime);return Wt.newNoDocument(o,s)}(t,e):ne()}function u5(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(le(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):(le(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?P.UNKNOWN:ZO(u.code);return new z(d,u.message||"")}(s);n=new Ag(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=ar(t,i.document.name),o=jt(i.document.updateTime),s=i.document.createTime?jt(i.document.createTime):he.min(),a=new Dn({mapValue:{fields:i.document.fields}}),c=Wt.newFoundDocument(r,o,s,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new il(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=ar(t,i.document),o=i.readTime?jt(i.readTime):he.min(),s=Wt.newNoDocument(r,o),a=i.removedTargetIds||[];n=new il([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=ar(t,i.document),o=i.removedTargetIds||[];n=new il([],o,r,null)}else{if(!("filter"in e))return ne();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new LE(r,o),a=i.targetId;n=new Sg(a,s)}}return n}function Yd(t,e){let n;if(e instanceof ts)n={update:FP(t,e.key,e.value)};else if(e instanceof ns)n={delete:Qd(t,e.key)};else if(e instanceof Fi)n={update:FP(t,e.key,e.data),updateMask:g5(e.fieldMask)};else{if(!(e instanceof Hd))return ne();n={verify:Qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof es)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:c5(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function HE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?kt.updateTime(jt(o.updateTime)):o.exists!==void 0?kt.exists(o.exists):kt.none()}(e.currentDocument):kt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)le(a.setToServerValue==="REQUEST_TIME"),c=new Jo;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Wr(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Kr(d)}else"increment"in a?c=new es(s,a.increment):ne();let u=Vt.fromServerFormat(a.fieldPath);return new ha(u,c)}(t,r)):[];if(e.update){e.update.name;let r=ar(t,e.update.name),o=new Dn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let u=c.fieldPaths||[];return new ii(u.map(d=>Vt.fromServerFormat(d)))}(e.updateMask);return new Fi(r,o,s,n,i)}return new ts(r,o,n,i)}if(e.delete){let r=ar(t,e.delete);return new ns(r,n)}if(e.verify){let r=ar(t,e.verify);return new Hd(r,n)}return ne()}function d5(t,e){return t&&t.length>0?(le(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?jt(r.updateTime):jt(o);return s.isEqual(he.min())&&(s=jt(o)),new OE(s,r.transformResults||[])}(n,e))):[]}function o1(t,e){return{documents:[t1(t,e.path)]}}function s1(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=t1(t,r);let o=function(u){if(u.length!==0)return l1(nt.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Zc(m.field),direction:f5(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=UE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function a1(t){let e=n1(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){le(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){let m=c1(f);return m instanceof nt&&pD(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(_){return new ua(Xc(_.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,ah(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new ur(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new ur(g,m)}(n.endAt)),OO(e,r,s,o,a,"F",c,u)}function h5(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function c1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Xc(n.unaryFilter.field);return je.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Xc(n.unaryFilter.field);return je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xc(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xc(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return je.create(Xc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nt.create(n.compositeFilter.filters.map(i=>c1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function f5(t){return o5[t]}function p5(t){return s5[t]}function m5(t){return a5[t]}function Zc(t){return{fieldPath:t.canonicalString()}}function Xc(t){return Vt.fromServerFormat(t.fieldPath)}function l1(t){return t instanceof je?function(n){if(n.op==="=="){if(_P(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NAN"}};if(yP(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_P(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NOT_NAN"}};if(yP(n.value))return{unaryFilter:{field:Zc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(n.field),op:p5(n.op),value:n.value}}}(t):t instanceof nt?function(n){let i=n.getFilters().map(r=>l1(r));return i.length===1?i[0]:{compositeFilter:{op:m5(n.op),filters:i}}}(t):ne()}function g5(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dl=class t{constructor(e,n,i,r,o=he.min(),s=he.min(),a=Bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Rg=class{constructor(e){this.ct=e}};function v5(t,e){let n;if(e.document)n=r1(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=Z.fromSegments(e.noDocument.path),r=pa(e.noDocument.readTime);n=Wt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ne();{let i=Z.fromSegments(e.unknownDocument.path),r=pa(e.unknownDocument.version);n=Wt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new At(r[0],r[1]);return he.fromTimestamp(o)}(e.readTime)),n}function LP(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Qd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:ul(o,s.version.toTimestamp()),createTime:ul(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:fa(e.version)};else{if(!e.isUnknownDocument())return ne();i.unknownDocument={path:n.path.toArray(),version:fa(e.version)}}return i}function Ng(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fa(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pa(t){let e=new At(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function ia(t,e){let n=(e.baseMutations||[]).map(o=>HE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>HE(t.ct,o)),r=At.fromMillis(e.localWriteTimeMs);return new qd(e.batchId,r,n,i)}function Nd(t){let e=pa(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?pa(t.lastLimboFreeSnapshotVersion):he.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return le(o.documents.length===1),kn(El(n1(o.documents[0])))}(t.query):function(o){return kn(a1(o))}(t.query),new dl(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Bt.fromBase64String(t.resumeToken))}function d1(t,e){let n=fa(e.snapshotVersion),i=fa(e.lastLimboFreeSnapshotVersion),r;r=Cg(e.target)?o1(t.ct,e.target):s1(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:da(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _D(t){let e=a1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}function oE(t,e){return new Gd(e.largestBatchId,HE(t.ct,e.overlayMutation))}function VP(t,e){let n=e.path.lastSegment();return[t,Nn(e.path.popLast()),n]}function jP(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:fa(i.readTime),documentKey:Nn(i.documentKey.path),largestBatchId:i.largestBatchId}}var qE=class{getBundleMetadata(e,n){return BP(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:pa(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return BP(e).put(function(r){return{bundleId:r.id,createTime:fa(jt(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return UP(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:_D(o.bundledQuery),readTime:pa(o.readTime)}}(i)})}saveNamedQuery(e,n){return UP(e).put(function(r){return{name:r.name,readTime:fa(jt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function BP(t){return Xt(t,"bundles")}function UP(t){return Xt(t,"namedQueries")}var kg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return Td(e).get(VP(this.userId,n)).next(i=>i?oE(this.serializer,i):null)}getOverlays(e,n){let i=or();return N.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new Gd(n,s);r.push(this.ht(e,a))}),N.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(Nn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Td(e).j("collectionPathOverlayIndex",a))}),N.waitFor(o)}getOverlaysForCollection(e,n,i){let r=or(),o=Nn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Td(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let u=oE(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=or(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Td(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=oE(this.serializer,u);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return Td(e).put(function(r,o,s){let[a,c,u]=VP(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Yd(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function Td(t){return Xt(t,"documentOverlays")}var GE=class{Pt(e){return Xt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{let i=n?.value;return i?Bt.fromUint8Array(i):Bt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}};var Hr=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Dt(e.integerValue));else if("doubleValue"in e){let i=Dt(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),jd(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Gr(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Yo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?TO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):fv(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(Dt(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Hr.vt=new Hr;function y5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function zP(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=y5(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var WE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ft(i.value),i=n.next();this.Mt()}xt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ot(i.value),i=n.next();this.Nt()}Lt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=n.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=n.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){let n=this.qt(e),i=zP(n);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Kt(e){let n=this.qt(e),i=zP(n);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ft(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){let n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},KE=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},QE=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},ra=class{constructor(){this.jt=new WE,this.Ht=new KE(this.jt),this.Jt=new QE(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var oa=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Zt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function zo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=$P(t.arrayValue,e.arrayValue),n!==0?n:(n=$P(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function $P(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var Pg=class{constructor(e){this.Xt=new ut((n,i)=>Vt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let n of e.filters){let i=n;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(le(e.collectionGroup===this.collectionId),this.nn)return!1;let n=gE(e);if(n!==void 0&&!this.sn(n))return!1;let i=ta(e),r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new ut(Vt.comparator),n=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new tl(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new tl(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new tl(i.field,i.dir==="asc"?0:1)));return new ol(ol.UNKNOWN_ID,this.collectionId,n,Vd.empty())}sn(e){for(let n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function h1(t){var e,n;if(le(t instanceof je||t instanceof nt),t instanceof je){if(t instanceof Dg){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>je.create(t.field,"==",o)))||[];return nt.create(r,"or")}return t}let i=t.filters.map(r=>h1(r));return nt.create(i,t.op)}function _5(t){if(t.getFilters().length===0)return[];let e=XE(h1(t));return le(f1(e)),YE(e)||ZE(e)?[e]:e.getFilters()}function YE(t){return t instanceof je}function ZE(t){return t instanceof nt&&pD(t)}function f1(t){return YE(t)||ZE(t)||function(n){if(n instanceof nt&&DE(n)){for(let i of n.getFilters())if(!YE(i)&&!ZE(i))return!1;return!0}return!1}(t)}function XE(t){if(le(t instanceof je||t instanceof nt),t instanceof je)return t;if(t.filters.length===1)return XE(t.filters[0]);let e=t.filters.map(i=>XE(i)),n=nt.create(e,t.op);return n=Og(n),f1(n)?n:(le(n instanceof nt),le(al(n)),le(n.filters.length>1),n.filters.reduce((i,r)=>bD(i,r)))}function bD(t,e){let n;return le(t instanceof je||t instanceof nt),le(e instanceof je||e instanceof nt),n=t instanceof je?e instanceof je?function(r,o){return nt.create([r,o],"and")}(t,e):HP(t,e):e instanceof je?HP(e,t):function(r,o){if(le(r.filters.length>0&&o.filters.length>0),al(r)&&al(o))return NO(r,o.getFilters());let s=DE(r)?r:o,a=DE(r)?o:r,c=s.filters.map(u=>bD(u,a));return nt.create(c,"or")}(t,e),Og(n)}function HP(t,e){if(al(e))return NO(e,t.getFilters());{let n=e.filters.map(i=>bD(t,i));return nt.create(n,"or")}}function Og(t){if(le(t instanceof je||t instanceof nt),t instanceof je)return t;let e=t.getFilters();if(e.length===1)return Og(e[0]);if(MO(t))return t;let n=e.map(r=>Og(r)),i=[];return n.forEach(r=>{r instanceof je?i.push(r):r instanceof nt&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:nt.create(i,t.op)}var JE=class{constructor(){this.un=new Zd}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(mi.min())}updateCollectionGroup(e,n,i){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Zd=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ut($e.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}};var sg=new Uint8Array(0),eI=class{constructor(e,n){this.databaseId=n,this.cn=new Zd,this.ln=new dr(i=>da(i),(i,r)=>ch(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});let o={collectionId:i,parent:Nn(r)};return qP(e).put(o)}return N.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[mO(n),""],!1,!0);return qP(e).U(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(rr(s.parent))}return i})}addFieldIndex(e,n){let i=Sd(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=Wc(e);return o.next(a=>{s.put(jP(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=Sd(e),r=Wc(e),o=Gc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Sd(e),i=Gc(e),r=Wc(e);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,n){return N.forEach(this.hn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new Pg(i).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Gc(e),r=!0,o=new Map;return N.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ke(),a=[];return N.forEach(o,(c,u)=>{q("IndexedDbIndexManager",`Using index ${function(H){return`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`}(c)} to execute ${da(n)}`);let d=function(H,K){let ue=gE(K);if(ue===void 0)return null;for(let ie of xg(H,ue.fieldPath))switch(ie.op){case"array-contains-any":return ie.value.arrayValue.values||[];case"array-contains":return[ie.value]}return null}(u,c),f=function(H,K){let ue=new Map;for(let ie of ta(K))for(let E of xg(H,ie.fieldPath))switch(E.op){case"==":case"in":ue.set(ie.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return ue.set(ie.fieldPath.canonicalString(),E.value),Array.from(ue.values())}return null}(u,c),m=function(H,K){let ue=[],ie=!0;for(let E of ta(K)){let y=E.kind===0?DP(H,E.fieldPath,H.startAt):CP(H,E.fieldPath,H.startAt);ue.push(y.value),ie&&(ie=y.inclusive)}return new ur(ue,ie)}(u,c),g=function(H,K){let ue=[],ie=!0;for(let E of ta(K)){let y=E.kind===0?CP(H,E.fieldPath,H.endAt):DP(H,E.fieldPath,H.endAt);ue.push(y.value),ie&&(ie=y.inclusive)}return new ur(ue,ie)}(u,c),_=this.In(c,u,m),D=this.In(c,u,g),I=this.Tn(c,u,f),k=this.En(c.indexId,d,_,m.inclusive,D,g.inclusive,I);return N.forEach(k,G=>i.G(G,n.limit).next(H=>{H.forEach(K=>{let ue=Z.fromSegments(K.documentKey);s.has(ue)||(s=s.add(ue),a.push(ue))})}))}).next(()=>a)}return N.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=_5(nt.create(e.filters,"and")).map(i=>kE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let m=n?this.dn(n[f/u]):sg,g=this.An(e,m,i[f%u],r),_=this.Rn(e,m,o[f%u],s),D=a.map(I=>this.An(e,m,I,!0));d.push(...this.createRange(g,_,D))}return d}An(e,n,i,r){let o=new oa(e,Z.empty(),n,i);return r?o:o.Zt()}Rn(e,n,i,r){let o=new oa(e,Z.empty(),n,i);return r?o.Zt():o}Pn(e,n){let i=new Pg(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.hn(n);return N.forEach(r,o=>this.Pn(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let u=new ut(Vt.comparator),d=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}Vn(e,n){let i=new ra;for(let r of ta(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Yt(r.kind);Hr.vt.It(o,s)}return i.zt()}dn(e){let n=new ra;return Hr.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){let i=new ra;return Hr.vt.It(la(this.databaseId,n),i.Yt(function(o){let s=ta(o);return s.length===0?0:s[s.length-1].kind}(e))),i.zt()}Tn(e,n,i){if(i===null)return[];let r=[];r.push(new ra);let o=0;for(let s of ta(e)){let a=i[o++];for(let c of r)if(this.fn(n,s.fieldPath)&&$d(a))r=this.gn(r,s,a);else{let u=c.Yt(s.kind);Hr.vt.It(a,u)}}return this.pn(r)}In(e,n,i){return this.Tn(e,n,i.position)}pn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].zt();return n}gn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new ra;c.seed(a.zt()),Hr.vt.It(s,c.Yt(n.kind)),o.push(c)}return o}fn(e,n){return!!e.filters.find(i=>i instanceof je&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=Sd(e),r=Wc(e);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(o=>{let s=[];return N.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let m=f?new Vd(f.sequenceNumber,new mi(pa(f.readTime),new Z(rr(f.documentKey)),f.largestBatchId)):Vd.empty(),g=d.fields.map(([_,D])=>new tl(Vt.fromServerFormat(_),D));return new ol(d.indexId,d.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Ae(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=Sd(e),o=Wc(e);return this.yn(e).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,c=>o.put(jP(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return N.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?N.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),N.forEach(a,c=>this.wn(e,r,c).next(u=>{let d=this.Sn(o,c);return u.isEqual(d)?N.resolve():this.bn(e,o,c,u,d)}))))})}Dn(e,n,i,r){return Gc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,n.key),documentKey:n.key.path.toArray()})}vn(e,n,i,r){return Gc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,n.key),n.key.path.toArray()])}wn(e,n,i){let r=Gc(e),o=new ut(zo);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,n)])},(s,a)=>{o=o.add(new oa(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let i=new ut(zo),r=this.Vn(n,e);if(r==null)return i;let o=gE(n);if(o!=null){let s=e.data.field(o.fieldPath);if($d(s))for(let a of s.arrayValue.values||[])i=i.add(new oa(n.indexId,e.key,this.dn(a),r))}else i=i.add(new oa(n.indexId,e.key,sg,r));return i}bn(e,n,i,r,o){q("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,u,d,f,m){let g=c.getIterator(),_=u.getIterator(),D=qc(g),I=qc(_);for(;D||I;){let k=!1,G=!1;if(D&&I){let H=d(D,I);H<0?G=!0:H>0&&(k=!0)}else D!=null?G=!0:k=!0;k?(f(I),I=qc(_)):G?(m(D),D=qc(g)):(D=qc(g),I=qc(_))}}(r,o,zo,a=>{s.push(this.Dn(e,n,i,a))},a=>{s.push(this.vn(e,n,i,a))}),N.waitFor(s)}yn(e){let n=1;return Wc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>zo(s,a)).filter((s,a,c)=>!a||zo(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=zo(s,e),c=zo(s,n);if(a===0)r[0]=e.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,sg,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,sg,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,n){return zo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(GP)}getMinOffset(e,n){return N.mapArray(this.hn(n),i=>this.Pn(e,i).next(r=>r||ne())).next(GP)}};function qP(t){return Xt(t,"collectionParents")}function Gc(t){return Xt(t,"indexEntries")}function Sd(t){return Xt(t,"indexConfiguration")}function Wc(t){return Xt(t,"indexState")}function GP(t){le(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;uD(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new mi(e.readTime,e.documentKey,n)}var WP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function p1(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.J({range:s},(d,f,m)=>(a++,m.delete()));o.push(c.next(()=>{le(a===1)}));let u=[];for(let d of n.mutations){let f=wO(e,d.key.path,n.batchId);o.push(r.delete(f)),u.push(d.key)}return N.waitFor(o).next(()=>u)}function Fg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ne();e=t.noDocument}return JSON.stringify(e).length}fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);var Lg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,n,i,r){le(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).J({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=Jc(e),s=$o(e);return s.add({}).next(a=>{le(typeof a=="number");let c=new qd(a,n,i,r),u=function(g,_,D){let I=D.baseMutations.map(G=>Yd(g.ct,G)),k=D.mutations.map(G=>Yd(g.ct,G));return{userId:_,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:I,mutations:k}}(this.serializer,this.userId,c),d=[],f=new ut((m,g)=>Ae(m.canonicalString(),g.canonicalString()));for(let m of r){let g=wO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(o.put(g,C3))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),N.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return $o(e).get(n).next(i=>i?(le(i.userId===this.userId),ia(this.serializer,i)):null)}Mn(e,n){return this.Fn[n]?N.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Fn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return $o(e).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(le(a.batchId>=i),o=ia(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return $o(e).J({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).U("userMutationsIndex",n).next(i=>i.map(r=>ia(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=ug(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Jc(e).J({range:r},(s,a,c)=>{let[u,d,f]=s,m=rr(d);if(u===this.userId&&n.path.isEqual(m))return $o(e).get(f).next(g=>{if(!g)throw ne();le(g.userId===this.userId),o.push(ia(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ut(Ae),r=[];return n.forEach(o=>{let s=ug(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Jc(e).J({range:a},(u,d,f)=>{let[m,g,_]=u,D=rr(g);m===this.userId&&o.path.isEqual(D)?i=i.add(_):f.done()});r.push(c)}),N.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=ug(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new ut(Ae);return Jc(e).J({range:s},(c,u,d)=>{let[f,m,g]=c,_=rr(m);f===this.userId&&i.isPrefixOf(_)?_.length===r&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){let i=[],r=[];return n.forEach(o=>{r.push($o(e).get(o).next(s=>{if(s===null)throw ne();le(s.userId===this.userId),i.push(ia(this.serializer,s))}))}),N.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return p1(e._e,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),N.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Jc(e).J({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=rr(o[1]);r.push(c)}else a.done()}).next(()=>{le(r.length===0)})})}containsKey(e,n){return m1(e,this.userId,n)}Nn(e){return g1(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function m1(t,e,n){let i=ug(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Jc(t).J({range:o,H:!0},(a,c,u)=>{let[d,f,m]=a;d===e&&f===r&&(s=!0),u.done()}).next(()=>s)}function $o(t){return Xt(t,"mutations")}function Jc(t){return Xt(t,"documentMutations")}function g1(t){return Xt(t,"mutationQueues")}var hl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var tI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{let i=new hl(n.highestTargetId);return n.highestTargetId=i.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new At(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Qn(e,r)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(n,i),this.Qn(e,i))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Kc(e).delete(n.targetId)).next(()=>this.qn(e)).next(i=>(le(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return Kc(e).J((s,a)=>{let c=Nd(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>N.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Kc(e).J((i,r)=>{let o=Nd(r);n(o)})}qn(e){return KP(e).get("targetGlobalKey").next(n=>(le(n!==null),n))}Qn(e,n){return KP(e).put("targetGlobalKey",n)}Kn(e,n){return Kc(e).put(d1(this.serializer,n))}$n(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=da(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Kc(e).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let u=Nd(a);ch(n,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=Ho(e);return n.forEach(s=>{let a=Nn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),N.waitFor(r)}removeMatchingKeys(e,n,i){let r=Ho(e);return N.forEach(n,o=>{let s=Nn(o.path);return N.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=Ho(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Ho(e),o=ke();return r.J({range:i,H:!0},(s,a,c)=>{let u=rr(s[1]),d=new Z(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){let i=Nn(n.path),r=IDBKeyRange.bound([i],[mO(i)],!1,!0),o=0;return Ho(e).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return Kc(e).get(n).next(i=>i?Nd(i):null)}};function Kc(t){return Xt(t,"targets")}function KP(t){return Xt(t,"targetGlobal")}function Ho(t){return Xt(t,"targetDocuments")}function QP([t,e],[n,i]){let r=Ae(t,n);return r===0?Ae(e,i):r}var nI=class{constructor(e){this.Un=e,this.buffer=new ut(QP),this.Wn=0}Gn(){return++this.Wn}zn(e){let n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();QP(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},iI=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>F(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){os(n)?q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield rs(n)}yield this.Hn(3e5)}))}},rI=class{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return N.resolve(ni.oe);let i=new nI(n);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(WP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WP):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let i,r,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(u=Date.now(),Qc()<=Ui.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function b5(t,e){return new rI(t,e)}var oI=class{constructor(e,n){this.db=e,this.garbageCollector=b5(this,n)}Yn(e){let n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}er(e){let n=0;return this.Zn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(i,r)=>n(r))}addReference(e,n,i){return ag(e,i)}removeReference(e,n,i){return ag(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return ag(e,n)}nr(e,n){return function(r,o){let s=!1;return g1(r).Y(a=>m1(r,a,o).next(c=>(c&&(s=!0),N.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.tr(e,(s,a)=>{if(a<=n){let c=this.nr(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,he.min()),Ho(e).delete(function(f){return[0,Nn(f.path)]}(s))))});r.push(c)}}).next(()=>N.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return ag(e,n)}tr(e,n){let i=Ho(e),r,o=ni.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{s===0?(o!==ni.oe&&n(new Z(rr(r)),o),o=u,r=c):o=ni.oe}).next(()=>{o!==ni.oe&&n(new Z(rr(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function ag(t,e){return Ho(t).put(function(i,r){return{targetId:0,path:Nn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var Vg=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return ea(e).put(i)}removeEntry(e,n,i){return ea(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ng(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.rr(e,i)))}getEntry(e,n){let i=Wt.newInvalidDocument(n);return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(r,o)=>{i=this.ir(n,o)}).next(()=>i)}sr(e,n){let i={size:0,document:Wt.newInvalidDocument(n)};return ea(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ad(n))},(r,o)=>{i={document:this.ir(n,o),size:Fg(o)}}).next(()=>i)}getEntries(e,n){let i=Hn();return this._r(e,n,(r,o)=>{let s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(e,n){let i=Hn(),r=new Et(Z.comparator);return this._r(e,n,(o,s)=>{let a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,Fg(s))}).next(()=>({documents:i,ur:r}))}_r(e,n,i){if(n.isEmpty())return N.resolve();let r=new ut(XP);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(Ad(r.first()),Ad(r.last())),s=r.getIterator(),a=s.getNext();return ea(e).J({index:"documentKeyIndex",range:o},(c,u,d)=>{let f=Z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&XP(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?d.$(Ad(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Ng(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ea(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=Hn();for(let f of u){let m=this.ir(Z.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(uh(n,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,i,r){let o=Hn(),s=ZP(n,i),a=ZP(n,mi.max());return ea(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,d)=>{let f=this.ir(Z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(e){return new aI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return YP(e).get("remoteDocumentGlobalKey").next(n=>(le(!!n),n))}rr(e,n){return YP(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){let i=v5(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(he.min())))return i}return Wt.newInvalidDocument(e)}};function v1(t){return new sI(t)}var aI=class extends Vg{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new dr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new ut((o,s)=>Ae(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=LP(this.cr.serializer,s);r=r.add(o.path.popLast());let u=Fg(c);i+=u-a.size,n.push(this.cr.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=LP(this.cr.serializer,s.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,i)),N.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(i=>(this.lr.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function YP(t){return Xt(t,"remoteDocumentGlobal")}function ea(t){return Xt(t,"remoteDocumentsV14")}function Ad(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZP(t,e){let n=e.documentKey.path.toArray();return[t,Ng(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XP(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=Ae(n[o],i[o]),r)return r;return r=Ae(n.length,i.length),r||(r=Ae(n[n.length-2],i[i.length-2]),r||Ae(n[n.length-1],i[i.length-1]))}var cI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jg=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Od(i.mutation,r,ii.empty(),At.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ke()){let r=or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Rd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ke()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=Hn(),s=Pd(),a=function(){return Pd()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Fi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Od(d.mutation,u,d.mutation.getFieldMask(),At.now())):s.set(u.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new cI(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Pd(),r=new Et((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||ii.empty();d=a.applyToLocalView(u,d),i.set(c,d);let f=(r.get(a.batchId)||ke()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=UO();d.forEach(m=>{if(!o.has(m)){let g=KO(n.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return N.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):N.resolve(or()),a=-1,c=o;return s.next(u=>N.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(d=>({batchId:a,changes:BO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let r=Rd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Rd();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{let u=function(f,m){return new Oi(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Wt.newInvalidDocument(d)))});let a=Rd();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&Od(d.mutation,u,ii.empty(),At.now()),uh(n,u)&&(a=a.insert(c,u))}),a})}};var lI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:jt(r.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:_D(r.bundledQuery),readTime:jt(r.readTime)}}(n)),N.resolve()}};var uI=class{constructor(){this.overlays=new Et(Z.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let i=or();return N.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),N.resolve()}getOverlaysForCollection(e,n,i){let r=or(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return N.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Et((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=o.get(u.largestBatchId);d===null&&(d=or(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=or(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return N.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Gd(n,i));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}};var dI=class{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Xd=class{constructor(){this.Tr=new ut(Ht.Er),this.dr=new ut(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new Ht(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new Z(new $e([])),i=new Ht(n,e),r=new Ht(n,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new $e([])),i=new Ht(n,e),r=new Ht(n,e+1),o=ke();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ht(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ht=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var hI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(Ht.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new qd(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ht(n,0),r=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ut(Ae);return n.forEach(r=>{let o=new Ht(r,0),s=new Ht(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),N.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Z.isDocumentKey(o)||(o=o.child(""));let s=new Ht(new Z(o),0),a=new ut(Ae);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},s),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return N.forEach(n.mutations,r=>{let o=new Ht(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new Ht(n,0),r=this.br.firstAfterOrEqual(i);return N.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fI=class{constructor(e){this.Mr=e,this.docs=function(){return new Et(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let i=Hn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Wt.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Hn(),s=n.path,a=new Z(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||uD(vO(d),i)<=0||(r.has(d.key)||uh(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,i,r){ne()}Or(e,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new pI(this)}getSize(e){return N.resolve(this.size)}},pI=class extends Vg{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var mI=class{constructor(e){this.persistence=e,this.Nr=new dr(n=>da(n),ch),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xd,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return N.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),N.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return N.resolve(i)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Bg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ni(0),this.Kr=!1,this.Kr=!0,this.$r=new dI,this.referenceDelegate=e(this),this.Ur=new mI(this),this.indexManager=new JE,this.remoteDocumentCache=function(r){return new fI(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Rg(n),this.Gr=new lI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new hI(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);let r=new gI(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},gI=class extends _g{constructor(e){super(),this.currentSequenceNumber=e}},Ug=class t{constructor(e){this.persistence=e,this.Jr=new Xd,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),N.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,i=>{let r=Z.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var vI=class{constructor(e){this.serializer=e}O(e,n,i,r){let o=new bg("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pP,{unique:!0}),c.createObjectStore("documentMutations")}(e),JP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=N.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),JP(e)),s=s.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pP,{unique:!0});let f=u.store("mutations"),m=d.map(g=>f.put(g));return N.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:L3});u.createIndex("collectionPathOverlayIndex",V3,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",j3,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:x3});u.createIndex("documentKeyIndex",T3),u.createIndex("collectionGroupIndex",S3)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:k3}).createIndex("sequenceNumberIndex",P3,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:O3}).createIndex("documentKeyIndex",F3,{unique:!1})}(e))),i<16&&r>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((i,r)=>{n+=Fg(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.U().next(r=>N.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>N.forEach(a,c=>{le(c.userId===o.userId);let u=ia(this.serializer,c);return p1(e,o.userId,u).next(()=>{})}))}))}ii(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.J((s,a)=>{let c=new $e(s),u=function(f){return[0,Nn(f)]}(c);o.push(n.get(u).next(d=>d?N.resolve():(f=>n.put({targetId:0,path:Nn(f),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>N.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:N3});let i=n.store("collectionParents"),r=new Zd,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Nn(c)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new $e(s);return o(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,c],u)=>{let d=rr(a);return o(d.popLast())}))}oi(e){let n=e.store("targets");return n.J((i,r)=>{let o=Nd(r),s=d1(this.serializer,o);return n.put(s)})}_i(e,n){let i=n.store("remoteDocuments"),r=[];return i.J((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new Z($e.fromString(f.document.name).popFirst(5)):f.noDocument?Z.fromSegments(f.noDocument.path):f.unknownDocument?Z.fromSegments(f.unknownDocument.path):ne()}(s).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>N.waitFor(r))}ai(e,n){let i=n.store("mutations"),r=v1(this.serializer),o=new Bg(Ug.Zr,this.serializer.ct);return i.U().next(s=>{let a=new Map;return s.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:ke();ia(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),N.forEach(a,(c,u)=>{let d=new qt(u),f=kg.lt(this.serializer,d),m=o.getIndexManager(d),g=Lg.lt(d,this.serializer,m,o.referenceDelegate);return new jg(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Bd(n,ni.oe),c).next()})})}};function JP(t){t.createObjectStore("targetDocuments",{keyPath:M3}).createIndex("documentTargetsIndex",R3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",A3,{unique:!0}),t.createObjectStore("targetGlobal")}var sE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yI=class t{constructor(e,n,i,r,o,s,a,c,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!t.D())throw new z(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oI(this,r),this.Ai=n+"main",this.serializer=new Rg(c),this.Ri=new Qo(this.Ai,this.hi,new vI(this.serializer)),this.$r=new GE,this.Ur=new tI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=v1(this.serializer),this.Gr=new qE,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(P.FAILED_PRECONDITION,sE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ni(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=n=>F(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(n=>F(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>F(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(os(e))return q("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Md(e).get("owner").next(n=>N.resolve(this.vi(n)))}Ci(e){return cg(e).delete(this.clientId)}Fi(){return F(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Xt(n,"clientMetadata");return i.U().next(r=>{let o=this.xi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return N.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let n of e)this.Vi.removeItem(this.Oi(n.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?N.resolve(!0):Md(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new z(P.FAILED_PRECONDITION,sE);return!1}}return!(!this.networkEnabled||!this.inForeground)||cg(e).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&q("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return F(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Bd(e,ni.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()})}xi(e,n){return e.filter(i=>this.Mi(i.updateTimeMs,n)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>cg(e).U().next(n=>this.xi(n,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Lg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return kg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,i){q("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===17?z3:c===16?U3:c===15?hD:c===14?DO:c===13?IO:c===12?B3:c===11?EO:void ne()}(this.hi),s;return this.Ri.runTransaction(e,r,o,a=>(s=new Bd(a,this.Qr?this.Qr.next():ni.oe),n==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new z(P.FAILED_PRECONDITION,yO);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return Md(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(P.FAILED_PRECONDITION,sE)})}Di(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Md(e).put("owner",n)}static D(){return Qo.D()}bi(e){let n=Md(e);return n.get("owner").next(i=>this.vi(i)?(q("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):N.resolve())}Mi(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(Lt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let n=/(?:Version|Mobile)\/1[456]/;iy()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{let i=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return q("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Lt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Lt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Md(t){return Xt(t,"owner")}function cg(t){return Xt(t,"clientMetadata")}function wD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _I=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ke(),r=ke();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var bI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var zg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iy()?8:_O(tu())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Qc()<=Ui.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Qc()<=Ui.DEBUG&&q("QueryEngine","Query:",Yc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Qc()<=Ui.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):N.resolve())}Yi(e,n){if(xP(n))return N.resolve(null);let i=kn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Tg(n,null,"F"),i=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ke(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,Tg(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,r){return xP(n)||r.isEqual(he.min())?N.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(n,o);return this.ns(n,s,i,r)?N.resolve(null):(Qc()<=Ui.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yc(n)),this.rs(e,s,n,gO(r,-1)).next(a=>a))})}ts(e,n){let i=new ut(VO(e));return n.forEach((r,o)=>{uh(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return Qc()<=Ui.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Yc(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wI=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new Et(Ae),this._s=new dr(o=>da(o),ch),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function y1(t,e,n,i){return new wI(t,e,n,i)}function _1(t,e){return F(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=ke();for(let u of r){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function w5(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),g=N.resolve();return m.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(D=>{let I=u.docVersions.get(_);le(I!==null),D.version.compareTo(I)<0&&(f.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function b1(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function E5(t,e){let n=Y(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Bt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(D,I,k){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(o,g))});let c=Hn(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(w1(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!i.isEqual(he.min())){let d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=r,o))}function w1(t,e,n){let i=ke(),r=ke();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Hn();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function I5(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fl(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,N.resolve(r)):n.Ur.allocateTargetId(i).next(s=>(r=new dl(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function pl(t,e,n){return F(this,null,function*(){let i=Y(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!os(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function $g(t,e,n){let i=Y(t),r=he.min(),o=ke();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=Y(c),m=f._s.get(d);return m!==void 0?N.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(i,s,kn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,n?r:he.min(),n?o:ke())).next(a=>(D1(i,LO(e),a),{documents:a,Ts:o})))}function E1(t,e){let n=Y(t),i=Y(n.Ur),r=n.os.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,e).next(s=>s?s.target:null))}function I1(t,e){let n=Y(t),i=n.us.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.cs.getAllFromCollectionGroup(r,e,gO(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(D1(n,e,r),r))}function D1(t,e,n){let i=t.us.get(e)||he.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}function D5(t,e,n,i){return F(this,null,function*(){let r=Y(t),o=ke(),s=Hn();for(let u of n){let d=e.Es(u.metadata.name);u.document&&(o=o.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(d,f)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield fl(r,function(d){return kn(El($e.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>w1(u,a,s).next(d=>(a.apply(u),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(u,c.targetId).next(()=>r.Ur.addMatchingKeys(u,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function C5(i,r){return F(this,arguments,function*(t,e,n=ke()){let o=yield fl(t,kn(_D(e.bundledQuery))),s=Y(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=jt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let u=o.withResumeToken(Bt.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(u.targetId,u),s.Ur.updateTargetData(a,u).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,n,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function eO(t,e){return`firestore_clients_${t}_${e}`}function tO(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function aE(t,e){return`firestore_targets_${t}_${e}`}var Hg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Rs(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new z(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(Lt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Fd=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Rs(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new z(i.error.code,i.error.message))),o?new t(e,i.state,r):(Lt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},qg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=gD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=bO(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(Lt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},EI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Lt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Jd=class{constructor(){this.activeTargetIds=gD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ld=class{constructor(e,n,i,r,o){this.window=e,this.ui=n,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Et(Ae),this.started=!1,this.bs=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=eO(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new Jd),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return F(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let r=this.getItem(eO(this.persistenceKey,i));if(r){let o=qg.Rs(i,r);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let n=this.storage.getItem(this.xs);if(n){let i=this.Ls(n);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,i){this.qs(e,n,i),this.Qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(aE(this.persistenceKey,e));if(i){let r=Fd.Rs(e,i);r&&(n=r.state)}}return this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aE(this.persistenceKey,e))}updateQueryState(e,n,i){this.$s(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return q("SharedClientState","READ",e,n),n}setItem(e,n){q("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){q("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let n=e;if(n.storageArea===this.storage){if(q("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>F(this,null,function*(){if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){let i=this.Gs(n.key);return this.zs(i,null)}{let i=this.js(n.key,n.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){let i=this.Hs(n.key,n.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){let i=this.Ys(n.key,n.newValue);if(i)return this.Zs(i)}}else if(n.key===this.xs){if(n.newValue!==null){let i=this.Ls(n.newValue);if(i)return this.Bs(i)}}else if(n.key===this.vs){let i=function(o){let s=ni.oe;if(o!=null)try{let a=JSON.parse(o);le(typeof a=="number"),s=a}catch(a){Lt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==ni.oe&&this.sequenceNumberHandler(i)}else if(n.key===this.Os){let i=this.Xs(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,i){let r=new Hg(this.currentUser,e,n,i),o=tO(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Vs())}Qs(e){let n=tO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){let n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,i){let r=aE(this.persistenceKey,e),o=new Fd(e,n,i);this.setItem(r,o.Vs())}Ws(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){let n=this.Cs.exec(e);return n?n[1]:null}js(e,n){let i=this.Gs(e);return qg.Rs(i,n)}Hs(e,n){let i=this.Fs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Hg.Rs(new qt(o),r,n)}Ys(e,n){let i=this.Ms.exec(e),r=Number(i[1]);return Fd.Rs(r,n)}Ls(e){return EI.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return F(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);q("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){let i=n?this.Ss.insert(e,n):this.Ss.remove(e),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=gD();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Gg=class{constructor(){this.so=new Jd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Jd,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var II=class{_o(e){}shutdown(){}};var Wg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lg=null;function cE(){return lg===null?lg=function(){return 268435456+Math.round(2147483648*Math.random())}():lg++,"0x"+lg.toString(16)}var x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var DI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var In="WebChannelConnection",CI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,s){let a=cE(),c=this.xo(n,i.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,r).then(d=>(q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw pi("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Lo(n,i,r,o,s,a){return this.Mo(n,i,r,o,s)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}xo(n,i){let r=x5[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let o=cE();return new Promise((s,a)=>{let c=new J0;c.setWithCredentials(!0),c.listenOnce(tE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xd.NO_ERROR:let d=c.getResponseJson();q(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case xd.TIMEOUT:q(In,`RPC '${e}' ${o} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:let f=c.getStatus();if(q(In,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let _=function(I){let k=I.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(k)>=0?k:P.UNKNOWN}(g.status);a(new z(_,g.message))}else a(new z(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{q(In,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);q(In,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",u,i,15)})}Bo(e,n,i){let r=cE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rE(),a=iE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new eE({})),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=o.join("");q(In,`Creating RPC '${e}' stream ${r}: ${d}`,c);let f=s.createWebChannel(d,c),m=!1,g=!1,_=new DI({Io:I=>{g?q(In,`Not sending because RPC '${e}' stream ${r} is closed:`,I):(m||(q(In,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),q(In,`RPC '${e}' stream ${r} sending:`,I),f.send(I))},To:()=>f.close()}),D=(I,k,G)=>{I.listen(k,H=>{try{G(H)}catch(K){setTimeout(()=>{throw K},0)}})};return D(f,Hc.EventType.OPEN,()=>{g||(q(In,`RPC '${e}' stream ${r} transport opened.`),_.yo())}),D(f,Hc.EventType.CLOSE,()=>{g||(g=!0,q(In,`RPC '${e}' stream ${r} transport closed`),_.So())}),D(f,Hc.EventType.ERROR,I=>{g||(g=!0,pi(In,`RPC '${e}' stream ${r} transport errored:`,I),_.So(new z(P.UNAVAILABLE,"The operation could not be completed")))}),D(f,Hc.EventType.MESSAGE,I=>{var k;if(!g){let G=I.data[0];le(!!G);let H=G,K=H.error||((k=H[0])===null||k===void 0?void 0:k.error);if(K){q(In,`RPC '${e}' stream ${r} received error:`,K);let ue=K.status,ie=function(w){let C=$t[w];if(C!==void 0)return ZO(C)}(ue),E=K.message;ie===void 0&&(ie=P.INTERNAL,E="Unknown error status: "+ue+" with message "+K.message),g=!0,_.So(new z(ie,E)),f.close()}else q(In,`RPC '${e}' stream ${r} received:`,G),_.bo(G)}}),D(a,nE.STAT_EVENT,I=>{I.stat===og.PROXY?q(In,`RPC '${e}' stream ${r} detected buffering proxy`):I.stat===og.NOPROXY&&q(In,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function C1(){return typeof window<"u"?window:null}function pg(){return typeof document<"u"?document:null}function dh(t){return new BE(t,!0)}var eh=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Kg=class{constructor(e,n,i,r,o,s,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return F(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return F(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return F(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Lt(n.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new z(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>F(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xI=class extends Kg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=u5(this.serializer,e),i=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?jt(s.readTime):he.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=$E(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Cg(c)?{documents:o1(o,c)}:{query:s1(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JO(o,s.resumeToken);let u=UE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=ul(o,s.snapshotVersion.toTimestamp());let u=UE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=h5(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=$E(this.serializer),n.removeTarget=e,this.a_(n)}},TI=class extends Kg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return le(!!e.streamToken),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=d5(e.writeResults,e.commitTime),i=jt(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=$E(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Yd(this.serializer,i))};this.a_(n)}};var SI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,zE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,zE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},AI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Lt(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var MI=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>F(this,null,function*(){ss(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(c){return F(this,null,function*(){let u=Y(c);u.L_.add(4),yield Il(u),u.q_.set("Unknown"),u.L_.delete(4),yield hh(u)})}(this))}))}),this.q_=new AI(i,r)}};function hh(t){return F(this,null,function*(){if(ss(t))for(let e of t.B_)yield e(!0)})}function Il(t){return F(this,null,function*(){for(let e of t.B_)yield e(!1)})}function pv(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),DD(n)?ID(n):Cl(n).r_()&&ED(n,e))}function ml(t,e){let n=Y(t),i=Cl(n);n.N_.delete(e),i.r_()&&x1(n,e),n.N_.size===0&&(i.r_()?i.o_():ss(n)&&n.q_.set("Unknown"))}function ED(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).A_(e)}function x1(t,e){t.Q_.xe(e),Cl(t).R_(e)}function ID(t){t.Q_=new jE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.q_.v_()}function DD(t){return ss(t)&&!Cl(t).n_()&&t.N_.size>0}function ss(t){return Y(t).L_.size===0}function T1(t){t.Q_=void 0}function T5(t){return F(this,null,function*(){t.q_.set("Online")})}function S5(t){return F(this,null,function*(){t.N_.forEach((e,n)=>{ED(t,e)})})}function A5(t,e){return F(this,null,function*(){T1(t),DD(t)?(t.q_.M_(e),ID(t)):t.q_.set("Unknown")})}function M5(t,e,n){return F(this,null,function*(){if(t.q_.set("Online"),e instanceof Ag&&e.state===2&&e.cause)try{yield function(r,o){return F(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(t,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Qg(t,i)}else if(e instanceof il?t.Q_.Ke(e):e instanceof Sg?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{let i=yield b1(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),x1(o,c);let f=new dl(d.target,c,u,d.sequenceNumber);ED(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){q("RemoteStore","Failed to raise snapshot:",i),yield Qg(t,i)}})}function Qg(t,e,n){return F(this,null,function*(){if(!os(e))throw e;t.L_.add(1),yield Il(t),t.q_.set("Offline"),n||(n=()=>b1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>F(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield hh(t)}))})}function S1(t,e){return e().catch(n=>Qg(t,n,e))}function Dl(t){return F(this,null,function*(){let e=Y(t),n=is(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;R5(e);)try{let r=yield I5(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,N5(e,r)}catch(r){yield Qg(e,r)}A1(e)&&M1(e)})}function R5(t){return ss(t)&&t.O_.length<10}function N5(t,e){t.O_.push(e);let n=is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function A1(t){return ss(t)&&!is(t).n_()&&t.O_.length>0}function M1(t){is(t).start()}function k5(t){return F(this,null,function*(){is(t).p_()})}function P5(t){return F(this,null,function*(){let e=is(t);for(let n of t.O_)e.m_(n.mutations)})}function O5(t,e,n){return F(this,null,function*(){let i=t.O_.shift(),r=FE.from(i,e,n);yield S1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Dl(t)})}function F5(t,e){return F(this,null,function*(){e&&is(t).V_&&(yield function(i,r){return F(this,null,function*(){if(function(s){return YO(s)&&s!==P.ABORTED}(r.code)){let o=i.O_.shift();is(i).s_(),yield S1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Dl(i)}})}(t,e)),A1(t)&&M1(t)})}function nO(t,e){return F(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let i=ss(n);n.L_.add(3),yield Il(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield hh(n)})}function RI(t,e){return F(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield hh(n)):e||(n.L_.add(2),yield Il(n),n.q_.set("Unknown"))})}function Cl(t){return t.K_||(t.K_=function(n,i,r){let o=Y(n);return o.w_(),new xI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:T5.bind(null,t),Ro:S5.bind(null,t),mo:A5.bind(null,t),d_:M5.bind(null,t)}),t.B_.push(e=>F(this,null,function*(){e?(t.K_.s_(),DD(t)?ID(t):t.q_.set("Unknown")):(yield t.K_.stop(),T1(t))}))),t.K_}function is(t){return t.U_||(t.U_=function(n,i,r){let o=Y(n);return o.w_(),new TI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:k5.bind(null,t),mo:F5.bind(null,t),f_:P5.bind(null,t),g_:O5.bind(null,t)}),t.B_.push(e=>F(this,null,function*(){e?(t.U_.s_(),yield Dl(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var NI=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xl(t,e){if(Lt("AsyncQueue",`${e}: ${t}`),os(t))return new z(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Yg=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Rd(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Zg=class{constructor(){this.W_=new Et(Z.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},gl=class t{constructor(e,n,i,r,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Yg.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var kI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},PI=class{constructor(){this.queries=iO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=Y(n),o=r.queries;r.queries=iO(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function iO(){return new dr(t=>FO(t),lh)}function CD(t,e){return F(this,null,function*(){let n=Y(t),i=3,r=e.query,o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new kI,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield n.onListen(r,!0);break;case 1:o.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=xl(s,`Initialization of query '${Yc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&TD(n)})}function xD(t,e){return F(this,null,function*(){let n=Y(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function L5(t,e){let n=Y(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&TD(n)}function V5(t,e,n){let i=Y(t),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(n);i.queries.delete(e)}function TD(t){t.Y_.forEach(e=>{e.next()})}var OI,rO;(rO=OI||(OI={})).ea="default",rO.Cache="cache";var th=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==OI.Cache}};var FI=class{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}};var Xg=class{constructor(e){this.serializer=e}Es(e){return ar(this.serializer,e)}ds(e){return e.metadata.exists?r1(this.serializer,e.document,!1):Wt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return jt(e)}},LI=class{constructor(e,n,i){this.ca=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R1(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;let i=$e.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){let n=new Map,i=new Xg(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Es(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||ke()).add(o);n.set(s,a)}}return n}complete(){return F(this,null,function*(){let e=yield D5(this.localStore,new Xg(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(let i of this.queries)yield C5(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function R1(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Jg=class{constructor(e){this.key=e}},ev=class{constructor(e){this.key=e}},tv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=VO(e),this.Ra=new Yg(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new Zg,r=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),g=uh(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),I=!1;m&&g?m.data.isEqual(g.data)?_!==D&&(i.track({type:3,doc:g}),I=!0):this.ga(m,g)||(i.track({type:2,doc:g}),I=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),I=!0):m&&!g&&(i.track({type:1,doc:m}),I=!0,(c||u)&&(a=!0)),I&&(g?(s=s.add(g),o=D?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(g,_){let D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return D(g)-D(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new gl(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ke(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new ev(i))}),this.da.forEach(i=>{e.has(i)||n.push(new Jg(i))}),n}ba(e){this.Ta=e.Ts,this.da=ke();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},VI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},jI=class{constructor(e){this.key=e,this.va=!1}},BI=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new dr(a=>FO(a),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(Z.comparator),this.Na=new Map,this.La=new Xd,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function j5(t,e,n=!0){return F(this,null,function*(){let i=mv(t),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield N1(i,e,n,!0),r})}function B5(t,e){return F(this,null,function*(){let n=mv(t);yield N1(n,e,!0,!1)})}function N1(t,e,n,i){return F(this,null,function*(){let r=yield fl(t.localStore,kn(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield SD(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&pv(t.remoteStore,r),a})}function SD(t,e,n,i,r){return F(this,null,function*(){t.Ka=(f,m,g)=>function(D,I,k,G){return F(this,null,function*(){let H=I.view.ma(k);H.ns&&(H=yield $g(D.localStore,I.query,!1).then(({documents:E})=>I.view.ma(E,H)));let K=G&&G.targetChanges.get(I.targetId),ue=G&&G.targetMismatches.get(I.targetId)!=null,ie=I.view.applyChanges(H,D.isPrimaryClient,K,ue);return UI(D,I.targetId,ie.wa),ie.snapshot})}(t,f,m,g);let o=yield $g(t.localStore,e,!0),s=new tv(e,o.Ts),a=s.ma(o.documents),c=Kd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=s.applyChanges(a,t.isPrimaryClient,c);UI(t,n,u.wa);let d=new VI(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function U5(t,e,n){return F(this,null,function*(){let i=Y(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!lh(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pl(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&ml(i.remoteStore,r.targetId),vl(i,r.targetId)}).catch(rs))):(vl(i,r.targetId),yield pl(i.localStore,r.targetId,!0))})}function z5(t,e){return F(this,null,function*(){let n=Y(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ml(n.remoteStore,i.targetId))})}function $5(t,e,n){return F(this,null,function*(){let i=ND(t);try{let r=yield function(s,a){let c=Y(s),u=At.now(),d=a.reduce((g,_)=>g.add(_.key),ke()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Hn(),D=ke();return c.cs.getEntries(g,d).next(I=>{_=I,_.forEach((k,G)=>{G.isValidDocument()||(D=D.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(I=>{f=I;let k=[];for(let G of a){let H=i5(G,f.get(G.key).overlayedDocument);H!=null&&k.push(new Fi(G.key,H,AO(H.value.mapValue),kt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,k,a)}).next(I=>{m=I;let k=I.applyToLocalDocumentSet(f,D);return c.documentOverlayCache.saveOverlays(g,I.batchId,k)})}).then(()=>({batchId:m.batchId,changes:BO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Et(Ae)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(i,r.batchId,n),yield Zr(i,r.changes),yield Dl(i.remoteStore)}catch(r){let o=xl(r,"Failed to persist write");n.reject(o)}})}function k1(t,e){return F(this,null,function*(){let n=Y(t);try{let i=yield E5(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Na.get(o);s&&(le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?le(s.va):r.removedDocuments.size>0&&(le(s.va),s.va=!1))}),yield Zr(n,i,e)}catch(i){yield rs(i)}})}function oO(t,e,n){let i=Y(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=Y(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&TD(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function H5(t,e,n){return F(this,null,function*(){let i=Y(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new Et(Z.comparator);s=s.insert(o,Wt.newNoDocument(o,he.min()));let a=ke().add(o),c=new Wd(he.min(),new Map,new Et(Ae),s,a);yield k1(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),RD(i)}else yield pl(i.localStore,e,!1).then(()=>vl(i,e,n)).catch(rs)})}function q5(t,e){return F(this,null,function*(){let n=Y(t),i=e.batch.batchId;try{let r=yield w5(n.localStore,e);MD(n,i,null),AD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Zr(n,r)}catch(r){yield rs(r)}})}function G5(t,e,n){return F(this,null,function*(){let i=Y(t);try{let r=yield function(s,a){let c=Y(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(le(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);MD(i,e,n),AD(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Zr(i,r)}catch(r){yield rs(r)}})}function W5(t,e){return F(this,null,function*(){let n=Y(t);ss(n.remoteStore)||q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=Y(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.ka.get(i)||[];r.push(e),n.ka.set(i,r)}catch(i){let r=xl(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function AD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MD(t,e,n){let i=Y(t),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function vl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||P1(t,i)})}function P1(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ml(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),RD(t))}function UI(t,e,n){for(let i of n)i instanceof Jg?(t.La.addReference(i.key,e),K5(t,i)):i instanceof ev?(q("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||P1(t,i.key)):ne()}function K5(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(i),RD(t))}function RD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Z($e.fromString(e)),i=t.qa.next();t.Na.set(i,new jI(n)),t.Oa=t.Oa.insert(n,i),pv(t.remoteStore,new dl(kn(El(n.path)),i,"TargetPurposeLimboResolution",ni.oe))}}function Zr(t,e,n){return F(this,null,function*(){let i=Y(t),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=_I.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,u){return F(this,null,function*(){let d=Y(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(u,m=>N.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>N.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!os(f))throw f;q("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),_=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(m,D)}}})}(i.localStore,o))})}function Q5(t,e){return F(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let i=yield _1(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new z(P.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Zr(n,i.hs)}})}function Y5(t,e){let n=Y(t),i=n.Na.get(e);if(i&&i.va)return ke().add(i.key);{let r=ke(),o=n.Ma.get(e);if(!o)return r;for(let s of o){let a=n.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function Z5(t,e){return F(this,null,function*(){let n=Y(t),i=yield $g(n.localStore,e.query,!0),r=e.view.ba(i);return n.isPrimaryClient&&UI(n,e.targetId,r.wa),r})}function X5(t,e){return F(this,null,function*(){let n=Y(t);return I1(n.localStore,e).then(i=>Zr(n,i))})}function J5(t,e,n,i){return F(this,null,function*(){let r=Y(t),o=yield function(a,c){let u=Y(a),d=Y(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):N.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield Dl(r.remoteStore):n==="acknowledged"||n==="rejected"?(MD(r,e,i||null),AD(r,e),function(a,c){Y(Y(a).mutationQueue).On(c)}(r.localStore,e)):ne(),yield Zr(r,o)):q("SyncEngine","Cannot apply mutation batch with id: "+e)})}function e9(t,e){return F(this,null,function*(){let n=Y(t);if(mv(n),ND(n),e===!0&&n.Qa!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield sO(n,i.toArray());n.Qa=!0,yield RI(n.remoteStore,!0);for(let o of r)pv(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){let i=[],r=Promise.resolve();n.Ma.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(vl(n,s),pl(n.localStore,s,!0))),ml(n.remoteStore,s)}),yield r,yield sO(n,i),function(s){let a=Y(s);a.Na.forEach((c,u)=>{ml(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new Et(Z.comparator)}(n),n.Qa=!1,yield RI(n.remoteStore,!1)}})}function sO(t,e,n){return F(this,null,function*(){let i=Y(t),r=[],o=[];for(let s of e){let a,c=i.Ma.get(s);if(c&&c.length!==0){a=yield fl(i.localStore,kn(c[0]));for(let u of c){let d=i.Fa.get(u),f=yield Z5(i,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield E1(i.localStore,s);a=yield fl(i.localStore,u),yield SD(i,O1(u),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})}function O1(t){return OO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function t9(t){return function(n){return Y(Y(n).persistence).Qi()}(Y(t).localStore)}function n9(t,e,n,i){return F(this,null,function*(){let r=Y(t);if(r.Qa)return void q("SyncEngine","Ignoring unexpected query state notification.");let o=r.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield I1(r.localStore,LO(o[0])),a=Wd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Bt.EMPTY_BYTE_STRING);yield Zr(r,s,a);break}case"rejected":yield pl(r.localStore,e,!0),vl(r,e,i);break;default:ne()}})}function i9(t,e,n){return F(this,null,function*(){let i=mv(t);if(i.Qa){for(let r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){q("SyncEngine","Adding an already active target "+r);continue}let o=yield E1(i.localStore,r),s=yield fl(i.localStore,o);yield SD(i,O1(o),s.targetId,!1,s.resumeToken),pv(i.remoteStore,s)}for(let r of n)i.Ma.has(r)&&(yield pl(i.localStore,r,!1).then(()=>{ml(i.remoteStore,r),vl(i,r)}).catch(rs))}})}function mv(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H5.bind(null,e),e.Ca.d_=L5.bind(null,e.eventManager),e.Ca.$a=V5.bind(null,e.eventManager),e}function ND(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}function r9(t,e,n){let i=Y(t);(function(o,s,a){return F(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,_){let D=Y(g),I=jt(_.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",k=>D.Gr.getBundleMetadata(k,_.id)).then(k=>!!k&&k.createTime.compareTo(I)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(R1(c));let u=new LI(c,o.localStore,s.serializer),d=yield s.Ua();for(;d;){let m=yield u.la(d);m&&a._updateProgress(m),d=yield s.Ua()}let f=yield u.complete();return yield Zr(o,f.Ia,void 0),yield function(g,_){let D=Y(g);return D.persistence.runTransaction("Save bundle","readwrite",I=>D.Gr.saveBundleMetadata(I,_))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return pi("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var nh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return y1(this.persistence,new zg,e.initialUser,this.serializer)}createPersistence(e){return new Bg(Ug.Zr,this.serializer)}createSharedClientState(e){return new Gg}terminate(){return F(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var nv=class t extends nh{constructor(e,n,i){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return F(this,null,function*(){yield ty(t.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield ND(this.Wa.syncEngine),yield Dl(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return y1(this.persistence,new zg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new iI(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new bE(n,this.persistence);return new _E(e.asyncQueue,i)}createPersistence(e){let n=wD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new yI(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,C1(),pg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Gg}},zI=class t extends nv{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return F(this,null,function*(){yield ty(t.prototype,this,"initialize").call(this,e);let n=this.Wa.syncEngine;this.sharedClientState instanceof Ld&&(this.sharedClientState.syncEngine={no:J5.bind(null,n),ro:n9.bind(null,n),io:i9.bind(null,n),Qi:t9.bind(null,n),eo:X5.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>F(this,null,function*(){yield e9(this.Wa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=C1();if(!Ld.D(n))throw new z(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=wD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ld(n,e.asyncQueue,i,e.clientId,e.initialUser)}},ih=class{initialize(e,n){return F(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q5.bind(null,this.syncEngine),yield RI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new PI}()}createDatastore(e){let n=dh(e.databaseInfo.databaseId),i=function(o){return new CI(o)}(e.databaseInfo);return function(o,s,a,c){return new SI(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new MI(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oO(this.syncEngine,n,0),function(){return Wg.D()?new Wg:new II}())}createSyncEngine(e,n){return function(r,o,s,a,c,u,d){let f=new BI(r,o,s,a,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return F(this,null,function*(){var e,n;yield function(r){return F(this,null,function*(){let o=Y(r);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Il(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};function aO(t,e=10240){let n=0;return{read(){return F(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return F(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var yl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Lt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var $I=class{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new Gt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){return F(this,null,function*(){return this.metadata.promise})}Ua(){return F(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return F(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let n=this.Ha.decode(e),i=Number(n);isNaN(i)&&this.Za(`length string (${n}) is not valid number`);let r=yield this.Xa(i);return new FI(JSON.parse(r),e.length+i)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return F(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Xa(e){return F(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return F(this,null,function*(){let e=yield this.ja.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var HI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return F(this,null,function*(){let s=Y(r),a={documents:o.map(f=>Qd(s.serializer,f))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,$e.emptyPath(),a,o.length),u=new Map;c.forEach(f=>{let m=l5(s.serializer,f);u.set(m.key.toString(),m)});let d=[];return o.forEach(f=>{let m=u.get(f.toString());le(!!m),d.push(m)}),d})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ns(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return F(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=Z.fromPath(i);this.mutations.push(new Hd(r,this.precondition(r)))}),yield function(i,r){return F(this,null,function*(){let o=Y(i),s={writes:r.map(a=>Yd(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,$e.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ne();n=he.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new z(P.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?kt.exists(!1):kt.updateTime(n):kt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new z(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kt.updateTime(n)}return kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var qI=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.nu=i.maxAttempts,this.t_=new eh(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>F(this,null,function*(){let e=new HI(this.datastore),n=this.su(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ou(r)}))}).catch(i=>{this.ou(i)})}))}su(e){try{let n=this.updateFunction(e);return!ah(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!YO(n)}return!1}};var GI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=qt.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>F(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=xl(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function mg(t,e){return F(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>F(this,null,function*(){i.isEqual(r)||(yield _1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function WI(t,e){return F(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kD(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>nO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>nO(e.remoteStore,r)),t._onlineComponents=e})}function F1(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function kD(t){return F(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!F1(n))throw n;pi("Error using user provided cache. Falling back to memory cache: "+n),yield mg(t,new nh)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield mg(t,new nh);return t._offlineComponents})}function gv(t){return F(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield WI(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield WI(t,new ih))),t._onlineComponents})}function L1(t){return kD(t).then(e=>e.persistence)}function PD(t){return kD(t).then(e=>e.localStore)}function V1(t){return gv(t).then(e=>e.remoteStore)}function OD(t){return gv(t).then(e=>e.syncEngine)}function o9(t){return gv(t).then(e=>e.datastore)}function _l(t){return F(this,null,function*(){let e=yield gv(t),n=e.eventManager;return n.onListen=j5.bind(null,e.syncEngine),n.onUnlisten=U5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z5.bind(null,e.syncEngine),n})}function s9(t){return t.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield L1(t),n=yield V1(t);return e.setNetworkEnabled(!0),function(r){let o=Y(r);return o.L_.delete(0),hh(o)}(n)}))}function a9(t){return t.asyncQueue.enqueue(()=>F(this,null,function*(){let e=yield L1(t),n=yield V1(t);return e.setNetworkEnabled(!1),function(r){return F(this,null,function*(){let o=Y(r);o.L_.add(0),yield Il(o),o.q_.set("Offline")})}(n)}))}function c9(t,e){let n=new Gt;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,o,s){return F(this,null,function*(){try{let a=yield function(u,d){let f=Y(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new z(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=xl(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield PD(t),e,n)})),n.promise}function j1(t,e,n={}){let i=new Gt;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(o,s,a,c,u){let d=new yl({next:m=>{s.enqueueAndForget(()=>xD(o,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new z(P.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new z(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new th(El(a.path),d,{includeMetadataChanges:!0,_a:!0});return CD(o,f)}(yield _l(t),t.asyncQueue,e,n,i)})),i.promise}function l9(t,e){let n=new Gt;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,o,s){return F(this,null,function*(){try{let a=yield $g(r,o,!0),c=new tv(o,a.Ts),u=c.ma(a.documents),d=c.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let c=xl(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield PD(t),e,n)})),n.promise}function B1(t,e,n={}){let i=new Gt;return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(o,s,a,c,u){let d=new yl({next:m=>{s.enqueueAndForget(()=>xD(o,f)),m.fromCache&&c.source==="server"?u.reject(new z(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new th(a,d,{includeMetadataChanges:!0,_a:!0});return CD(o,f)}(yield _l(t),t.asyncQueue,e,n,i)})),i.promise}function u9(t,e){let n=new yl(e);return t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,o){Y(r).Y_.add(o),o.next()}(yield _l(t),n)})),()=>{n.za(),t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return function(r,o){Y(r).Y_.delete(o)}(yield _l(t),n)}))}}function d9(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?XO().encode(s):s,function(d,f){return new $I(d,f)}(function(d,f){if(d instanceof Uint8Array)return aO(d,f);if(d instanceof ArrayBuffer)return aO(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,dh(e));t.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){r9(yield OD(t),r,i)}))}function h9(t,e){return t.asyncQueue.enqueue(()=>F(this,null,function*(){return function(i,r){let o=Y(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield PD(t),e)}))}function U1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var cO=new Map;function FD(t,e,n){if(!n)throw new z(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LD(t,e,n,i){if(e===!0&&i===!0)throw new z(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lO(t){if(!Z.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uO(t){if(Z.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vv(t);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function z1(t,e){if(e<=0)throw new z(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var iv=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ma=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lE;switch(i.type){case"firstParty":return new fE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=cO.get(n);i&&(q("ComponentProvider","Removing Datastore"),cO.delete(n),i.terminate())}(this),Promise.resolve()}};function VD(t,e,n,i={}){var r;let o=(t=He(t,ma))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=qt.MOCK_USER;else{a=gx(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qt(u)}t._authCredentials=new uE(new gg(a,c))}}var hn=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},vt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},cr=class t extends hn{constructor(e,n,i){super(e,n,El(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jD(t,e,...n){if(t=Tt(t),FD("collection","path",e),t instanceof ma){let i=$e.fromString(e,...n);return uO(i),new cr(t,null,i)}{if(!(t instanceof vt||t instanceof cr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child($e.fromString(e,...n));return uO(i),new cr(t.firestore,null,i)}}function $1(t,e){if(t=He(t,ma),FD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hn(t,null,function(i){return new Oi($e.emptyPath(),i)}(e))}function fh(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=vg.newId()),FD("doc","path",e),t instanceof ma){let i=$e.fromString(e,...n);return lO(i),new vt(t,null,new Z(i))}{if(!(t instanceof vt||t instanceof cr))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child($e.fromString(e,...n));return lO(i),new vt(t.firestore,t instanceof cr?t.converter:null,new Z(i))}}function BD(t,e){return t=Tt(t),e=Tt(e),(t instanceof vt||t instanceof cr)&&(e instanceof vt||e instanceof cr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function UD(t,e){return t=Tt(t),e=Tt(e),t instanceof hn&&e instanceof hn&&t.firestore===e.firestore&&lh(t._query,e._query)&&t.converter===e.converter}var KI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new eh(this,"async_queue_retry"),this.Eu=()=>{let n=pg();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Gt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return F(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!os(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Lt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(e,n,i){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let r=NI.createAndSchedule(this,e,n,i,o=>this.Vu(o));return this.lu.push(r),r}du(){this.hu&&ne()}verifyOperationInProgress(){}mu(){return F(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function QI(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var YI=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var H1=-1,Ct=class extends ma{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new KI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||q1(this),this._firestoreClient.terminate()}};function moe(t,e){let n=typeof t=="object"?t:Hh(),i=typeof t=="string"?t:e||"(default)",r=oy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=mx("firestore");o&&VD(r,...o)}return r}function Jt(t){return t._firestoreClient||q1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q1(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,u,d){return new wE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,U1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new GI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function G1(t,e){tF(t=He(t,Ct));let n=Jt(t);if(n._uninitializedComponentsProvider)throw new z(P.FAILED_PRECONDITION,"SDK cache is already specified.");pi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new ih;return K1(n,r,new nv(r,i.cacheSizeBytes,e?.forceOwnership))}function W1(t){tF(t=He(t,Ct));let e=Jt(t);if(e._uninitializedComponentsProvider)throw new z(P.FAILED_PRECONDITION,"SDK cache is already specified.");pi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new ih;return K1(e,i,new zI(i,n.cacheSizeBytes))}function K1(t,e,n){let i=new Gt;return t.asyncQueue.enqueue(()=>F(this,null,function*(){try{yield mg(t,n),yield WI(t,e),i.resolve()}catch(r){let o=r;if(!F1(o))throw o;pi("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function Q1(t){if(t._initialized&&!t._terminated)throw new z(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Gt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>F(this,null,function*(){try{yield function(i){return F(this,null,function*(){if(!Qo.D())return Promise.resolve();let r=i+"main";yield Qo.delete(r)})}(wD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function Y1(t){return function(n){let i=new Gt;return n.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return W5(yield OD(n),i)})),i.promise}(Jt(t=He(t,Ct)))}function Z1(t){return s9(Jt(t=He(t,Ct)))}function X1(t){return a9(Jt(t=He(t,Ct)))}function J1(t,e){let n=Jt(t=He(t,Ct)),i=new YI;return d9(n,t._databaseId,e,i),i}function eF(t,e){return h9(Jt(t=He(t,Ct)),e).then(n=>n?new hn(t,null,n.query):null)}function tF(t){if(t._initialized||t._terminated)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Bt.fromBase64String(e))}catch(n){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Li=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qr=class{constructor(e){this._methodName=e}};var ga=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var rh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var f9=/^__.*__$/,ZI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ts(e,this.data,n,this.fieldTransforms)}},rv=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function nF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var ov=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return sv(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nF(this.wu)&&f9.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},XI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||dh(e)}Nu(e,n,i,r=!1){return new ov({wu:e,methodName:n,Ou:i,path:Vt.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ba(t){let e=t._freezeSettings(),n=dh(t._databaseId);return new XI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yv(t,e,n,i,r,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,r);HD("Data must be an object, but it was:",s,i);let a=oF(i,s),c,u;if(o.merge)c=new ii(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=iD(e,f,n);if(!s.contains(m))throw new z(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);aF(d,m)||d.push(m)}c=new ii(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new ZI(new Dn(a),c,u)}var oh=class t extends Qr{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function iF(t,e,n){return new ov({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var JI=class t extends Qr{_toFieldTransform(e){return new ha(e.path,new Jo)}isEqual(e){return e instanceof t}},eD=class t extends Qr{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=iF(this,e,!0),i=this.Lu.map(o=>wa(o,n)),r=new Wr(i);return new ha(e.path,r)}isEqual(e){return e instanceof t&&ry(this.Lu,e.Lu)}},tD=class t extends Qr{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=iF(this,e,!0),i=this.Lu.map(o=>wa(o,n)),r=new Kr(i);return new ha(e.path,r)}isEqual(e){return e instanceof t&&ry(this.Lu,e.Lu)}},nD=class t extends Qr{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){let n=new es(e.serializer,$O(e.serializer,this.Bu));return new ha(e.path,n)}isEqual(e){return e instanceof t&&this.Bu===e.Bu}};function zD(t,e,n,i){let r=t.Nu(1,e,n);HD("Data must be an object, but it was:",r,i);let o=[],s=Dn.empty();_a(i,(c,u)=>{let d=qD(e,c,n);u=Tt(u);let f=r.Cu(d);if(u instanceof oh)o.push(d);else{let m=wa(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new ii(o);return new rv(s,a,r.fieldTransforms)}function $D(t,e,n,i,r,o){let s=t.Nu(1,e,n),a=[iD(e,i,n)],c=[r];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(iD(e,o[m])),c.push(o[m+1]);let u=[],d=Dn.empty();for(let m=a.length-1;m>=0;--m)if(!aF(u,a[m])){let g=a[m],_=c[m];_=Tt(_);let D=s.Cu(g);if(_ instanceof oh)u.push(g);else{let I=wa(_,D);I!=null&&(u.push(g),d.set(g,I))}}let f=new ii(u);return new rv(d,f,s.fieldTransforms)}function rF(t,e,n,i=!1){return wa(n,t.Nu(i?4:3,e))}function wa(t,e){if(sF(t=Tt(t)))return HD("Unsupported field value:",e,t),oF(t,e);if(t instanceof Qr)return function(i,r){if(!nF(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=wa(a,r.Fu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $O(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=At.fromDate(i);return{timestampValue:ul(r.serializer,o)}}if(i instanceof At){let o=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ul(r.serializer,o)}}if(i instanceof ga)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hr)return{bytesValue:JO(r.serializer,i._byteString)};if(i instanceof vt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yD(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof rh)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Mu("VectorValues must only contain numeric values.");return vD(a.serializer,c)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${vv(i)}`)}(t,e)}function oF(t,e){let n={};return CO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(i,r)=>{let o=wa(r,e.bu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function sF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof ga||t instanceof hr||t instanceof vt||t instanceof Qr||t instanceof rh)}function HD(t,e,n){if(!sF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=vv(n);throw i==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+i)}}function iD(t,e,n){if((e=Tt(e))instanceof Li)return e._internalPath;if(typeof e=="string")return qD(t,e);throw sv("Field path arguments must be of type string or ",t,!1,void 0,n)}var p9=new RegExp("[~\\*/\\[\\]]");function qD(t,e,n){if(e.search(p9)>=0)throw sv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Li(...e.split("."))._internalPath}catch{throw sv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sv(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new z(P.INVALID_ARGUMENT,a+t+c)}function aF(t,e){return t.some(n=>n.isEqual(e))}var va=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(_v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},rD=class extends va{data(){return super.data()}};function _v(t,e){return typeof e=="string"?qD(t,e):e instanceof Li?e._internalPath:e._delegate._internalPath}function cF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sh=class{},ya=class extends sh{};function Xr(t,e,...n){let i=[];e instanceof sh&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof oD).length,a=o.filter(c=>c instanceof av).length;if(s>1||s>0&&a>0)throw new z(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var av=class t extends ya{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return yF(e._query,n),new hn(e.firestore,e.converter,PE(e._query,n))}_parse(e){let n=ba(e.firestore);return function(o,s,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){hO(f,d);let g=[];for(let _ of f)g.push(dO(c,o,_));m={arrayValue:{values:g}}}else m=dO(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||hO(f,d),m=rF(a,s,f,d==="in"||d==="not-in");return je.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function lF(t,e,n){let i=e,r=_v("where",t);return av._create(r,i,n)}var oD=class t extends sh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:nt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)yF(s,c),s=PE(s,c)}(e._query,n),new hn(e.firestore,e.converter,PE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var sD=class t extends ya{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new z(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new z(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ua(o,s)}(e._query,this._field,this._direction);return new hn(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Oi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function uF(t,e="asc"){let n=e,i=_v("orderBy",t);return sD._create(i,n)}var cv=class t extends ya{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new hn(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}};function dF(t){return z1("limit",t),cv._create("limit",t,"F")}function hF(t){return z1("limitToLast",t),cv._create("limitToLast",t,"L")}var lv=class t extends ya{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=vF(e,this.type,this._docOrFields,this._inclusive);return new hn(e.firestore,e.converter,function(r,o){return new Oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function fF(...t){return lv._create("startAt",t,!0)}function pF(...t){return lv._create("startAfter",t,!1)}var uv=class t extends ya{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=vF(e,this.type,this._docOrFields,this._inclusive);return new hn(e.firestore,e.converter,function(r,o){return new Oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function mF(...t){return uv._create("endBefore",t,!1)}function gF(...t){return uv._create("endAt",t,!0)}function vF(t,e,n,i){if(n[0]=Tt(n[0]),n[0]instanceof va)return function(o,s,a,c,u){if(!c)throw new z(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of nl(o))if(f.field.isKeyField())d.push(la(s,c.key));else{let m=c.data.field(f.field);if(hv(m))throw new z(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new z(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new ur(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=ba(t.firestore);return function(s,a,c,u,d,f){let m=s.explicitOrderBy;if(d.length>m.length)throw new z(P.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let _=0;_<d.length;_++){let D=d[_];if(m[_].field.isKeyField()){if(typeof D!="string")throw new z(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof D}`);if(!mD(s)&&D.indexOf("/")!==-1)throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${D}' contains a slash.`);let I=s.path.child($e.fromString(D));if(!Z.isDocumentKey(I))throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);let k=new Z(I);g.push(la(a,k))}else{let I=rF(c,u,D);g.push(I)}}return new ur(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function dO(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new z(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&n.indexOf("/")!==-1)throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child($e.fromString(n));if(!Z.isDocumentKey(i))throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return la(t,new Z(i))}if(n instanceof vt)return la(t,n._key);throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(n)}.`)}function hO(t,e){if(!Array.isArray(t)||t.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yF(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var bl=class{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return _a(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;let o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Dt(s.doubleValue));return new rh(o)}convertGeoPoint(e){return new ga(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=fD(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ud(e));default:return null}}convertTimestamp(e){let n=Gr(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=$e.fromString(e);le(u1(i));let r=new Zo(i.get(1),i.get(3)),o=new Z(i.popFirst(5));return r.isEqual(n)||Lt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function bv(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var aD=class extends bl{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}};var qr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gi=class extends va{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(_v("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Wo=class extends gi{data(e={}){return super.data(e)}},Vi=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new qr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Wo(this._firestore,this._userDataWriter,i.key,i,new qr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Wo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Wo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new qr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:m9(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function m9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function GD(t,e){return t instanceof gi&&e instanceof gi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Vi&&e instanceof Vi&&t._firestore===e._firestore&&UD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _F(t){t=He(t,vt);let e=He(t.firestore,Ct);return j1(Jt(e),t._key).then(n=>YD(e,t,n))}var Yr=class extends bl{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}};function bF(t){t=He(t,vt);let e=He(t.firestore,Ct),n=Jt(e),i=new Yr(e);return c9(n,t._key).then(r=>new gi(e,i,t._key,r,new qr(r!==null&&r.hasLocalMutations,!0),t.converter))}function wF(t){t=He(t,vt);let e=He(t.firestore,Ct);return j1(Jt(e),t._key,{source:"server"}).then(n=>YD(e,t,n))}function EF(t){t=He(t,hn);let e=He(t.firestore,Ct),n=Jt(e),i=new Yr(e);return cF(t._query),B1(n,t._query).then(r=>new Vi(e,i,t,r))}function IF(t){t=He(t,hn);let e=He(t.firestore,Ct),n=Jt(e),i=new Yr(e);return l9(n,t._query).then(r=>new Vi(e,i,t,r))}function DF(t){t=He(t,hn);let e=He(t.firestore,Ct),n=Jt(e),i=new Yr(e);return B1(n,t._query,{source:"server"}).then(r=>new Vi(e,i,t,r))}function WD(t,e,n){t=He(t,vt);let i=He(t.firestore,Ct),r=bv(t.converter,e,n);return Tl(i,[yv(ba(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,kt.none())])}function KD(t,e,n,...i){t=He(t,vt);let r=He(t.firestore,Ct),o=ba(r),s;return s=typeof(e=Tt(e))=="string"||e instanceof Li?$D(o,"updateDoc",t._key,e,n,i):zD(o,"updateDoc",t._key,e),Tl(r,[s.toMutation(t._key,kt.exists(!0))])}function CF(t){return Tl(He(t.firestore,Ct),[new ns(t._key,kt.none())])}function xF(t,e){let n=He(t.firestore,Ct),i=fh(t),r=bv(t.converter,e);return Tl(n,[yv(ba(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,kt.exists(!1))]).then(()=>i)}function QD(t,...e){var n,i,r;t=Tt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QI(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QI(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,d;if(t instanceof vt)u=He(t.firestore,Ct),d=El(t._key.path),c={next:f=>{e[s]&&e[s](YD(u,t,f))},error:e[s+1],complete:e[s+2]};else{let f=He(t,hn);u=He(f.firestore,Ct),d=f._query;let m=new Yr(u);c={next:g=>{e[s]&&e[s](new Vi(u,m,f,g))},error:e[s+1],complete:e[s+2]},cF(t._query)}return function(m,g,_,D){let I=new yl(D),k=new th(g,I,_);return m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return CD(yield _l(m),k)})),()=>{I.za(),m.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return xD(yield _l(m),k)}))}}(Jt(u),d,a,c)}function TF(t,e){return u9(Jt(t=He(t,Ct)),QI(e)?e:{next:e})}function Tl(t,e){return function(i,r){let o=new Gt;return i.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){return $5(yield OD(i),r,o)})),o.promise}(Jt(t),e)}function YD(t,e,n){let i=n.docs.get(e._key),r=new Yr(t);return new gi(t,r,e._key,i,new qr(n.hasPendingWrites,n.fromCache),e.converter)}var g9={maxAttempts:5};var dv=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ba(e)}set(e,n,i){this._verifyNotCommitted();let r=qo(e,this._firestore),o=bv(r.converter,n,i),s=yv(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,kt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=qo(e,this._firestore),s;return s=typeof(n=Tt(n))=="string"||n instanceof Li?$D(this._dataReader,"WriteBatch.update",o._key,n,i,r):zD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,kt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=qo(e,this._firestore);return this._mutations=this._mutations.concat(new ns(n._key,kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function qo(t,e){if((t=Tt(t)).firestore!==e)throw new z(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var cD=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=ba(n)}get(n){let i=qo(n,this._firestore),r=new aD(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return ne();let s=o[0];if(s.isFoundDocument())return new va(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new va(this._firestore,r,i._key,null,i.converter);throw ne()})}set(n,i,r){let o=qo(n,this._firestore),s=bv(o.converter,i,r),a=yv(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=qo(n,this._firestore),a;return a=typeof(i=Tt(i))=="string"||i instanceof Li?$D(this._dataReader,"Transaction.update",s._key,i,r,o):zD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=qo(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=qo(e,this._firestore),i=new Yr(this._firestore);return super.get(e).then(r=>new gi(this._firestore,i,n._key,r._document,new qr(!1,!1),n.converter))}};function SF(t,e,n){t=He(t,Ct);let i=Object.assign(Object.assign({},g9),n);return function(o){if(o.maxAttempts<1)throw new z(P.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new Gt;return o.asyncQueue.enqueueAndForget(()=>F(this,null,function*(){let u=yield o9(o);new qI(o.asyncQueue,u,a,s,c).ru()})),c.promise}(Jt(t),r=>e(new cD(t,r)),i)}function AF(){return new oh("deleteField")}function MF(){return new JI("serverTimestamp")}function RF(...t){return new eD("arrayUnion",t)}function NF(...t){return new tD("arrayRemove",t)}function kF(t){return new nD("increment",t)}(function(e,n=!0){(function(r){wl=r})(_x),nu(new vs("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new Ct(new dE(i.getProvider("auth-internal")),new mE(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(u.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),yr(dP,"4.7.1",e),yr(dP,"4.7.1","esm2017")})();var v9="@firebase/firestore-compat",y9="0.3.36";function nC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function PF(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function OF(){if(!xO())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wv=class t{constructor(e){this._delegate=e}static fromBase64String(e){return OF(),new t(hr.fromBase64String(e))}static fromUint8Array(e){return PF(),new t(hr.fromUint8Array(e))}toBase64(){return OF(),this._delegate.toBase64()}toUint8Array(){return PF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function ZD(t){return _9(t,["next","error","complete"])}function _9(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var XD=class{enableIndexedDbPersistence(e,n){return G1(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return W1(e._delegate)}clearIndexedDbPersistence(e){return Q1(e._delegate)}},Ev=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&pi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){VD(this._delegate,e,n,i)}enableNetwork(){return Z1(this._delegate)}disableNetwork(){return X1(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,LD("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Y1(this._delegate)}onSnapshotsInSync(e){return TF(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ml(this,jD(this._delegate,e))}catch(n){throw Pn(n,"collection()","Firestore.collection()")}}doc(e){try{return new fr(this,fh(this._delegate,e))}catch(n){throw Pn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ca(this,$1(this._delegate,e))}catch(n){throw Pn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return SF(this._delegate,n=>e(new Iv(this,n)))}batch(){return Jt(this._delegate),new Dv(new dv(this._delegate,e=>Tl(this._delegate,e)))}loadBundle(e){return J1(this._delegate,e)}namedQuery(e){return eF(this._delegate,e).then(n=>n?new Ca(this,n):null)}},Sl=class extends bl{constructor(e){super(),this.firestore=e}convertBytes(e){return new wv(new hr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return fr.forKey(n,this.firestore,null)}};function b9(t){fO(t)}var Iv=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Sl(e)}get(e){let n=Ea(e);return this._delegate.get(n).then(i=>new Ia(this._firestore,new gi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=Ea(e);return i?(nC("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ea(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ea(e);return this._delegate.delete(n),this}},Dv=class{constructor(e){this._delegate=e}set(e,n,i){let r=Ea(e);return i?(nC("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=Ea(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=Ea(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Al=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Wo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Da(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new Sl(e),n),r.set(n,o)),o}};Al.INSTANCES=new WeakMap;var fr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sl(e)}static forPath(e,n,i){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new vt(n._delegate,i,new Z(e)))}static forKey(e,n,i){return new t(n,new vt(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ml(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ml(this.firestore,jD(this._delegate,e))}catch(n){throw Pn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Tt(e),e instanceof vt?BD(this._delegate,e):!1}set(e,n){n=nC("DocumentReference.set",n);try{return n?WD(this._delegate,e,n):WD(this._delegate,e)}catch(i){throw Pn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?KD(this._delegate,e):KD(this._delegate,e,n,...i)}catch(r){throw Pn(r,"updateDoc()","DocumentReference.update()")}}delete(){return CF(this._delegate)}onSnapshot(...e){let n=FF(e),i=LF(e,r=>new Ia(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return QD(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=bF(this._delegate):e?.source==="server"?n=wF(this._delegate):n=_F(this._delegate),n.then(i=>new Ia(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Pn(t,e,n){return t.message=t.message.replace(e,n),t}function FF(t){for(let e of t)if(typeof e=="object"&&!ZD(e))return e;return{}}function LF(t,e){var n,i;let r;return ZD(t[0])?r=t[0]:ZD(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ia=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new fr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return GD(this._delegate,e._delegate)}},Da=class extends Ia{data(e){let n=this._delegate.data(e);return this._delegate._converter||pO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Ca=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sl(e)}where(e,n,i){try{return new t(this.firestore,Xr(this._delegate,lF(e,n,i)))}catch(r){throw Pn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,Xr(this._delegate,uF(e,n)))}catch(i){throw Pn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,Xr(this._delegate,dF(e)))}catch(n){throw Pn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,Xr(this._delegate,hF(e)))}catch(n){throw Pn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,Xr(this._delegate,fF(...e)))}catch(n){throw Pn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,Xr(this._delegate,pF(...e)))}catch(n){throw Pn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,Xr(this._delegate,mF(...e)))}catch(n){throw Pn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,Xr(this._delegate,gF(...e)))}catch(n){throw Pn(n,"endAt()","Query.endAt()")}}isEqual(e){return UD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=IF(this._delegate):e?.source==="server"?n=DF(this._delegate):n=EF(this._delegate),n.then(i=>new ph(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=FF(e),i=LF(e,r=>new ph(this.firestore,new Vi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return QD(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},JD=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Da(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},ph=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ca(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Da(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new JD(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Da(this._firestore,i))})}isEqual(e){return GD(this._delegate,e._delegate)}},Ml=class t extends Ca{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new fr(this.firestore,e):null}doc(e){try{return e===void 0?new fr(this.firestore,fh(this._delegate)):new fr(this.firestore,fh(this._delegate,e))}catch(n){throw Pn(n,"doc()","CollectionReference.doc()")}}add(e){return xF(this._delegate,e).then(n=>new fr(this.firestore,n))}isEqual(e){return BD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ea(t){return He(t,vt)}var eC=class t{constructor(...e){this._delegate=new Li(...e)}static documentId(){return new t(Vt.keyField().canonicalString())}isEqual(e){return e=Tt(e),e instanceof Li?this._delegate._internalPath.isEqual(e._internalPath):!1}};var tC=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=MF();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=AF();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=RF(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=NF(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=kF(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var w9={Firestore:Ev,GeoPoint:ga,Timestamp:At,Blob:wv,Transaction:Iv,WriteBatch:Dv,DocumentReference:fr,DocumentSnapshot:Ia,Query:Ca,QueryDocumentSnapshot:Da,QuerySnapshot:ph,CollectionReference:Ml,FieldPath:eC,FieldValue:tC,setLogLevel:b9,CACHE_SIZE_UNLIMITED:H1};function E9(t,e){t.INTERNAL.registerComponent(new vs("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},w9)))}function I9(t){E9(t,(e,n)=>new Ev(e,n,new XD)),t.registerVersion(v9,y9)}I9(_i);function D9(t,e=zi){return new pe(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function VF(t,e){return D9(t,e)}function C9(t,e){return VF(t,e).pipe(Kn(void 0),Xa(),ee(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function oC(t,e){return VF(t,e).pipe(ee(n=>({payload:n,type:"query"})))}var Cv=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=UF(i,n);return new Tv(r,o,this.afs)}snapshotChanges(){return C9(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return this.snapshotChanges().pipe(ee(({payload:n})=>e.idField?Me(U({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Be(this.ref.get(e)).pipe(Rn)}};function xv(t,e){return oC(t,e).pipe(Kn(void 0),Xa(),ee(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function jF(t,e,n){return xv(t,n).pipe(Is((i,r)=>x9(i,r.map(o=>o.payload),e),[]),lo(),ee(i=>i.map(r=>({type:r.type,payload:r}))))}function x9(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=T9(t,i))}),t}function iC(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function T9(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return iC(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return iC(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return iC(t,e.oldIndex,1);break}return t}function BF(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Tv=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=xv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ee(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Kn(void 0),Xa(),We(([i,r])=>r.length>0||!i),ee(([,i])=>i),Rn)}auditTrail(e){return this.stateChanges(e).pipe(Is((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=BF(e);return jF(this.query,n,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return oC(this.query,this.afs.schedulers.outsideAngular).pipe(ee(n=>n.payload.docs.map(i=>e.idField?Me(U({},i.data()),{[e.idField]:i.id}):i.data())),Rn)}get(e){return Be(this.query.get(e)).pipe(Rn)}add(e){return this.ref.add(e)}doc(e){return new Cv(this.ref.doc(e),this.afs)}},rC=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?xv(this.query,this.afs.schedulers.outsideAngular).pipe(Rn):xv(this.query,this.afs.schedulers.outsideAngular).pipe(ee(n=>n.filter(i=>e.indexOf(i.type)>-1)),We(n=>n.length>0),Rn)}auditTrail(e){return this.stateChanges(e).pipe(Is((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=BF(e);return jF(this.query,n,this.afs.schedulers.outsideAngular).pipe(Rn)}valueChanges(e={}){return oC(this.query,this.afs.schedulers.outsideAngular).pipe(ee(i=>i.payload.docs.map(r=>e.idField?U({[e.idField]:r.id},r.data()):r.data())),Rn)}get(e){return Be(this.query.get(e)).pipe(Rn)}},S9=new B("angularfire2.enableFirestorePersistence"),A9=new B("angularfire2.firestore.persistenceSettings"),M9=new B("angularfire2.firestore.settings"),R9=new B("angularfire2.firestore.use-emulator");function UF(t,e=n=>n){return{query:e(t),ref:t}}var zF=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,u,d,f,m,g,_,D,I,k,G){this.schedulers=c;let H=tg(n,a,i),K=d;f&&Z0(H,a,m,_,D,I,g,k),[this.firestore,this.persistenceEnabled$]=ng(`${H.name}.firestore`,"AngularFirestore",H.name,()=>{let ue=a.runOutsideAngular(()=>H.firestore());if(o&&ue.settings(o),K&&ue.useEmulator(...K),r&&!xo(s)){let ie=()=>{try{return Be(ue.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(E){return typeof console<"u"&&console.warn(E),ce(!1)}};return[ue,a.runOutsideAngular(ie)]}else return[ue,ce(!1)]},[o,K,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=UF(r,i),a=this.schedulers.ngZone.run(()=>o);return new Tv(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new rC(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new Cv(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(A(Jm),A(eg,8),A(S9,8),A(M9,8),A(un),A(te),A(Xm),A(A9,8),A(R9,8),A(Cd,8),A(q0,8),A(G0,8),A(W0,8),A(K0,8),A(Q0,8),A(Y0,8),A(Js,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var zoe=ux(sC());function mh(t){try{return Reflect.metadata("label",{libelle:t})}catch(e){console.log(e)}}var qoe=ux(sC()),Sv=class{getPropertyLibelle(e,n){try{let i=Reflect.getMetadata("label",this,e);if(zc(i)){let r=i.libelle;if($k(n)&&(n="label"),Hk(r)){if(n==="label")return r.label;if(n==="label2")return r.label2;if(n==="label3")return r.label3;if(n==="label4")return r.label4;if(n==="info")return r.info;if(n==="question"&&r.question==!0)return"?";if(n==="unite")return r.unite;if(n==="uniteInfo")return zc(r.unite)?"en "+r.unite:""}else if(n==="label"||n==="label2"||n==="label3")return r}return null}catch(i){return console.error("Impossible de lire la propri\xE9t\xE9 "+n+" pour : "+this.constructor.name+".",e,i),null}}getPropertyInstance(e){try{let n=Reflect.getMetadata("dataType",this,e)?.libelle;return n||null}catch{return null}}};var as=class extends Sv{id;nom;prenom;droit;constructor(e,n,i,r){super(),this.id=e||null,this.nom=n||null,this.prenom=i||null,this.droit=r||null}getId(){return this.id}setId(e){this.id=e}getNom(){return this.nom}setNom(e){this.nom=e}getPrenom(){return this.prenom}setPrenom(e){this.prenom=e}getDroit(){return this.droit}setDroit(e){this.droit=e}};eu([mh("Identifiant")],as.prototype,"id",2),eu([mh("Nom")],as.prototype,"nom",2),eu([mh("Pr\xE9nom")],as.prototype,"prenom",2),eu([mh("Droit")],as.prototype,"droit",2);var HF=class t{constructor(e,n){this.afAuth=e;this.firestore=n}basePathUser="/user";signIn(e,n){return this.afAuth.signInWithEmailAndPassword(e,n)}signUp(e,n){return this.afAuth.createUserWithEmailAndPassword(e,n)}signOut(){return this.afAuth.signOut()}getCurrentUser(){return this.afAuth.authState}getUser(){let e=this.firestore.collection(this.basePathUser).valueChanges();return wr([this.afAuth.authState,e]).pipe(ee(([n,i])=>{let r=i.find(o=>o.id==n.uid);return zc(r)?new Ym(as).map(r):null}))}static \u0275fac=function(n){return new(n||t)(A(Cd),A(zF))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var aC=class{constructor(e){this._box=e,this._destroyed=new se,this._resizeSubject=new se,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pe(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(We(n=>n.some(i=>i.target===e)),Ds({bufferSize:1,refCount:!0}),Ke(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},qF=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=L(te),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new aC(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ji=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ji||{}),lse="*";function gh(t,e){return{type:ji.Trigger,name:t,definitions:e,options:{}}}function vh(t,e=null){return{type:ji.Animate,styles:e,timings:t}}function use(t,e=null){return{type:ji.Group,steps:t,options:e}}function dse(t,e=null){return{type:ji.Sequence,steps:t,options:e}}function xa(t){return{type:ji.Style,styles:t,offset:null}}function Av(t,e,n){return{type:ji.State,name:t,styles:e,options:n}}function hse(t){return{type:ji.Keyframes,steps:t}}function Rl(t,e,n=null){return{type:ji.Transition,expr:t,animation:e,options:n}}function KF(t=null){return{type:ji.AnimateChild,options:t}}function QF(t,e,n=null){return{type:ji.Query,selector:t,animation:e,options:n}}var GF=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},WF=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},fse="!";var k9=["notch"],P9=["matFormFieldNotchedOutline",""],O9=["*"],F9=["textField"],L9=["iconPrefixContainer"],V9=["textPrefixContainer"],j9=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],B9=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function U9(t,e){t&1&&lt(0,"span",19)}function z9(t,e){if(t&1&&(ve(0,"label",18),It(1,1),st(2,U9,1,0,"span",19),Se()),t&2){let n=et(2);ht("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),at("for",n._control.disableAutomaticLabeling?null:n._control.id),De(2),ct(!n.hideRequiredMarker&&n._control.required?2:-1)}}function $9(t,e){if(t&1&&st(0,z9,3,5,"label",18),t&2){let n=et();ct(n._hasFloatingLabel()?0:-1)}}function H9(t,e){t&1&&lt(0,"div",5)}function q9(t,e){}function G9(t,e){if(t&1&&st(0,q9,0,0,"ng-template",11),t&2){et(2);let n=zs(1);ht("ngTemplateOutlet",n)}}function W9(t,e){if(t&1&&(ve(0,"div",7),st(1,G9,1,1,null,11),Se()),t&2){let n=et();ht("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),De(),ct(n._forceDisplayInfixLabel()?-1:1)}}function K9(t,e){t&1&&(ve(0,"div",8,2),It(2,2),Se())}function Q9(t,e){t&1&&(ve(0,"div",9,3),It(2,3),Se())}function Y9(t,e){}function Z9(t,e){if(t&1&&st(0,Y9,0,0,"ng-template",11),t&2){et();let n=zs(1);ht("ngTemplateOutlet",n)}}function X9(t,e){t&1&&(ve(0,"div",12),It(1,4),Se())}function J9(t,e){t&1&&(ve(0,"div",13),It(1,5),Se())}function e6(t,e){t&1&&lt(0,"div",14)}function t6(t,e){if(t&1&&(ve(0,"div",16),It(1,6),Se()),t&2){let n=et();ht("@transitionMessages",n._subscriptAnimationState)}}function n6(t,e){if(t&1&&(ve(0,"mat-hint",20),zn(1),Se()),t&2){let n=et(2);ht("id",n._hintLabelId),De(),er(n.hintLabel)}}function i6(t,e){if(t&1&&(ve(0,"div",17),st(1,n6,2,2,"mat-hint",20),It(2,7),lt(3,"div",21),It(4,8),Se()),t&2){let n=et();ht("@transitionMessages",n._subscriptAnimationState),De(),ct(n.hintLabel?1:-1)}}var YF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})(),r6=0,oL=new B("MatError"),Fse=(()=>{let e=class e{constructor(i,r){this.id=`mat-mdc-error-${r6++}`,i||r.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(r){return new(r||e)(bc("aria-live"),V(we))},e.\u0275dir=ge({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&Ic("id",o.id)},inputs:{id:"id"},standalone:!0,features:[Ut([{provide:oL,useExisting:e}])]});let t=e;return t})(),o6=0,ZF=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${o6++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(Ic("id",o.id),at("align",null),ft("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),s6=new B("MatPrefix");var a6=new B("MatSuffix");var sL=new B("FloatingLabelParent"),XF=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=L(qF),this._ngZone=L(te),this._parent=L(sL),this._resizeSubscription=new Ue}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return c6(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(V(we))},e.\u0275dir=ge({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&ft("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function c6(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var JF="mdc-line-ripple--active",Mv="mdc-line-ripple--deactivating",eL=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(Mv);o.propertyName==="opacity"&&a&&s.remove(JF,Mv)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Mv),i.add(JF)}deactivate(){this._elementRef.nativeElement.classList.add(Mv)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(V(we),V(te))},e.\u0275dir=ge({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),tL=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(V(we),V(te))},e.\u0275cmp=Yt({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&dn(k9,5),r&2){let s;mt(s=gt())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&ft("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Zt],attrs:P9,ngContentSelectors:O9,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(ui(),lt(0,"div",1),ve(1,"div",2,0),It(3),Se(),lt(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),l6={transitionMessages:gh("transitionMessages",[Av("enter",xa({opacity:1,transform:"translateY(0%)"})),Rl("void => enter",[xa({opacity:0,transform:"translateY(-5px)"}),vh("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},cC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e});let t=e;return t})();var lC=new B("MatFormField"),u6=new B("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nL=0,iL="fill",d6="auto",rL="fixed",h6="translateY(-50%)",aL=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=jc(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||d6}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||iL;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||rL}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||rL}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,a,c,u,d){this._elementRef=i,this._changeDetectorRef=r,this._dir=s,this._platform=a,this._defaults=c,this._animationMode=u,this._labelChild=wM(YF),this._hideRequiredMarker=!1,this.color="primary",this._appearance=iL,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${nL++}`,this._hintLabelId=`mat-mdc-hint-${nL++}`,this._subscriptAnimationState="",this._destroyed=new se,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=L(St),this.getLabelId=Or(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Or(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let r=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Ke(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),wi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Ru(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ke(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=o?.getBoundingClientRect().width??0,c=this._dir.value==="rtl"?"-1":"1",u=`${s+a}px`,f=`calc(${c} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${h6} translateX(${f})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(V(we),V(zt),V(te),V(ki),V(tt),V(u6,8),V(Xn,8),V(Ee))},e.\u0275cmp=Yt({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(HM(s,o._labelChild,YF,5),Ai(s,cC,5),Ai(s,s6,5),Ai(s,a6,5),Ai(s,oL,5),Ai(s,ZF,5)),r&2){qM();let a;mt(a=gt())&&(o._formFieldControl=a.first),mt(a=gt())&&(o._prefixChildren=a),mt(a=gt())&&(o._suffixChildren=a),mt(a=gt())&&(o._errorChildren=a),mt(a=gt())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(dn(F9,5),dn(L9,5),dn(V9,5),dn(XF,5),dn(tL,5),dn(eL,5)),r&2){let s;mt(s=gt())&&(o._textField=s.first),mt(s=gt())&&(o._iconPrefixContainer=s.first),mt(s=gt())&&(o._textPrefixContainer=s.first),mt(s=gt())&&(o._floatingLabel=s.first),mt(s=gt())&&(o._notchedOutline=s.first),mt(s=gt())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&ft("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ut([{provide:lC,useExisting:e},{provide:sL,useExisting:e}]),Zt],ngContentSelectors:B9,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Si();ui(j9),st(0,$9,1,1,"ng-template",null,0,QM),ve(2,"div",4,1),pt("click",function(c){return _n(s),bn(o._control.onContainerClick(c))}),st(4,H9,1,0,"div",5),ve(5,"div",6),st(6,W9,2,2,"div",7)(7,K9,3,0,"div",8)(8,Q9,3,0,"div",9),ve(9,"div",10),st(10,Z9,1,1,null,11),It(11),Se(),st(12,X9,2,0,"div",12)(13,J9,2,0,"div",13),Se(),st(14,e6,1,0,"div",14),Se(),ve(15,"div",15),st(16,t6,2,1,"div",16)(17,i6,5,2,"div",17),Se()}if(r&2){let s;De(2),ft("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),De(2),ct(!o._hasOutline()&&!o._control.disabled?4:-1),De(2),ct(o._hasOutline()?6:-1),De(),ct(o._hasIconPrefix?7:-1),De(),ct(o._hasTextPrefix?8:-1),De(2),ct(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),De(2),ct(o._hasTextSuffix?12:-1),De(),ct(o._hasIconSuffix?13:-1),De(),ct(o._hasOutline()?-1:14),De(),ft("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),De(),ct((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[XF,tL,pR,eL,ZF],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[l6.transitionMessages]},changeDetection:0});let t=e;return t})(),cL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[rn,Hs,Pm,rn]});let t=e;return t})();var lL=class{};function Use(t){return t&&typeof t.connect=="function"&&!(t instanceof ro)}var Rv=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(Rv||{}),zse=new B("_ViewRepeater"),uL=class{applyChanges(e,n,i,r,o){e.forEachOperation((s,a,c)=>{let u,d;if(s.previousIndex==null){let f=i(s,a,c);u=n.createEmbeddedView(f.templateRef,f.context,f.index),d=Rv.INSERTED}else c==null?(n.remove(a),d=Rv.REMOVED):(u=n.get(a),n.move(u,c),d=Rv.MOVED);o&&o({context:u?.context,operation:d,record:s})})}detach(){}};var Nv=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new se,n&&n.length&&(e?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),n.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}else return e}};var $se=(()=>{let e=class e{constructor(){this._listeners=[]}notify(i,r){for(let o of this._listeners)o(i,r)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(r=>i!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var f6=20,kl=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=f6){return this._platform.isBrowser?new pe(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(Ef(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ce()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(We(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=zr(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Ya(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(A(te),A(tt),A(Ee,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p6=(()=>{let e=class e{constructor(i,r,o,s){this.elementRef=i,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new se,this._elementScrolled=new pe(a=>this.ngZone.runOutsideAngular(()=>Ya(this.elementRef.nativeElement,"scroll").pipe(Ke(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=o?i.end:i.start),i.right==null&&(i.right=o?i.start:i.end),i.bottom!=null&&(i.top=r.scrollHeight-r.clientHeight-i.bottom),o&&Vc()!=Ri.NORMAL?(i.left!=null&&(i.right=r.scrollWidth-r.clientWidth-i.left),Vc()==Ri.INVERTED?i.left=i.right:Vc()==Ri.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=r.scrollWidth-r.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let r=this.elementRef.nativeElement;km()?r.scrollTo(i):(i.top!=null&&(r.scrollTop=i.top),i.left!=null&&(r.scrollLeft=i.left))}measureScrollOffset(i){let r="left",o="right",s=this.elementRef.nativeElement;if(i=="top")return s.scrollTop;if(i=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return i=="start"?i=a?o:r:i=="end"&&(i=a?r:o),a&&Vc()==Ri.INVERTED?i==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&Vc()==Ri.NEGATED?i==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:i==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(V(we),V(kl),V(te),V(ki,8))},e.\u0275dir=ge({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),m6=20,Pl=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new se,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=m6){return i>0?this._change.pipe(Ef(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(A(tt),A(te),A(Ee,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Nl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})(),uC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[jo,Nl,jo,Nl]});let t=e;return t})();var yh=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},_h=class extends yh{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},bh=class extends yh{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},dC=class extends yh{constructor(e){super(),this.element=e instanceof we?e.nativeElement:e}},kv=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof _h)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof bh)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof dC)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Pv=class extends kv{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||St.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var sae=(()=>{let e=class e extends kv{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(V(Zi),V(wn),V(Ee))},e.\u0275dir=ge({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ot]});let t=e;return t})();var hL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var fL=km(),hC=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ft(-this._previousScrollPosition.left),e.style.top=Ft(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fL&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var fC=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(We(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ov=class{enable(){}disable(){}attach(){}};function pC(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function pL(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var mC=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();pC(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},g6=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Ov,this.close=a=>new fC(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new hC(this._viewportRuler,this._document),this.reposition=a=>new mC(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(A(kl),A(Pl),A(te),A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fv=class{constructor(e){if(this.scrollStrategy=new Ov,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var gC=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var bL=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v6=(()=>{let e=class e extends bL{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(te,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),y6=(()=>{let e=class e extends bL{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ti(s)},this._clickListener=s=>{let a=ti(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){let f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(mL(f.overlayElement,a)||mL(f.overlayElement,c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(tt),A(te,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mL(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===t)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var wL=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||yd()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),yd()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(tt))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vC=class{constructor(e,n,i,r,o,s,a,c,u,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new se,this._attachments=new se,this._detachments=new se,this._locationChanges=Ue.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new se,this._outsidePointerEvents=new se,this._renders=new se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=$n(()=>Ru(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Pr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=U(U({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Me(U({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Ft(this._config.width),e.height=Ft(this._config.height),e.minWidth=Ft(this._config.minWidth),e.minHeight=Ft(this._config.minHeight),e.maxWidth=Ft(this._config.maxWidth),e.maxHeight=Ft(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=Bc(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Ke(wi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},gL="cdk-overlay-connected-position-bounding-box",_6=/([A-Za-z%]+)$/,yC=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new se,this._resizeSubscription=Ue.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(gL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(u,n,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,i)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ta(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=yL(n),{x:s,y:a}=e,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(s+=c),u&&(a+=u);let d=0-s,f=s+o.width-i.width,m=0-a,g=a+o.height-i.height,_=this._subtractOverflows(o.width,d,f),D=this._subtractOverflows(o.height,m,g),I=_*D;return{visibleArea:I,isCompletelyWithinViewport:o.width*o.height===I,fitsInViewportVertically:D===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=vL(this._overlayRef.getConfig().minHeight),a=vL(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=yL(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),u=Math.max(o.left-i.left-e.x,0),d=0,f=0;return r.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!b6(this._lastScrollVisibility,i)){let r=new gC(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),_=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-_/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,u=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,d,f,m;if(u)m=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),_=this._lastBoundingBoxSize.width;d=g*2,f=e.x-g,d>_&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-_/2)}return{top:s,left:f,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Ft(i.height),r.top=Ft(i.top),r.bottom=Ft(i.bottom),r.width=Ft(i.width),r.left=Ft(i.left),r.right=Ft(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Ft(o)),s&&(r.maxWidth=Ft(s))}this._lastBoundingBoxSize=i,Ta(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ta(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ta(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Ta(i,this._getExactOverlayY(n,e,d)),Ta(i,this._getExactOverlayX(n,e,d))}else i.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Ft(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Ft(s.maxWidth):o&&(i.maxWidth="")),Ta(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Ft(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Ft(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pL(e,i),isOriginOutsideView:pC(e,i),isOverlayClipped:pL(n,i),isOverlayOutsideView:pC(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Bc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof we)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Ta(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function vL(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(_6);return!n||n==="px"?parseFloat(e):null}return t||null}function yL(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function b6(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var _L="cdk-global-overlay-wrapper",_C=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_L),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",_="",D="";c?D="flex-start":d==="center"?(D="center",m?_=f:g=f):m?d==="left"||d==="end"?(D="flex-end",g=f):(d==="right"||d==="start")&&(D="flex-start",_=f):d==="left"||d==="start"?(D="flex-start",g=f):(d==="right"||d==="end")&&(D="flex-end",_=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":_,n.justifyContent=D,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(_L),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},w6=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new _C}flexibleConnectedTo(i){return new yC(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(A(Pl),A(Ee),A(tt),A(wL))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E6=0,vi=(()=>{let e=class e{constructor(i,r,o,s,a,c,u,d,f,m,g,_){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=d,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=_}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Fv(i);return a.direction=a.direction||this._directionality.value,new vC(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(cn))}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${E6++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(tr)),new Pv(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(A(g6),A(wL),A(Zi),A(w6),A(v6),A(St),A(te),A(Ee),A(ki),A(Co),A(y6),A(Xn,8))},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],EL=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=L(vi);return()=>t.scrollStrategies.reposition()}}),wh=(()=>{let e=class e{constructor(i){this.elementRef=i}};e.\u0275fac=function(r){return new(r||e)(V(we))},e.\u0275dir=ge({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),wC=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}constructor(i,r,o,s,a){this._overlay=i,this._dir=a,this._backdropSubscription=Ue.EMPTY,this._attachSubscription=Ue.EMPTY,this._detachSubscription=Ue.EMPTY,this._positionSubscription=Ue.EMPTY,this._disposeOnNavigation=!1,this._ngZone=L(te),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Re,this.positionChange=new Re,this.attach=new Re,this.detach=new Re,this.overlayKeydown=new Re,this.overlayOutsideClick=new Re,this._templatePortal=new bh(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=I6);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Ni(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=ti(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Fv({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(i){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof wh?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof wh?this.origin.elementRef.nativeElement:this.origin instanceof we?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Ay(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(V(vi),V(Ci),V(wn),V(EL),V(ki,8))},e.\u0275dir=ge({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",qe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",qe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",qe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",qe],push:[2,"cdkConnectedOverlayPush","push",qe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",qe]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[En,yn]});let t=e;return t})();function D6(t){return()=>t.scrollStrategies.reposition()}var C6={provide:EL,deps:[vi],useFactory:D6},Lv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[vi,C6],imports:[jo,hL,uC,uC]});let t=e;return t})();var T6=["trigger"],S6=["panel"],A6=[[["mat-select-trigger"]],"*"],M6=["mat-select-trigger","*"];function R6(t,e){if(t&1&&(ve(0,"span",4),zn(1),Se()),t&2){let n=et();De(),er(n.placeholder)}}function N6(t,e){t&1&&It(0)}function k6(t,e){if(t&1&&(ve(0,"span",11),zn(1),Se()),t&2){let n=et(2);De(),er(n.triggerValue)}}function P6(t,e){if(t&1&&(ve(0,"span",5),st(1,N6,1,0)(2,k6,2,1,"span",11),Se()),t&2){let n=et();De(),ct(n.customTrigger?1:2)}}function O6(t,e){if(t&1){let n=Si();ve(0,"div",12,1),pt("@transformPanel.done",function(r){_n(n);let o=et();return bn(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){_n(n);let o=et();return bn(o._handleKeydown(r))}),It(2,1),Se()}if(t&2){let n=et();LM("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),ht("ngClass",n.panelClass)("@transformPanel","showing"),at("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var F6={transformPanelWrap:gh("transformPanelWrap",[Rl("* => void",QF("@transformPanel",[KF()],{optional:!0}))]),transformPanel:gh("transformPanel",[Av("void",xa({opacity:0,transform:"scale(1, 0.8)"})),Rl("void => showing",vh("120ms cubic-bezier(0, 0, 0.2, 1)",xa({opacity:1,transform:"scale(1, 1)"}))),Rl("* => void",vh("100ms linear",xa({opacity:0})))])};var IL=0,DL=new B("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=L(vi);return()=>t.scrollStrategies.reposition()}});function L6(t){return()=>t.scrollStrategies.reposition()}var V6=new B("MAT_SELECT_CONFIG"),j6={provide:DL,deps:[vi],useFactory:L6},B6=new B("MatSelectTrigger"),EC=class{constructor(e,n){this.source=e,this.value=n}},CL=(()=>{let e=class e{_scrollOptionIntoView(i){let r=this.options.toArray()[i];if(r){let o=this.panel.nativeElement,s=Fk(i,this.options,this.optionGroups),a=r._getHostElement();i===0&&s===1?o.scrollTop=0:o.scrollTop=Lk(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new EC(this,i)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(_m.required)??!1}set required(i){this._required=i,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,a,c,u,d,f,m,g,_,D,I){this._viewportRuler=i,this._changeDetectorRef=r,this._elementRef=a,this._dir=c,this._parentFormField=f,this.ngControl=m,this._liveAnnouncer=D,this._defaultOptions=I,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(k,G)=>k===G,this._uid=`mat-select-${IL++}`,this._triggerAriaLabelledBy=null,this._destroy=new se,this.stateChanges=new se,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${IL++}`,this._panelDoneAnimatingStream=new se,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new se,this.optionSelectionChanges=Qa(()=>{let k=this.options;return k?k.changes.pipe(Kn(k),Je(()=>wi(...k.map(G=>G.onSelectionChange)))):this._initialized.pipe(Je(()=>this.optionSelectionChanges))}),this.openedChange=new Re,this._openedStream=this.openedChange.pipe(We(k=>k),ee(()=>{})),this._closedStream=this.openedChange.pipe(We(k=>!k),ee(()=>{})),this.selectionChange=new Re,this.valueChange=new Re,this._trackedModal=null,this._skipPredicate=k=>this.panelOpen?!1:k.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),I?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=I.typeaheadDebounceInterval),this._errorStateTracker=new qm(s,m,d,u,this.stateChanges),this._scrollStrategyFactory=_,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Nv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(lo(),Ke(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ke(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ke(this._destroy)).subscribe(i=>{i.added.forEach(r=>r.select()),i.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Kn(null),Ke(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),r=this.ngControl;if(i!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?o.setAttribute("aria-labelledby",i):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let r=`${this.id}-panel`;this._trackedModal&&$m(this._trackedModal,"aria-owns",r),b0(i,"aria-owns",r),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;$m(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let r=i.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!Ni(i)||(this.multiple||i.altKey)&&o)i.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;a.onKeydown(i);let u=this.selected;u&&c!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(i){let r=this._keyManager,o=i.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&i.altKey)i.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!Ni(i))i.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&i.ctrlKey){i.preventDefault();let c=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(c?u.select():u.deselect())})}else{let c=r.activeItemIndex;r.onKeydown(i),this._multiple&&s&&i.shiftKey&&r.activeItem&&r.activeItemIndex!==c&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Vn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(i);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,i)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof wh?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Bm(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=wi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ke(i)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),wi(...this.options.map(r=>r._stateChanges)).pipe(Ke(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,r){let o=this._selectionModel.isSelected(i);i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(o!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),r&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,i):i.indexOf(r)-i.indexOf(o)),this.stateChanges.next()}}_propagateChanges(i){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:i,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){i=r;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=i?i+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(V(Pl),V(zt),V(te),V(kk),V(we),V(ki,8),V(c0,8),V(l0,8),V(lC,8),V(Ks,10),bc("tabindex"),V(DL),V(Ek),V(V6,8))},e.\u0275cmp=Yt({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(Ai(s,B6,5),Ai(s,Qm,5),Ai(s,P0,5)),r&2){let a;mt(a=gt())&&(o.customTrigger=a.first),mt(a=gt())&&(o.options=a),mt(a=gt())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(dn(T6,5),dn(S6,5),dn(wC,5)),r&2){let s;mt(s=gt())&&(o.trigger=s.first),mt(s=gt())&&(o.panel=s.first),mt(s=gt())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&pt("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(at("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),ft("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",qe],disableRipple:[2,"disableRipple","disableRipple",qe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:nr(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",qe],placeholder:"placeholder",required:[2,"required","required",qe],multiple:[2,"multiple","multiple",qe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",qe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",nr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Ut([{provide:cC,useExisting:e},{provide:k0,useExisting:e}]),En,yn,Zt],ngContentSelectors:M6,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=Si();ui(A6),ve(0,"div",2,0),pt("click",function(){return _n(s),bn(o.open())}),ve(3,"div",3),st(4,R6,2,1,"span",4)(5,P6,3,1,"span",5),Se(),ve(6,"div",6)(7,"div",7),Bs(),ve(8,"svg",8),lt(9,"path",9),Se()()()(),st(10,O6,3,9,"ng-template",10),pt("backdropClick",function(){return _n(s),bn(o.close())})("attach",function(){return _n(s),bn(o._onAttached())})("detach",function(){return _n(s),bn(o.close())})}if(r&2){let s=zs(1);De(3),at("id",o._valueId),De(),ct(o.empty?4:5),De(6),ht("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[wh,wC,Gp],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[F6.transformPanel]},changeDetection:0});let t=e;return t})();var xL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[j6],imports:[Hs,Lv,O0,rn,Nl,cL,O0,rn]});let t=e;return t})();var U6=["tooltip"],AL=20;var ML=new B("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=L(vi);return()=>t.scrollStrategies.reposition({scrollThrottle:AL})}});function z6(t){return()=>t.scrollStrategies.reposition({scrollThrottle:AL})}var $6={provide:ML,deps:[vi],useFactory:z6};function H6(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var q6=new B("mat-tooltip-default-options",{providedIn:"root",factory:H6});var TL="tooltip-panel",SL=Lo({passive:!0}),G6=8,W6=8,K6=24,Q6=200,RL=(()=>{let e=class e{get position(){return this._position}set position(i){i!==this._position&&(this._position=i,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(i){this._positionAtOrigin=jc(i),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(i){let r=jc(i);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(i){this._showDelay=_d(i)}get hideDelay(){return this._hideDelay}set hideDelay(i){this._hideDelay=_d(i),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(i){let r=this._message;this._message=i!=null?String(i).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}get tooltipClass(){return this._tooltipClass}set tooltipClass(i){this._tooltipClass=i,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(i,r,o,s,a,c,u,d,f,m,g,_){this._overlay=i,this._elementRef=r,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=c,this._ariaDescriber=u,this._focusMonitor=d,this._dir=m,this._defaultOptions=g,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Y6,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new se,this._injector=L(St),this._scrollStrategy=f,this._document=_,g&&(this._showDelay=g.showDelay,this._hideDelay=g.hideDelay,g.position&&(this.position=g.position),g.positionAtOrigin&&(this.positionAtOrigin=g.positionAtOrigin),g.touchGestures&&(this.touchGestures=g.touchGestures),g.tooltipClass&&(this.tooltipClass=g.tooltipClass)),m.change.pipe(Ke(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=G6}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ke(this._destroyed)).subscribe(i=>{i?i==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let i=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,o])=>{i.removeEventListener(r,o,SL)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(i,this.message,"tooltip"),this._focusMonitor.stopMonitoring(i)}show(i=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(r);this._detach(),this._portal=this._portal||new _h(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Ke(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(i)}hide(i=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(i):(r._cancelPendingAnimations(),this._detach()))}toggle(i){this._isTooltipVisible()?this.hide():this.show(void 0,i)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(i){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!i)&&s._origin instanceof we)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?i||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return o.positionChanges.pipe(Ke(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${TL}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ke(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ke(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ke(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Ni(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(i){let r=i.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset(U(U({},o.main),s.main)),this._addOffset(U(U({},o.fallback),s.fallback))])}_addOffset(i){let r=W6,o=!this._dir||this._dir.value=="ltr";return i.originY==="top"?i.offsetY=-r:i.originY==="bottom"?i.offsetY=r:i.originX==="start"?i.offsetX=o?-r:r:i.originX==="end"&&(i.offsetX=o?r:-r),i}_getOrigin(){let i=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"||r=="below"?o={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&i||r=="right"&&!i?o={originX:"start",originY:"center"}:(r=="after"||r=="right"&&i||r=="left"&&!i)&&(o={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let i=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"?o={overlayX:"center",overlayY:"bottom"}:r=="below"?o={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&i||r=="right"&&!i?o={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&i||r=="left"&&!i)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Pr(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(i){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=i,this._tooltipInstance._markForCheck())}_invertPosition(i,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):i==="end"?i="start":i==="start"&&(i="end"),{x:i,y:r}}_updateCurrentPositionClass(i){let{overlayY:r,originX:o,originY:s}=i,a;if(r==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=r==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let c=this._overlayRef;if(c){let u=`${this._cssClassPrefix}-${TL}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",i=>{this._setupPointerExitEventsIfNeeded();let r;i.x!==void 0&&i.y!==void 0&&(r=i),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",i=>{let r=i.targetTouches?.[0],o=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let i=[];if(this._platformSupportsMouseEvents())i.push(["mouseleave",r=>{let o=r.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};i.push(["touchend",r],["touchcancel",r])}this._addListeners(i),this._passiveListeners.push(...i)}_addListeners(i){i.forEach(([r,o])=>{this._elementRef.nativeElement.addEventListener(r,o,SL)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(i){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(i.clientX,i.clientY),o=this._elementRef.nativeElement;r!==o&&!o.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let i=this.touchGestures;if(i!=="off"){let r=this._elementRef.nativeElement,o=r.style;(i==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(i==="on"||!r.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(i){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,i,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};e.\u0275fac=function(r){return new(r||e)(V(vi),V(we),V(kl),V(wn),V(te),V(tt),V(_k),V(bd),V(ML),V(ki),V(q6,8),V(Ee))},e.\u0275dir=ge({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,o){r&2&&ft("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let t=e;return t})(),Y6=(()=>{let e=class e{constructor(i,r,o){this._changeDetectorRef=i,this._elementRef=r,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new se,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(i){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},i)}hide(i){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},i)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:i}){(!i||!this._triggerElement.contains(i))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let i=this._elementRef.nativeElement.getBoundingClientRect();return i.height>K6&&i.width>=Q6}_handleAnimationEnd({animationName:i}){(i===this._showAnimation||i===this._hideAnimation)&&this._finalizeAnimation(i===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(i){i?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(i){let r=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(i?s:o),r.classList.add(i?o:s),this._isVisible!==i&&(this._isVisible=i,this._changeDetectorRef.markForCheck()),i&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(r);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}i&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(i))}};e.\u0275fac=function(r){return new(r||e)(V(zt),V(we),V(Xn,8))},e.\u0275cmp=Yt({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(r,o){if(r&1&&dn(U6,7),r&2){let s;mt(s=gt())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,o){r&1&&pt("mouseleave",function(a){return o._handleMouseLeave(a)})},standalone:!0,features:[Zt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,o){if(r&1){let s=Si();ve(0,"div",1,0),pt("animationend",function(c){return _n(s),bn(o._handleAnimationEnd(c))}),ve(2,"div",2),zn(3),Se()()}r&2&&(ft("mdc-tooltip--multiline",o._isMultiline),ht("ngClass",o.tooltipClass),De(3),er(o.message))},dependencies:[Gp],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let t=e;return t})();var NL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[$6],imports:[Ik,Hs,Lv,rn,rn,Nl]});let t=e;return t})();function Z6(t,e){if(t&1&&(ve(0,"mat-option",17),zn(1),Se()),t&2){let n=e.$implicit;ht("value",n),De(),Io(" ",n," ")}}function X6(t,e){if(t&1){let n=Si();ve(0,"mat-form-field",14)(1,"mat-select",16,0),pt("selectionChange",function(r){_n(n);let o=et(2);return bn(o._changePageSize(r.value))}),jM(3,Z6,2,2,"mat-option",17,VM),Se(),ve(5,"div",18),pt("click",function(){_n(n);let r=zs(2);return bn(r.open())}),Se()()}if(t&2){let n=et(2);ht("appearance",n._formFieldAppearance)("color",n.color),De(),ht("value",n.pageSize)("disabled",n.disabled)("aria-labelledby",n._pageSizeLabelId)("panelClass",n.selectConfig.panelClass||"")("disableOptionCentering",n.selectConfig.disableOptionCentering),De(2),BM(n._displayedPageSizeOptions)}}function J6(t,e){if(t&1&&(ve(0,"div",15),zn(1),Se()),t&2){let n=et(2);De(),er(n.pageSize)}}function eW(t,e){if(t&1&&(ve(0,"div",3)(1,"div",13),zn(2),Se(),st(3,X6,6,7,"mat-form-field",14)(4,J6,2,1,"div",15),Se()),t&2){let n=et();De(),at("id",n._pageSizeLabelId),De(),Io(" ",n._intl.itemsPerPageLabel," "),De(),ct(n._displayedPageSizeOptions.length>1?3:-1),De(),ct(n._displayedPageSizeOptions.length<=1?4:-1)}}function tW(t,e){if(t&1){let n=Si();ve(0,"button",19),pt("click",function(){_n(n);let r=et();return bn(r.firstPage())}),Bs(),ve(1,"svg",8),lt(2,"path",20),Se()()}if(t&2){let n=et();ht("matTooltip",n._intl.firstPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),at("aria-label",n._intl.firstPageLabel)}}function nW(t,e){if(t&1){let n=Si();ve(0,"button",21),pt("click",function(){_n(n);let r=et();return bn(r.lastPage())}),Bs(),ve(1,"svg",8),lt(2,"path",22),Se()()}if(t&2){let n=et();ht("matTooltip",n._intl.lastPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),at("aria-label",n._intl.lastPageLabel)}}var Vv=(()=>{let e=class e{constructor(){this.changes=new se,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(i,r,o)=>{if(o==0||r==0)return`0 of ${o}`;o=Math.max(o,0);let s=i*r,a=s<o?Math.min(s+r,o):s+r;return`${s+1} \u2013 ${a} of ${o}`}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iW(t){return t||new Vv}var rW={provide:Vv,deps:[[new yo,new gc,Vv]],useFactory:iW},oW=50;var sW=new B("MAT_PAGINATOR_DEFAULT_OPTIONS"),aW=0,cW=(()=>{let e=class e{get pageIndex(){return this._pageIndex}set pageIndex(i){this._pageIndex=Math.max(i||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(i){this._length=i||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(i){this._pageSize=Math.max(i||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(i){this._pageSizeOptions=(i||[]).map(r=>nr(r,0)),this._updateDisplayedPageSizeOptions()}constructor(i,r,o){if(this._intl=i,this._changeDetectorRef=r,this._pageSizeLabelId=`mat-paginator-page-size-label-${aW++}`,this._isInitialized=!1,this._initializedStream=new ws(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Re,this.initialized=this._initializedStream,this._intlChanges=i.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){let{pageSize:s,pageSizeOptions:a,hidePageSize:c,showFirstLastButtons:u}=o;s!=null&&(this._pageSize=s),a!=null&&(this._pageSizeOptions=a),c!=null&&(this.hidePageSize=c),u!=null&&(this.showFirstLastButtons=u)}this._formFieldAppearance=o?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let i=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(i)}previousPage(){if(!this.hasPreviousPage())return;let i=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(i)}firstPage(){if(!this.hasPreviousPage())return;let i=this.pageIndex;this.pageIndex=0,this._emitPageEvent(i)}lastPage(){if(!this.hasNextPage())return;let i=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(i)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let i=this.getNumberOfPages()-1;return this.pageIndex<i&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(i){let r=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(r/i)||0,this.pageSize=i,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:oW),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((i,r)=>i-r),this._changeDetectorRef.markForCheck())}_emitPageEvent(i){this.page.emit({previousPageIndex:i,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};e.\u0275fac=function(r){return new(r||e)(V(Vv),V(zt),V(sW,8))},e.\u0275cmp=Yt({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",nr],length:[2,"length","length",nr],pageSize:[2,"pageSize","pageSize",nr],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",qe],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",qe],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",qe]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[En,Zt],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,o){r&1&&(ve(0,"div",1)(1,"div",2),st(2,eW,5,4,"div",3),ve(3,"div",4)(4,"div",5),zn(5),Se(),st(6,tW,3,5,"button",6),ve(7,"button",7),pt("click",function(){return o.previousPage()}),Bs(),ve(8,"svg",8),lt(9,"path",9),Se()(),WS(),ve(10,"button",10),pt("click",function(){return o.nextPage()}),Bs(),ve(11,"svg",8),lt(12,"path",11),Se()(),st(13,nW,3,5,"button",12),Se()()()),r&2&&(De(2),ct(o.hidePageSize?-1:2),De(3),Io(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),De(),ct(o.showFirstLastButtons?6:-1),De(),ht("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),at("aria-label",o._intl.previousPageLabel),De(3),ht("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),at("aria-label",o._intl.nextPageLabel),De(3),ct(o.showFirstLastButtons?13:-1))},dependencies:[aL,CL,Qm,Bk,RL],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0});let t=e;return t})(),jce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[rW],imports:[Uk,xL,NL,cW]});let t=e;return t})();export{Ue as a,pe as b,se as c,Qt as d,ws as e,Be as f,ce as g,Wa as h,Ka as i,ee as j,wr as k,Qa as l,Iy as m,Ya as n,wi as o,We as p,Er as q,FV as r,uu as s,Vn as t,lo as u,Es as v,Wn as w,Sy as x,Kn as y,Je as z,Ke as A,Nt as B,ae as C,Zn as D,$ as E,xe as F,B as G,A as H,L as I,yo as J,gc as K,Yt as L,Te as M,ge as N,vc as O,cn as P,yn as Q,_n as R,bn as S,Bs as T,WS as U,li as V,bc as W,St as X,Re as Y,te as Z,Qi as _,XJ as $,we as aa,uc as ba,un as ca,Xn as da,Ji as ea,JJ as fa,eee as ga,De as ha,V as ia,kp as ja,Ci as ka,pc as la,Eo as ma,wn as na,Ti as oa,Us as pa,Ot as qa,ree as ra,En as sa,st as ta,Pr as ua,at as va,ht as wa,Ub as xa,ft as ya,zb as za,LM as Aa,ct as Ba,VM as Ca,jM as Da,BM as Ea,ve as Fa,Se as Ga,lt as Ha,UM as Ia,zM as Ja,jz as Ka,Si as La,Ic as Ma,Uz as Na,pt as Oa,qz as Pa,et as Qa,ui as Ra,It as Sa,Qz as Ta,Ai as Ua,dn as Va,mt as Wa,gt as Xa,zs as Ya,zn as Za,er as _a,Io as $a,Xz as ab,Jz as bb,oee as cb,e$ as db,Ut as eb,Zt as fb,see as gb,aee as hb,cee as ib,lee as jb,uee as kb,dee as lb,QM as mb,Nu as nb,tr as ob,hee as pb,zt as qb,$p as rb,Gb as sb,qe as tb,nr as ub,Wb as vb,fee as wb,Ee as xb,Co as yb,Gp as zb,Oee as Ab,Fee as Bb,Lee as Cb,pR as Db,Vee as Eb,Hs as Fb,sw as Gb,xo as Hb,q$ as Ib,Xee as Jb,TR as Kb,yte as Lb,S4 as Mb,sH as Nb,Ro as Ob,Lte as Pb,Vte as Qb,L0 as Rb,Xie as Sb,j8 as Tb,Js as Ub,Xm as Vb,Jie as Wb,Rn as Xb,ere as Yb,Kk as Zb,Qk as _b,moe as $b,zc as ac,$k as bc,Uie as cc,zk as dc,mh as ec,Sv as fc,Ym as gc,Jm as hc,eg as ic,tg as jc,ng as kc,eoe as lc,zF as mc,HF as nc,jc as oc,_d as pc,yG as qc,ki as rc,jo as sc,i0 as tc,FN as uc,Fo as vc,Ks as wc,ine as xc,rne as yc,c0 as zc,eG as Ac,sne as Bc,nG as Cc,sG as Dc,cG as Ec,uG as Fc,hG as Gc,pG as Hc,ane as Ic,cne as Jc,tt as Kc,Lo as Lc,ck as Mc,Ni as Nc,Pm as Oc,dk as Pc,Tne as Qc,_k as Rc,fk as Sc,LG as Tc,KG as Uc,qne as Vc,Ek as Wc,bd as Xc,Gne as Yc,Ik as Zc,Eie as _c,Iie as $c,rn as ad,Gm as bd,y8 as cd,Die as dd,kk as ed,Cie as fd,Ok as gd,N0 as hd,C8 as id,x8 as jd,Qm as kd,O0 as ld,xie as md,lL as nd,Use as od,Rv as pd,zse as qd,uL as rd,$se as sd,p6 as td,Pl as ud,Nl as vd,uC as wd,_h as xd,bh as yd,kv as zd,sae as Ad,hL as Bd,Fv as Cd,wL as Dd,vC as Ed,vi as Fd,Lv as Gd,ji as Hd,lse as Id,gh as Jd,vh as Kd,use as Ld,dse as Md,xa as Nd,Av as Od,hse as Pd,Rl as Qd,KF as Rd,QF as Sd,GF as Td,WF as Ud,fse as Vd,Fse as Wd,cL as Xd,jie as Yd,Bk as Zd,Uk as _d,CL as $d,xL as ae,RL as be,NL as ce,Vv as de,cW as ee,jce as fe};
