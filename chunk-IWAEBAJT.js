import{a as gx,b as qh,c as vx,d as yx,e as _x,f as bx,g as ay,h as wx,i as ou,j as cy,k as Gh,l as Ex,m as Ix,n as ly,o as St,p as bs,q as $i,r as Wh,s as su,t as uy,u as Dx,v as Kh,w as Qh,x as br,z as wi}from"./chunk-65CH3ZW6.js";import{a as z,b as Me,e as uV,g as mx,i as ru,j as sy,k as L}from"./chunk-GV7GV3NK.js";var dC=uV(()=>{var ZF;(function(t){(function(e){var n=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),i=r(t);typeof n.Reflect<"u"&&(i=r(n.Reflect,i)),e(i,n),typeof n.Reflect>"u"&&(n.Reflect=t);function r(c,u){return function(d,f){Object.defineProperty(c,d,{configurable:!0,writable:!0,value:f}),u&&u(d,f)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,n){var i=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",o=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!a&&!c,d={create:a?function(){return Oa(Object.create(null))}:c?function(){return Oa({__proto__:null})}:function(){return Oa({})},has:u?function(T,R){return i.call(T,R)}:function(T,R){return R in T},get:u?function(T,R){return i.call(T,R)?T[R]:void 0}:function(T,R){return T[R]}},f=Object.getPrototypeOf(Function),m=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:tn(),g=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:sn(),y=typeof WeakMap=="function"?WeakMap:Pa(),I=r?Symbol.for("@reflect-metadata:registry"):void 0,D=Wv(),k=ql(D);function P(T,R,U,W){if(fe(U)){if(!hs(T))throw new TypeError;if(!ka(R))throw new TypeError;return M(T,R)}else{if(!hs(T))throw new TypeError;if(!rt(R))throw new TypeError;if(!rt(W)&&!fe(W)&&!Tt(W))throw new TypeError;return Tt(W)&&(W=void 0),U=xn(U),b(T,R,U,W)}}e("decorate",P);function V(T,R){function U(W,de){if(!rt(W))throw new TypeError;if(!fe(de)&&!Bl(de))throw new TypeError;io(T,R,W,de)}return U}e("metadata",V);function K(T,R,U,W){if(!rt(U))throw new TypeError;return fe(W)||(W=xn(W)),io(T,R,U,W)}e("defineMetadata",K);function ce(T,R,U){if(!rt(R))throw new TypeError;return fe(U)||(U=xn(U)),si(T,R,U)}e("hasMetadata",ce);function ie(T,R,U){if(!rt(R))throw new TypeError;return fe(U)||(U=xn(U)),gr(T,R,U)}e("hasOwnMetadata",ie);function E(T,R,U){if(!rt(R))throw new TypeError;return fe(U)||(U=xn(U)),xh(T,R,U)}e("getMetadata",E);function _(T,R,U){if(!rt(R))throw new TypeError;return fe(U)||(U=xn(U)),no(T,R,U)}e("getOwnMetadata",_);function w(T,R){if(!rt(T))throw new TypeError;return fe(R)||(R=xn(R)),Na(T,R)}e("getMetadataKeys",w);function C(T,R){if(!rt(T))throw new TypeError;return fe(R)||(R=xn(R)),jl(T,R)}e("getOwnMetadataKeys",C);function x(T,R,U){if(!rt(R))throw new TypeError;if(fe(U)||(U=xn(U)),!rt(R))throw new TypeError;fe(U)||(U=xn(U));var W=vr(R,U,!1);return fe(W)?!1:W.OrdinaryDeleteMetadata(T,R,U)}e("deleteMetadata",x);function M(T,R){for(var U=T.length-1;U>=0;--U){var W=T[U],de=W(R);if(!fe(de)&&!Tt(de)){if(!ka(de))throw new TypeError;R=de}}return R}function b(T,R,U,W){for(var de=T.length-1;de>=0;--de){var _t=T[de],Ot=_t(R,U,W);if(!fe(Ot)&&!Tt(Ot)){if(!rt(Ot))throw new TypeError;W=Ot}}return W}function si(T,R,U){var W=gr(T,R,U);if(W)return!0;var de=ps(R);return Tt(de)?!1:si(T,de,U)}function gr(T,R,U){var W=vr(R,U,!1);return fe(W)?!1:Sh(W.OrdinaryHasOwnMetadata(T,R,U))}function xh(T,R,U){var W=gr(T,R,U);if(W)return no(T,R,U);var de=ps(R);if(!Tt(de))return xh(T,de,U)}function no(T,R,U){var W=vr(R,U,!1);if(!fe(W))return W.OrdinaryGetOwnMetadata(T,R,U)}function io(T,R,U,W){var de=vr(U,W,!0);de.OrdinaryDefineOwnMetadata(T,R,U,W)}function Na(T,R){var U=jl(T,R),W=ps(T);if(W===null)return U;var de=Na(W,R);if(de.length<=0)return U;if(U.length<=0)return de;for(var _t=new g,Ot=[],Le=0,X=U;Le<X.length;Le++){var J=X[Le],re=_t.has(J);re||(_t.add(J),Ot.push(J))}for(var oe=0,Oe=de;oe<Oe.length;oe++){var J=Oe[oe],re=_t.has(J);re||(_t.add(J),Ot.push(J))}return Ot}function jl(T,R){var U=vr(T,R,!1);return U?U.OrdinaryOwnMetadataKeys(T,R):[]}function Th(T){if(T===null)return 1;switch(typeof T){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return T===null?1:6;default:return 6}}function fe(T){return T===void 0}function Tt(T){return T===null}function Hv(T){return typeof T=="symbol"}function rt(T){return typeof T=="object"?T!==null:typeof T=="function"}function qv(T,R){switch(Th(T)){case 0:return T;case 1:return T;case 2:return T;case 3:return T;case 4:return T;case 5:return T}var U=R===3?"string":R===5?"number":"default",W=Ul(T,o);if(W!==void 0){var de=W.call(T,U);if(rt(de))throw new TypeError;return de}return ds(T,U==="default"?"number":U)}function ds(T,R){if(R==="string"){var U=T.toString;if(zi(U)){var W=U.call(T);if(!rt(W))return W}var de=T.valueOf;if(zi(de)){var W=de.call(T);if(!rt(W))return W}}else{var de=T.valueOf;if(zi(de)){var W=de.call(T);if(!rt(W))return W}var _t=T.toString;if(zi(_t)){var W=_t.call(T);if(!rt(W))return W}}throw new TypeError}function Sh(T){return!!T}function Gv(T){return""+T}function xn(T){var R=qv(T,3);return Hv(R)?R:Gv(R)}function hs(T){return Array.isArray?Array.isArray(T):T instanceof Object?T instanceof Array:Object.prototype.toString.call(T)==="[object Array]"}function zi(T){return typeof T=="function"}function ka(T){return typeof T=="function"}function Bl(T){switch(Th(T)){case 3:return!0;case 4:return!0;default:return!1}}function fs(T,R){return T===R||T!==T&&R!==R}function Ul(T,R){var U=T[R];if(U!=null){if(!zi(U))throw new TypeError;return U}}function zl(T){var R=Ul(T,s);if(!zi(R))throw new TypeError;var U=R.call(T);if(!rt(U))throw new TypeError;return U}function Ah(T){return T.value}function $l(T){var R=T.next();return R.done?!1:R}function Hl(T){var R=T.return;R&&R.call(T)}function ps(T){var R=Object.getPrototypeOf(T);if(typeof T!="function"||T===f||R!==f)return R;var U=T.prototype,W=U&&Object.getPrototypeOf(U);if(W==null||W===Object.prototype)return R;var de=W.constructor;return typeof de!="function"||de===T?R:de}function Mh(){var T;!fe(I)&&typeof n.Reflect<"u"&&!(I in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(T=Gl(n.Reflect));var R,U,W,de=new y,_t={registerProvider:Ot,getProvider:X,setProvider:re};return _t;function Ot(oe){if(!Object.isExtensible(_t))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case T===oe:break;case fe(R):R=oe;break;case R===oe:break;case fe(U):U=oe;break;case U===oe:break;default:W===void 0&&(W=new g),W.add(oe);break}}function Le(oe,Oe){if(!fe(R)){if(R.isProviderFor(oe,Oe))return R;if(!fe(U)){if(U.isProviderFor(oe,Oe))return R;if(!fe(W))for(var Ze=zl(W);;){var Xe=$l(Ze);if(!Xe)return;var Ln=Ah(Xe);if(Ln.isProviderFor(oe,Oe))return Hl(Ze),Ln}}}if(!fe(T)&&T.isProviderFor(oe,Oe))return T}function X(oe,Oe){var Ze=de.get(oe),Xe;return fe(Ze)||(Xe=Ze.get(Oe)),fe(Xe)&&(Xe=Le(oe,Oe),fe(Xe)||(fe(Ze)&&(Ze=new m,de.set(oe,Ze)),Ze.set(Oe,Xe))),Xe}function J(oe){if(fe(oe))throw new TypeError;return R===oe||U===oe||!fe(W)&&W.has(oe)}function re(oe,Oe,Ze){if(!J(Ze))throw new Error("Metadata provider not registered.");var Xe=X(oe,Oe);if(Xe!==Ze){if(!fe(Xe))return!1;var Ln=de.get(oe);fe(Ln)&&(Ln=new m,de.set(oe,Ln)),Ln.set(Oe,Ze)}return!0}}function Wv(){var T;return!fe(I)&&rt(n.Reflect)&&Object.isExtensible(n.Reflect)&&(T=n.Reflect[I]),fe(T)&&(T=Mh()),!fe(I)&&rt(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,I,{enumerable:!1,configurable:!1,writable:!1,value:T}),T}function ql(T){var R=new y,U={isProviderFor:function(J,re){var oe=R.get(J);return fe(oe)?!1:oe.has(re)},OrdinaryDefineOwnMetadata:Ot,OrdinaryHasOwnMetadata:de,OrdinaryGetOwnMetadata:_t,OrdinaryOwnMetadataKeys:Le,OrdinaryDeleteMetadata:X};return D.registerProvider(U),U;function W(J,re,oe){var Oe=R.get(J),Ze=!1;if(fe(Oe)){if(!oe)return;Oe=new m,R.set(J,Oe),Ze=!0}var Xe=Oe.get(re);if(fe(Xe)){if(!oe)return;if(Xe=new m,Oe.set(re,Xe),!T.setProvider(J,re,U))throw Oe.delete(re),Ze&&R.delete(J),new Error("Wrong provider for target.")}return Xe}function de(J,re,oe){var Oe=W(re,oe,!1);return fe(Oe)?!1:Sh(Oe.has(J))}function _t(J,re,oe){var Oe=W(re,oe,!1);if(!fe(Oe))return Oe.get(J)}function Ot(J,re,oe,Oe){var Ze=W(oe,Oe,!0);Ze.set(J,re)}function Le(J,re){var oe=[],Oe=W(J,re,!1);if(fe(Oe))return oe;for(var Ze=Oe.keys(),Xe=zl(Ze),Ln=0;;){var ms=$l(Xe);if(!ms)return oe.length=Ln,oe;var Rh=Ah(ms);try{oe[Ln]=Rh}catch(gs){try{Hl(Xe)}finally{throw gs}}Ln++}}function X(J,re,oe){var Oe=W(re,oe,!1);if(fe(Oe)||!Oe.delete(J))return!1;if(Oe.size===0){var Ze=R.get(re);fe(Ze)||(Ze.delete(oe),Ze.size===0&&R.delete(Ze))}return!0}}function Gl(T){var R=T.defineMetadata,U=T.hasOwnMetadata,W=T.getOwnMetadata,de=T.getOwnMetadataKeys,_t=T.deleteMetadata,Ot=new y,Le={isProviderFor:function(X,J){var re=Ot.get(X);return!fe(re)&&re.has(J)?!0:de(X,J).length?(fe(re)&&(re=new g,Ot.set(X,re)),re.add(J),!0):!1},OrdinaryDefineOwnMetadata:R,OrdinaryHasOwnMetadata:U,OrdinaryGetOwnMetadata:W,OrdinaryOwnMetadataKeys:de,OrdinaryDeleteMetadata:_t};return Le}function vr(T,R,U){var W=D.getProvider(T,R);if(!fe(W))return W;if(U){if(D.setProvider(T,R,k))return k;throw new Error("Illegal state.")}}function tn(){var T={},R=[],U=function(){function Le(X,J,re){this._index=0,this._keys=X,this._values=J,this._selector=re}return Le.prototype["@@iterator"]=function(){return this},Le.prototype[s]=function(){return this},Le.prototype.next=function(){var X=this._index;if(X>=0&&X<this._keys.length){var J=this._selector(this._keys[X],this._values[X]);return X+1>=this._keys.length?(this._index=-1,this._keys=R,this._values=R):this._index++,{value:J,done:!1}}return{value:void 0,done:!0}},Le.prototype.throw=function(X){throw this._index>=0&&(this._index=-1,this._keys=R,this._values=R),X},Le.prototype.return=function(X){return this._index>=0&&(this._index=-1,this._keys=R,this._values=R),{value:X,done:!0}},Le}(),W=function(){function Le(){this._keys=[],this._values=[],this._cacheKey=T,this._cacheIndex=-2}return Object.defineProperty(Le.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Le.prototype.has=function(X){return this._find(X,!1)>=0},Le.prototype.get=function(X){var J=this._find(X,!1);return J>=0?this._values[J]:void 0},Le.prototype.set=function(X,J){var re=this._find(X,!0);return this._values[re]=J,this},Le.prototype.delete=function(X){var J=this._find(X,!1);if(J>=0){for(var re=this._keys.length,oe=J+1;oe<re;oe++)this._keys[oe-1]=this._keys[oe],this._values[oe-1]=this._values[oe];return this._keys.length--,this._values.length--,fs(X,this._cacheKey)&&(this._cacheKey=T,this._cacheIndex=-2),!0}return!1},Le.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=T,this._cacheIndex=-2},Le.prototype.keys=function(){return new U(this._keys,this._values,de)},Le.prototype.values=function(){return new U(this._keys,this._values,_t)},Le.prototype.entries=function(){return new U(this._keys,this._values,Ot)},Le.prototype["@@iterator"]=function(){return this.entries()},Le.prototype[s]=function(){return this.entries()},Le.prototype._find=function(X,J){if(!fs(this._cacheKey,X)){this._cacheIndex=-1;for(var re=0;re<this._keys.length;re++)if(fs(this._keys[re],X)){this._cacheIndex=re;break}}return this._cacheIndex<0&&J&&(this._cacheIndex=this._keys.length,this._keys.push(X),this._values.push(void 0)),this._cacheIndex},Le}();return W;function de(Le,X){return Le}function _t(Le,X){return X}function Ot(Le,X){return[Le,X]}}function sn(){var T=function(){function R(){this._map=new m}return Object.defineProperty(R.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),R.prototype.has=function(U){return this._map.has(U)},R.prototype.add=function(U){return this._map.set(U,U),this},R.prototype.delete=function(U){return this._map.delete(U)},R.prototype.clear=function(){this._map.clear()},R.prototype.keys=function(){return this._map.keys()},R.prototype.values=function(){return this._map.keys()},R.prototype.entries=function(){return this._map.entries()},R.prototype["@@iterator"]=function(){return this.keys()},R.prototype[s]=function(){return this.keys()},R}();return T}function Pa(){var T=16,R=d.create(),U=W();return function(){function X(){this._key=W()}return X.prototype.has=function(J){var re=de(J,!1);return re!==void 0?d.has(re,this._key):!1},X.prototype.get=function(J){var re=de(J,!1);return re!==void 0?d.get(re,this._key):void 0},X.prototype.set=function(J,re){var oe=de(J,!0);return oe[this._key]=re,this},X.prototype.delete=function(J){var re=de(J,!1);return re!==void 0?delete re[this._key]:!1},X.prototype.clear=function(){this._key=W()},X}();function W(){var X;do X="@@WeakMap@@"+Le();while(d.has(R,X));return R[X]=!0,X}function de(X,J){if(!i.call(X,U)){if(!J)return;Object.defineProperty(X,U,{value:d.create()})}return X[U]}function _t(X,J){for(var re=0;re<J;++re)X[re]=Math.random()*255|0;return X}function Ot(X){if(typeof Uint8Array=="function"){var J=new Uint8Array(X);return typeof crypto<"u"?crypto.getRandomValues(J):typeof msCrypto<"u"?msCrypto.getRandomValues(J):_t(J,X),J}return _t(new Array(X),X)}function Le(){var X=Ot(T);X[6]=X[6]&79|64,X[8]=X[8]&191|128;for(var J="",re=0;re<T;++re){var oe=X[re];(re===4||re===6||re===8)&&(J+="-"),oe<16&&(J+="0"),J+=oe.toString(16).toLowerCase()}return J}}function Oa(T){return T.__=void 0,delete T.__,T}})})(ZF||(ZF={}))});function Cx(t,e){return Object.is(t,e)}var Qt=null,au=!1,Yh=1,Kn=Symbol("SIGNAL");function je(t){let e=Qt;return Qt=t,e}function xx(){return Qt}function dV(){return au}var Ba={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xh(t){if(au)throw new Error("");if(Qt===null)return;Qt.consumerOnSignalRead(t);let e=Qt.nextProducerIndex++;if(rf(Qt),e<Qt.producerNode.length&&Qt.producerNode[e]!==t&&cu(Qt)){let n=Qt.producerNode[e];nf(n,Qt.producerIndexOfThis[e])}Qt.producerNode[e]!==t&&(Qt.producerNode[e]=t,Qt.producerIndexOfThis[e]=cu(Qt)?Rx(t,Qt,e):0),Qt.producerLastReadVersion[e]=t.version}function hV(){Yh++}function Tx(t){if(!(cu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yh)){if(!t.producerMustRecompute(t)&&!ef(t)){t.dirty=!1,t.lastCleanEpoch=Yh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yh}}function Sx(t){if(t.liveConsumerNode===void 0)return;let e=au;au=!0;try{for(let n of t.liveConsumerNode)n.dirty||Mx(n)}finally{au=e}}function Ax(){return Qt?.consumerAllowSignalWrites!==!1}function Mx(t){t.dirty=!0,Sx(t),t.consumerMarkedDirty?.(t)}function lu(t){return t&&(t.nextProducerIndex=0),je(t)}function Jh(t,e){if(je(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)nf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ef(t){rf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(Tx(n),i!==n.version))return!0}return!1}function tf(t){if(rf(t),cu(t))for(let e=0;e<t.producerNode.length;e++)nf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rx(t,e,n){if(Nx(t),t.liveConsumerNode.length===0&&kx(t))for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=Rx(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function nf(t,e){if(Nx(t),t.liveConsumerNode.length===1&&kx(t))for(let i=0;i<t.producerNode.length;i++)nf(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];rf(r),r.producerIndexOfThis[i]=e}}function cu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function rf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Nx(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kx(t){return t.producerNode!==void 0}function py(t){let e=Object.create(fV);e.computation=t;let n=()=>{if(Tx(e),Xh(e),e.value===Zh)throw e.error;return e.value};return n[Kn]=e,n}var dy=Symbol("UNSET"),hy=Symbol("COMPUTING"),Zh=Symbol("ERRORED"),fV=Me(z({},Ba),{value:dy,dirty:!0,error:null,equal:Cx,producerMustRecompute(t){return t.value===dy||t.value===hy},producerRecomputeValue(t){if(t.value===hy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=hy;let n=lu(t),i;try{i=t.computation()}catch(r){i=Zh,t.error=r}finally{Jh(t,n)}if(e!==dy&&e!==Zh&&i!==Zh&&t.equal(e,i)){t.value=e;return}t.value=i,t.version++}});function pV(){throw new Error}var Px=pV;function Ox(){Px()}function Fx(t){Px=t}var mV=null;function Lx(t){let e=Object.create(my);e.value=t;let n=()=>(Xh(e),e.value);return n[Kn]=e,n}function of(t,e){Ax()||Ox(),t.equal(t.value,e)||(t.value=e,gV(t))}function Vx(t,e){Ax()||Ox(),of(t,e(t.value))}var my=Me(z({},Ba),{equal:Cx,value:void 0});function gV(t){t.version++,hV(),Sx(t),mV?.()}function jx(t,e,n){let i=Object.create(vV);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;let r=c=>{i.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(tf(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=fy)}let a=()=>{if(i.fn===null)return;if(dV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!ef(i))return;i.hasRun=!0;let c=lu(i);try{i.cleanupFn(),i.cleanupFn=fy,i.fn(r)}finally{Jh(i,c)}};return i.ref={notify:()=>Mx(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>s(i),[Kn]:i},i.ref}var fy=()=>{},vV=Me(z({},Ba),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:fy});function me(t){return typeof t=="function"}function Ua(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sf=Ua(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ws(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(me(i))try{i()}catch(o){e=o instanceof sf?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Bx(o)}catch(s){e=e??[],s instanceof sf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bx(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ws(n,e)}remove(e){let{_finalizers:n}=this;n&&ws(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var gy=ze.EMPTY;function af(t){return t instanceof ze||t&&"closed"in t&&me(t.remove)&&me(t.add)&&me(t.unsubscribe)}function Bx(t){me(t)?t():t.unsubscribe()}var Ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var za={setTimeout(t,e,...n){let{delegate:i}=za;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=za;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cf(t){za.setTimeout(()=>{let{onUnhandledError:e}=Ei;if(e)e(t);else throw t})}function uu(){}var Ux=vy("C",void 0,void 0);function zx(t){return vy("E",void 0,t)}function $x(t){return vy("N",t,void 0)}function vy(t,e,n){return{kind:t,value:e,error:n}}var Es=null;function $a(t){if(Ei.useDeprecatedSynchronousErrorHandling){let e=!Es;if(e&&(Es={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Es;if(Es=null,n)throw i}}else t()}function Hx(t){Ei.useDeprecatedSynchronousErrorHandling&&Es&&(Es.errorThrown=!0,Es.error=t)}var Is=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,af(e)&&e.add(this)):this.destination=bV}static create(e,n,i){return new wr(e,n,i)}next(e){this.isStopped?_y($x(e),this):this._next(e)}error(e){this.isStopped?_y(zx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_y(Ux,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yV=Function.prototype.bind;function yy(t,e){return yV.call(t,e)}var by=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){lf(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){lf(i)}else lf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lf(n)}}},wr=class extends Is{constructor(e,n,i){super();let r;if(me(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ei.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&yy(e.next,o),error:e.error&&yy(e.error,o),complete:e.complete&&yy(e.complete,o)}):r=e}this.destination=new by(r)}};function lf(t){Ei.useDeprecatedSynchronousErrorHandling?Hx(t):cf(t)}function _V(t){throw t}function _y(t,e){let{onStoppedNotification:n}=Ei;n&&za.setTimeout(()=>n(t,e))}var bV={closed:!0,next:uu,error:_V,complete:uu};var Ha=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Sn(t){return t}function du(...t){return wy(t)}function wy(t){return t.length===0?Sn:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=EV(n)?n:new wr(n,i,r);return $a(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=qx(i),new i((r,o)=>{let s=new wr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ha](){return this}pipe(...n){return wy(n)(this)}toPromise(n){return n=qx(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function qx(t){var e;return(e=t??Ei.Promise)!==null&&e!==void 0?e:Promise}function wV(t){return t&&me(t.next)&&me(t.error)&&me(t.complete)}function EV(t){return t&&t instanceof Is||wV(t)&&af(t)}function Ey(t){return me(t?.lift)}function _e(t){return e=>{if(Ey(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,i,r){return new Iy(t,e,n,i,r)}var Iy=class extends Is{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qa(){return _e((t,e)=>{let n=null;t._refCount++;let i=Ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ao=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ey(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(Ie(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return qa()(this)}};var Gx=Ua(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new uf(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Gx}next(n){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?gy:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,ws(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new uf(e,n),t})(),uf=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:gy}};var Yt=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var hu={now(){return(hu.delegate||Date).now()},delegate:void 0};var Ds=class extends se{constructor(e=1/0,n=1/0,i=hu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var df=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var fu={setInterval(t,e,...n){let{delegate:i}=fu;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=fu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ga=class extends df{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return fu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&fu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ws(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Wa.now=hu.now;var Ka=class extends Wa{constructor(e,n=Wa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Hi=new Ka(Ga),Dy=Hi;var hf=class extends Ga{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var ff=class extends Ka{};var Cy=new ff(hf);var An=new pe(t=>t.complete());function pf(t){return t&&me(t.schedule)}function xy(t){return t[t.length-1]}function Qa(t){return me(xy(t))?t.pop():void 0}function qi(t){return pf(xy(t))?t.pop():void 0}function Wx(t,e){return typeof xy(t)=="number"?t.pop():e}var Ya=t=>t&&typeof t.length=="number"&&typeof t!="function";function mf(t){return me(t?.then)}function gf(t){return me(t[Ha])}function vf(t){return Symbol.asyncIterator&&me(t?.[Symbol.asyncIterator])}function yf(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function IV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _f=IV();function bf(t){return me(t?.[_f])}function wf(t){return vx(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield qh(n.read());if(r)return yield qh(void 0);yield yield qh(i)}}finally{n.releaseLock()}})}function Ef(t){return me(t?.getReader)}function Je(t){if(t instanceof pe)return t;if(t!=null){if(gf(t))return DV(t);if(Ya(t))return CV(t);if(mf(t))return xV(t);if(vf(t))return Kx(t);if(bf(t))return TV(t);if(Ef(t))return SV(t)}throw yf(t)}function DV(t){return new pe(e=>{let n=t[Ha]();if(me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CV(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xV(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,cf)})}function TV(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kx(t){return new pe(e=>{AV(t,e).catch(n=>e.error(n))})}function SV(t){return Kx(wf(t))}function AV(t,e){var n,i,r,o;return gx(this,void 0,void 0,function*(){try{for(n=yx(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Vn(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function jn(t,e=0){return _e((n,i)=>{n.subscribe(Ie(i,r=>Vn(i,t,()=>i.next(r),e),()=>Vn(i,t,()=>i.complete(),e),r=>Vn(i,t,()=>i.error(r),e)))})}function ai(t,e=0){return _e((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Qx(t,e){return Je(t).pipe(ai(e),jn(e))}function Yx(t,e){return Je(t).pipe(ai(e),jn(e))}function Zx(t,e){return new pe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function Xx(t,e){return new pe(n=>{let i;return Vn(n,e,()=>{i=t[_f](),Vn(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>me(i?.return)&&i.return()})}function If(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Vn(n,e,()=>{let i=t[Symbol.asyncIterator]();Vn(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Jx(t,e){return If(wf(t),e)}function eT(t,e){if(t!=null){if(gf(t))return Qx(t,e);if(Ya(t))return Zx(t,e);if(mf(t))return Yx(t,e);if(vf(t))return If(t,e);if(bf(t))return Xx(t,e);if(Ef(t))return Jx(t,e)}throw yf(t)}function Ue(t,e){return e?eT(t,e):Je(t)}function le(...t){let e=qi(t);return Ue(t,e)}function Za(t,e){let n=me(t)?t:()=>t,i=r=>r.error(n());return new pe(e?r=>e.schedule(i,0,r):i)}function Xa(t){return!!t&&(t instanceof pe||me(t.lift)&&me(t.subscribe))}var Er=Ua(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function tT(t){return t instanceof Date&&!isNaN(t)}function ee(t,e){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:MV}=Array;function RV(t,e){return MV(e)?t(...e):t(e)}function co(t){return ee(e=>RV(t,e))}var{isArray:NV}=Array,{getPrototypeOf:kV,prototype:PV,keys:OV}=Object;function Df(t){if(t.length===1){let e=t[0];if(NV(e))return{args:e,keys:null};if(FV(e)){let n=OV(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function FV(t){return t&&typeof t=="object"&&kV(t)===PV}function Cf(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ir(...t){let e=qi(t),n=Qa(t),{args:i,keys:r}=Df(t);if(i.length===0)return Ue([],e);let o=new pe(Ty(i,e,r?s=>Cf(r,s):Sn));return n?o.pipe(co(n)):o}function Ty(t,e,n=Sn){return i=>{nT(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)nT(e,()=>{let u=Ue(t[c],e),d=!1;u.subscribe(Ie(i,f=>{o[c]=f,d||(d=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function nT(t,e,n){t?Vn(n,t,e):e()}function iT(t,e,n,i,r,o,s,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},g=I=>u<i?y(I):c.push(I),y=I=>{o&&e.next(I),u++;let D=!1;Je(n(I,d++)).subscribe(Ie(e,k=>{r?.(k),o?g(k):e.next(k)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<i;){let k=c.shift();s?Vn(e,s,()=>y(k)):y(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(Ie(e,g,()=>{f=!0,m()})),()=>{a?.()}}function Nt(t,e,n=1/0){return me(e)?Nt((i,r)=>ee((o,s)=>e(i,o,r,s))(Je(t(i,r))),n):(typeof e=="number"&&(n=e),_e((i,r)=>iT(i,r,t,n)))}function lo(t=1/0){return Nt(Sn,t)}function rT(){return lo(1)}function uo(...t){return rT()(Ue(t,qi(t)))}function Ja(t){return new pe(e=>{Je(t()).subscribe(e)})}function Sy(...t){let e=Qa(t),{args:n,keys:i}=Df(t),r=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;Je(n[d]).subscribe(Ie(o,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(i?Cf(i,a):a),o.complete())}))}});return e?r.pipe(co(e)):r}var LV=["addListener","removeListener"],VV=["addEventListener","removeEventListener"],jV=["on","off"];function ec(t,e,n,i){if(me(n)&&(i=n,n=void 0),i)return ec(t,e,n).pipe(co(i));let[r,o]=zV(t)?VV.map(s=>a=>t[s](e,a,n)):BV(t)?LV.map(oT(t,e)):UV(t)?jV.map(oT(t,e)):[];if(!r&&Ya(t))return Nt(s=>ec(s,e,n))(Je(t));if(!r)throw new TypeError("Invalid event target");return new pe(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function oT(t,e){return n=>i=>t[n](e,i)}function BV(t){return me(t.addListener)&&me(t.removeListener)}function UV(t){return me(t.on)&&me(t.off)}function zV(t){return me(t.addEventListener)&&me(t.removeEventListener)}function sT(t=0,e,n=Dy){let i=-1;return e!=null&&(pf(e)?n=e:i=e),new pe(r=>{let o=tT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Ii(...t){let e=qi(t),n=Wx(t,1/0),i=t;return i.length?i.length===1?Je(i[0]):lo(n)(Ue(i,e)):An}var{isArray:$V}=Array;function aT(t){return t.length===1&&$V(t[0])?t[0]:t}function Ke(t,e){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>t.call(e,o,r++)&&i.next(o)))})}function cT(t){return _e((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let u=r;r=null,n.next(u)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(Ie(n,u=>{i=!0,r=u,o||Je(t(u)).subscribe(o=Ie(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function xf(t,e=Hi){return cT(()=>sT(t,e))}function Dr(t){return _e((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Ie(n,void 0,void 0,s=>{o=Je(t(s,Dr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function lT(t,e,n,i,r){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(Ie(s,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Ay(...t){let e=Qa(t);return e?du(Ay(...t),co(e)):_e((n,i)=>{Ty([n,...aT(t)])(i)})}function HV(...t){return Ay(...t)}function Cr(t,e){return me(e)?Nt(t,e,1):Nt(t,1)}function pu(t,e=Hi){return _e((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=o;o=null,i.next(u)}};function c(){let u=s+t,d=e.now();if(d<u){r=this.schedule(void 0,u-d),i.add(r);return}a()}n.subscribe(Ie(i,u=>{o=u,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ho(t){return _e((e,n)=>{let i=!1;e.subscribe(Ie(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>An:_e((e,n)=>{let i=0;e.subscribe(Ie(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function My(t){return ee(()=>t)}function fo(t,e=Sn){return t=t??qV,_e((n,i)=>{let r,o=!0;n.subscribe(Ie(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function qV(t,e){return t===e}function Tf(t=GV){return _e((e,n)=>{let i=!1;e.subscribe(Ie(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function GV(){return new Er}function Cs(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ke((r,o)=>t(r,o,i)):Sn,Bn(1),n?ho(e):Tf(()=>new Er))}function tc(t){return t<=0?()=>An:_e((e,n)=>{let i=[];e.subscribe(Ie(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Ry(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Ke((r,o)=>t(r,o,i)):Sn,tc(1),n?ho(e):Tf(()=>new Er))}function nc(){return _e((t,e)=>{let n,i=!1;t.subscribe(Ie(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function xs(t,e){return _e(lT(t,e,arguments.length>=2,!0))}function ky(t={}){let{connector:e=()=>new se,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=f=!1},y=()=>{let I=s;g(),I?.unsubscribe()};return _e((I,D)=>{u++,!f&&!d&&m();let k=c=c??e();D.add(()=>{u--,u===0&&!f&&!d&&(a=Ny(y,r))}),k.subscribe(D),!s&&u>0&&(s=new wr({next:P=>k.next(P),error:P=>{f=!0,m(),a=Ny(g,n,P),k.error(P)},complete:()=>{d=!0,m(),a=Ny(g,i),k.complete()}}),Je(I).subscribe(s))})(o)}}function Ny(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new wr({next:()=>{i.unsubscribe(),t()}});return Je(e(...n)).subscribe(i)}function Ts(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,ky({connector:()=>new Ds(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function mu(t){return Ke((e,n)=>t<=n)}function Yn(...t){let e=qi(t);return _e((n,i)=>{(e?uo(t,n,e):uo(t,n)).subscribe(i)})}function et(t,e){return _e((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Ie(i,c=>{r?.unsubscribe();let u=0,d=o++;Je(t(c,d)).subscribe(r=Ie(i,f=>i.next(e?e(c,f,d,u++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Sf(t,e){return me(e)?et(()=>t,e):et(()=>t)}function Qe(t){return _e((e,n)=>{Je(t).subscribe(Ie(n,()=>n.complete(),uu)),!n.closed&&e.subscribe(n)})}function Py(t,e=!1){return _e((n,i)=>{let r=0;n.subscribe(Ie(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function kt(t,e,n){let i=me(t)||e||n?{next:t,error:e,complete:n}:t;return i?_e((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(Ie(o,c=>{var u;(u=i.next)===null||u===void 0||u.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,c),o.error(c)},()=>{var c,u;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Sn}var tS="https://g.co/ng/security#xss",ae=class extends Error{constructor(e,n){super(gp(e,n)),this.code=e}};function gp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var nS=Symbol("InputSignalNode#UNSET"),WV=Me(z({},my),{transformFn:void 0,applyValueToInputSignal(t,e){of(t,e)}});function iS(t,e){let n=Object.create(WV);n.value=t,n.transformFn=e?.transform;function i(){if(Xh(n),n.value===nS)throw new ae(-950,!1);return n.value}return i[Kn]=n,i}function xu(t){return{toString:t}.toString()}var Af="__parameters__";function KV(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function rS(t,e,n){return xu(()=>{let i=KV(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Af)?c[Af]:Object.defineProperty(c,Af,{value:[]})[Af];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var yu=globalThis;function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function QV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ky(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YV=st({__forward_ref__:st});function Jn(t){return t.__forward_ref__=Jn,t.toString=function(){return Rn(this())},t}function cn(t){return oS(t)?t():t}function oS(t){return typeof t=="function"&&t.hasOwnProperty(YV)&&t.__forward_ref__===Jn}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xe(t){return{providers:t.providers||[],imports:t.imports||[]}}function vp(t){return uT(t,aS)||uT(t,cS)}function sS(t){return vp(t)!==null}function uT(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZV(t){let e=t&&(t[aS]||t[cS]);return e||null}function dT(t){return t&&(t.hasOwnProperty(hT)||t.hasOwnProperty(XV))?t[hT]:null}var aS=st({\u0275prov:st}),hT=st({\u0275inj:st}),cS=st({ngInjectableDef:st}),XV=st({ngInjectorDef:st}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lS(t){return t&&!!t.\u0275providers}var JV=st({\u0275cmp:st}),ej=st({\u0275dir:st}),tj=st({\u0275pipe:st}),nj=st({\u0275mod:st}),$f=st({\u0275fac:st}),vu=st({__NG_ELEMENT_ID__:st}),fT=st({__NG_ENV_ID__:st});function Rs(t){return typeof t=="string"?t:t==null?"":String(t)}function ij(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rs(t)}function rj(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,t)}function ab(t,e){throw new ae(-201,!1)}var Ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ve||{}),Qy;function uS(){return Qy}function Un(t){let e=Qy;return Qy=t,e}function dS(t,e,n){let i=vp(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Ve.Optional)return null;if(e!==void 0)return e;ab(t,"Injector")}var oj={},_u=oj,Yy="__NG_DI_FLAG__",Hf="ngTempTokenPath",sj="ngTokenPath",aj=/\n/gm,cj="\u0275",pT="__source",ac;function lj(){return ac}function po(t){let e=ac;return ac=t,e}function uj(t,e=Ve.Default){if(ac===void 0)throw new ae(-203,!1);return ac===null?dS(t,void 0,e):ac.get(t,e&Ve.Optional?null:void 0,e)}function A(t,e=Ve.Default){return(uS()||uj)(cn(t),e)}function j(t,e=Ve.Default){return A(t,yp(e))}function yp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zy(t){let e=[];for(let n=0;n<t.length;n++){let i=cn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new ae(900,!1);let r,o=Ve.Default;for(let s=0;s<i.length;s++){let a=i[s],c=dj(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(A(r,o))}else e.push(A(i))}return e}function hS(t,e){return t[Yy]=e,t.prototype[Yy]=e,t}function dj(t){return t[Yy]}function hj(t,e,n,i){let r=t[Hf];throw e[pT]&&r.unshift(e[pT]),t.message=fj(`
`+t.message,r,n,i),t[sj]=r,t[Hf]=null,t}function fj(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cj?t.slice(2):t;let r=Rn(e);if(Array.isArray(e))r=e.map(Rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rn(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(aj,`
  `)}`}var wo=hS(rS("Optional"),8);var bc=hS(rS("SkipSelf"),4);function Ns(t,e){let n=t.hasOwnProperty($f);return n?t[$f]:null}function pj(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function mj(t){return t.flat(Number.POSITIVE_INFINITY)}function cb(t,e){t.forEach(n=>Array.isArray(n)?cb(n,e):e(n))}function fS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gj(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function vj(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function _p(t,e,n){let i=Tu(t,e);return i>=0?t[i|1]=n:(i=~i,vj(t,i,e,n)),i}function Oy(t,e){let n=Tu(t,e);if(n>=0)return t[n|1]}function Tu(t,e){return yj(t,e,1)}function yj(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var xr={},Mn=[],lc=new $(""),pS=new $("",-1),mS=new $(""),Gf=class{get(e,n=_u){if(n===_u){let i=new Error(`NullInjectorError: No provider for ${Rn(e)}!`);throw i.name="NullInjectorError",i}return n}},gS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gS||{}),Ki=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ki||{}),vo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vo||{});function _j(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Xy(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];bj(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function vS(t){return t===3||t===4||t===6}function bj(t){return t.charCodeAt(0)===64}function bu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?mT(t,n,r,null,e[++i]):mT(t,n,r,null,null))}}return t}function mT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var yS="ng-template";function wj(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&_j(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(lb(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function lb(t){return t.type===4&&t.value!==yS}function Ej(t,e,n){let i=t.type===4&&!n?yS:t.value;return e===i}function Ij(t,e,n){let i=4,r=t.attrs,o=r!==null?xj(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Di(i)&&!Di(c))return!1;if(s&&Di(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!Ej(t,c,n)||c===""&&e.length===1){if(Di(i))return!1;s=!0}}else if(i&8){if(r===null||!wj(t,r,c,n)){if(Di(i))return!1;s=!0}}else{let u=e[++a],d=Dj(c,r,lb(t),n);if(d===-1){if(Di(i))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=r[d+1].toLowerCase(),i&2&&u!==f){if(Di(i))return!1;s=!0}}}}return Di(i)||s}function Di(t){return(t&1)===0}function Dj(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return Tj(e,t)}function _S(t,e,n=!1){for(let i=0;i<e.length;i++)if(Ij(t,e[i],n))return!0;return!1}function Cj(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function xj(t){for(let e=0;e<t.length;e++){let n=t[e];if(vS(n))return e}return t.length}function Tj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Sj(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function gT(t,e){return t?":not("+e.trim()+")":e}function Aj(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Di(s)&&(e+=gT(o,r),r=""),i=s,o=o||!Di(i);n++}return r!==""&&(e+=gT(o,r)),e}function Mj(t){return t.map(Aj).join(",")}function Rj(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Di(r))break;r=o}i++}return{attrs:e,classes:n}}function Zt(t){return xu(()=>{let e=DS(t),n=Me(z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ki.Emulated,styles:t.styles||Mn,_:null,schemas:t.schemas||null,tView:null,id:""});CS(n);let i=t.dependencies;return n.directiveDefs=yT(i,!1),n.pipeDefs=yT(i,!0),n.id=Pj(n),n})}function Nj(t){return Tr(t)||ub(t)}function kj(t){return t!==null}function Te(t){return xu(()=>({type:t.type,bootstrap:t.bootstrap||Mn,declarations:t.declarations||Mn,imports:t.imports||Mn,exports:t.exports||Mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vT(t,e){if(t==null)return xr;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=vo.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==vo.None?[i,a]:i,e[o]=s):n[o]=i}return n}function ge(t){return xu(()=>{let e=DS(t);return CS(e),e})}function bS(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tr(t){return t[JV]||null}function ub(t){return t[ej]||null}function wS(t){return t[tj]||null}function ES(t){let e=Tr(t)||ub(t)||wS(t);return e!==null?e.standalone:!1}function IS(t,e){let n=t[nj]||null;if(!n&&e===!0)throw new Error(`Type ${Rn(t)} does not have '\u0275mod' property.`);return n}function DS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vT(t.inputs,e),outputs:vT(t.outputs),debugInfo:null}}function CS(t){t.features?.forEach(e=>e(t))}function yT(t,e){if(!t)return null;let n=e?wS:Nj;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(kj)}function Pj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wc(t){return{\u0275providers:t}}function Oj(...t){return{\u0275providers:xS(!0,t),\u0275fromNgModule:!0}}function xS(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return cb(e,s=>{let a=s;Jy(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&TS(r,o),n}function TS(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];db(r,o=>{e(o,i)})}}function Jy(t,e,n,i){if(t=cn(t),!t)return!1;let r=null,o=dT(t),s=!o&&Tr(t);if(!o&&!s){let c=t.ngModule;if(o=dT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Jy(u,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let u;try{cb(o.imports,d=>{Jy(d,e,n,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&TS(u,e)}if(!a){let u=Ns(r)||(()=>new r);e({provide:r,useFactory:u,deps:Mn},r),e({provide:mS,useValue:r,multi:!0},r),e({provide:lc,useValue:()=>A(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let u=t;db(c,d=>{e(d,u)})}}else return!1;return r!==t&&t.providers!==void 0}function db(t,e){for(let n of t)lS(n)&&(n=n.\u0275providers),Array.isArray(n)?db(n,e):e(n)}var Fj=st({provide:String,useValue:st});function SS(t){return t!==null&&typeof t=="object"&&Fj in t}function Lj(t){return!!(t&&t.useExisting)}function Vj(t){return!!(t&&t.useFactory)}function uc(t){return typeof t=="function"}function jj(t){return!!t.useClass}var bp=new $(""),Ff={},Bj={},Fy;function wp(){return Fy===void 0&&(Fy=new Gf),Fy}var ln=class{},wu=class extends ln{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t_(e,s=>this.processProvider(s)),this.records.set(pS,ic(void 0,this)),r.has("environment")&&this.records.set(ln,ic(void 0,this));let o=this.records.get(bp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mS,Mn,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=je(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),je(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=po(this),i=Un(void 0),r;try{return e()}finally{po(n),Un(i)}}get(e,n=_u,i=Ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fT))return e[fT](this);i=yp(i);let r,o=po(this),s=Un(void 0);try{if(!(i&Ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=qj(e)&&vp(e);u&&this.injectableDefInScope(u)?c=ic(e_(e),Ff):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Ve.Self?wp():this.parent;return n=i&Ve.Optional&&n===_u?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hf]=a[Hf]||[]).unshift(Rn(e)),o)throw a;return hj(a,e,"R3InjectorError",this.source)}else throw a}finally{Un(s),po(o)}}resolveInjectorInitializers(){let e=je(null),n=po(this),i=Un(void 0),r;try{let o=this.get(lc,Mn,Ve.Self);for(let s of o)s()}finally{po(n),Un(i),je(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Rn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){e=cn(e);let n=uc(e)?e:cn(e&&e.provide),i=zj(e);if(!uc(e)&&e.multi===!0){let r=this.records.get(n);r||(r=ic(void 0,Ff,!0),r.factory=()=>Zy(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=je(null);try{return n.value===Ff&&(n.value=Bj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Hj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{je(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=cn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function e_(t){let e=vp(t),n=e!==null?e.factory:Ns(t);if(n!==null)return n;if(t instanceof $)throw new ae(204,!1);if(t instanceof Function)return Uj(t);throw new ae(204,!1)}function Uj(t){if(t.length>0)throw new ae(204,!1);let n=ZV(t);return n!==null?()=>n.factory(t):()=>new t}function zj(t){if(SS(t))return ic(void 0,t.useValue);{let e=AS(t);return ic(e,Ff)}}function AS(t,e,n){let i;if(uc(t)){let r=cn(t);return Ns(r)||e_(r)}else if(SS(t))i=()=>cn(t.useValue);else if(Vj(t))i=()=>t.useFactory(...Zy(t.deps||[]));else if(Lj(t))i=()=>A(cn(t.useExisting));else{let r=cn(t&&(t.useClass||t.provide));if($j(t))i=()=>new r(...Zy(t.deps));else return Ns(r)||e_(r)}return i}function ic(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $j(t){return!!t.deps}function Hj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qj(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function t_(t,e){for(let n of t)Array.isArray(n)?t_(n,e):n&&lS(n)?t_(n.\u0275providers,e):e(n)}function li(t,e){t instanceof wu&&t.assertNotDestroyed();let n,i=po(t),r=Un(void 0);try{return e()}finally{po(i),Un(r)}}function MS(){return uS()!==void 0||lj()!=null}function hb(t){if(!MS())throw new ae(-203,!1)}function Gj(t){return typeof t=="function"}var er=0,Ce=1,be=2,yn=3,xi=4,zn=5,dc=6,Wf=7,gn=8,hc=9,Qi=10,wt=11,Eu=12,_T=13,Ec=14,Zn=15,ks=16,rc=17,Sr=18,Ep=19,RS=20,mo=21,Lf=22,ci=23,un=25,fb=1;var Ps=7,Kf=8,fc=9,vn=10,Qf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qf||{});function go(t){return Array.isArray(t)&&typeof t[fb]=="object"}function Nr(t){return Array.isArray(t)&&t[fb]===!0}function pb(t){return(t.flags&4)!==0}function Ip(t){return t.componentOffset>-1}function Dp(t){return(t.flags&1)===1}function Ar(t){return!!t.template}function n_(t){return(t[be]&512)!==0}var i_=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function NS(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function _n(){return kS}function kS(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kj),Wj}_n.ngInherit=!0;function Wj(){let t=OS(this),e=t?.current;if(e){let n=t.previous;if(n===xr)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Kj(t,e,n,i,r){let o=this.declaredInputs[i],s=OS(t)||Qj(t,{previous:xr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new i_(u&&u.currentValue,n,c===xr),NS(t,e,r,n)}var PS="__ngSimpleChanges__";function OS(t){return t[PS]||null}function Qj(t,e){return t[PS]=e}var bT=null;var Gi=function(t,e,n){bT?.(t,e,n)},FS="svg",Yj="math";function Yi(t){for(;Array.isArray(t);)t=t[er];return t}function Zj(t){for(;Array.isArray(t);){if(typeof t[fb]=="object")return t;t=t[er]}return null}function LS(t,e){return Yi(e[t])}function ui(t,e){return Yi(e[t.index])}function mb(t,e){return t.data[e]}function VS(t,e){return t[e]}function Eo(t,e){let n=e[t];return go(n)?n:n[er]}function Xj(t){return(t[be]&4)===4}function gb(t){return(t[be]&128)===128}function Jj(t){return Nr(t[yn])}function yo(t,e){return e==null?null:t[e]}function jS(t){t[rc]=0}function BS(t){t[be]&1024||(t[be]|=1024,gb(t)&&xp(t))}function e2(t,e){for(;t>0;)e=e[Ec],t--;return e}function Cp(t){return!!(t[be]&9216||t[ci]?.dirty)}function r_(t){t[Qi].changeDetectionScheduler?.notify(8),t[be]&64&&(t[be]|=1024),Cp(t)&&xp(t)}function xp(t){t[Qi].changeDetectionScheduler?.notify(0);let e=Os(t);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!gb(e)));)e=Os(e)}function US(t,e){if((t[be]&256)===256)throw new ae(911,!1);t[mo]===null&&(t[mo]=[]),t[mo].push(e)}function t2(t,e){if(t[mo]===null)return;let n=t[mo].indexOf(e);n!==-1&&t[mo].splice(n,1)}function Os(t){let e=t[yn];return Nr(e)?e[yn]:e}var Ne={lFrame:QS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zS=!1;function n2(){return Ne.lFrame.elementDepthCount}function i2(){Ne.lFrame.elementDepthCount++}function r2(){Ne.lFrame.elementDepthCount--}function $S(){return Ne.bindingsEnabled}function HS(){return Ne.skipHydrationRootTNode!==null}function o2(t){return Ne.skipHydrationRootTNode===t}function s2(){Ne.skipHydrationRootTNode=null}function ye(){return Ne.lFrame.lView}function ht(){return Ne.lFrame.tView}function bn(t){return Ne.lFrame.contextLView=t,t[gn]}function wn(t){return Ne.lFrame.contextLView=null,t}function nn(){let t=qS();for(;t!==null&&t.type===64;)t=t.parent;return t}function qS(){return Ne.lFrame.currentTNode}function a2(){let t=Ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zs(t,e){let n=Ne.lFrame;n.currentTNode=t,n.isParent=e}function vb(){return Ne.lFrame.isParent}function yb(){Ne.lFrame.isParent=!1}function c2(){return Ne.lFrame.contextLView}function GS(){return zS}function wT(t){zS=t}function Su(){let t=Ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function l2(){return Ne.lFrame.bindingIndex}function u2(t){return Ne.lFrame.bindingIndex=t}function Io(){return Ne.lFrame.bindingIndex++}function _b(t){let e=Ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function d2(){return Ne.lFrame.inI18n}function h2(t,e){let n=Ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,o_(e)}function f2(){return Ne.lFrame.currentDirectiveIndex}function o_(t){Ne.lFrame.currentDirectiveIndex=t}function bb(t){let e=Ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wb(){return Ne.lFrame.currentQueryIndex}function Tp(t){Ne.lFrame.currentQueryIndex=t}function p2(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[zn]:null}function WS(t,e,n){if(n&Ve.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Ve.Host);)if(r=p2(o),r===null||(o=o[Ec],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Ne.lFrame=KS();return i.currentTNode=e,i.lView=t,!0}function Eb(t){let e=KS(),n=t[Ce];Ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function KS(){let t=Ne.lFrame,e=t===null?null:t.child;return e===null?QS(t):e}function QS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function YS(){let t=Ne.lFrame;return Ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ZS=YS;function Ib(){let t=YS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function m2(t){return(Ne.lFrame.contextLView=e2(t,Ne.lFrame.contextLView))[gn]}function kr(){return Ne.lFrame.selectedIndex}function Fs(t){Ne.lFrame.selectedIndex=t}function Ic(){let t=Ne.lFrame;return mb(t.tView,t.selectedIndex)}function $s(){Ne.lFrame.currentNamespace=FS}function XS(){g2()}function g2(){Ne.lFrame.currentNamespace=null}function v2(){return Ne.lFrame.currentNamespace}var JS=!0;function Sp(){return JS}function Ap(t){JS=t}function y2(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=kS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Mp(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Vf(t,e,n){eA(t,e,3,n)}function jf(t,e,n,i){(t[be]&3)===n&&eA(t,e,n,i)}function Ly(t,e){let n=t[be];(n&3)===e&&(n&=16383,n+=1,t[be]=n)}function eA(t,e,n,i){let r=i!==void 0?t[rc]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[rc]+=65536),(a<o||o==-1)&&(_2(t,n,e,c),t[rc]=(t[rc]&4294901760)+c+2),c++}function ET(t,e){Gi(4,t,e);let n=je(null);try{e.call(t)}finally{je(n),Gi(5,t,e)}}function _2(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[be]>>14<t[rc]>>16&&(t[be]&3)===e&&(t[be]+=16384,ET(a,o)):ET(a,o)}var cc=-1,Ls=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function b2(t){return t instanceof Ls}function w2(t){return(t.flags&8)!==0}function E2(t){return(t.flags&16)!==0}var Vy={},s_=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=yp(i);let r=this.injector.get(e,Vy,i);return r!==Vy||n===Vy?r:this.parentInjector.get(e,n,i)}};function tA(t){return t!==cc}function Yf(t){return t&32767}function I2(t){return t>>16}function Zf(t,e){let n=I2(t),i=e;for(;n>0;)i=i[Ec],n--;return i}var a_=!0;function Xf(t){let e=a_;return a_=t,e}var D2=256,nA=D2-1,iA=5,C2=0,Wi={};function x2(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(vu)&&(i=n[vu]),i==null&&(i=n[vu]=C2++);let r=i&nA,o=1<<r;e.data[t+(r>>iA)]|=o}function Jf(t,e){let n=rA(t,e);if(n!==-1)return n;let i=e[Ce];i.firstCreatePass&&(t.injectorIndex=e.length,jy(i.data,t),jy(e,null),jy(i.blueprint,null));let r=Db(t,e),o=t.injectorIndex;if(tA(r)){let s=Yf(r),a=Zf(r,e),c=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=r,o}function jy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Db(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=lA(r),i===null)return cc;if(n++,r=r[Ec],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return cc}function c_(t,e,n){x2(t,e,n)}function T2(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(vS(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function oA(t,e,n){if(n&Ve.Optional||t!==void 0)return t;ab(e,"NodeInjector")}function sA(t,e,n,i){if(n&Ve.Optional&&i===void 0&&(i=null),!(n&(Ve.Self|Ve.Host))){let r=t[hc],o=Un(void 0);try{return r?r.get(e,i,n&Ve.Optional):dS(e,i,n&Ve.Optional)}finally{Un(o)}}return oA(i,e,n)}function aA(t,e,n,i=Ve.Default,r){if(t!==null){if(e[be]&2048&&!(i&Ve.Self)){let s=R2(t,e,n,i,Wi);if(s!==Wi)return s}let o=cA(t,e,n,i,Wi);if(o!==Wi)return o}return sA(e,n,i,r)}function cA(t,e,n,i,r){let o=A2(n);if(typeof o=="function"){if(!WS(e,t,i))return i&Ve.Host?oA(r,n,i):sA(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Ve.Optional))ab(n);else return s}finally{ZS()}}else if(typeof o=="number"){let s=null,a=rA(t,e),c=cc,u=i&Ve.Host?e[Zn][zn]:null;for((a===-1||i&Ve.SkipSelf)&&(c=a===-1?Db(t,e):e[a+8],c===cc||!DT(i,!1)?a=-1:(s=e[Ce],a=Yf(c),e=Zf(c,e)));a!==-1;){let d=e[Ce];if(IT(o,a,d.data)){let f=S2(a,e,n,s,i,u);if(f!==Wi)return f}c=e[a+8],c!==cc&&DT(i,e[Ce].data[a+8]===u)&&IT(o,a,e)?(s=d,a=Yf(c),e=Zf(c,e)):a=-1}}return r}function S2(t,e,n,i,r,o){let s=e[Ce],a=s.data[t+8],c=i==null?Ip(a)&&a_:i!=s&&(a.type&3)!==0,u=r&Ve.Host&&o===a,d=Bf(a,s,n,c,u);return d!==null?Vs(e,s,d,a):Wi}function Bf(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,d=o>>20,f=i?a:a+d,m=r?a+d:u;for(let g=f;g<m;g++){let y=s[g];if(g<c&&n===y||g>=c&&y.type===n)return g}if(r){let g=s[c];if(g&&Ar(g)&&g.type===n)return c}return null}function Vs(t,e,n,i){let r=t[n],o=e.data;if(b2(r)){let s=r;s.resolving&&rj(ij(o[n]));let a=Xf(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Un(s.injectImpl):null,d=WS(t,i,Ve.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&y2(n,o[n],e)}finally{u!==null&&Un(u),Xf(a),s.resolving=!1,ZS()}}return r}function A2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vu)?t[vu]:void 0;return typeof e=="number"?e>=0?e&nA:M2:e}function IT(t,e,n){let i=1<<t;return!!(n[e+(t>>iA)]&i)}function DT(t,e){return!(t&Ve.Self)&&!(t&Ve.Host&&e)}var Ms=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return aA(this._tNode,this._lView,e,yp(i),n)}};function M2(){return new Ms(nn(),ye())}function di(t){return xu(()=>{let e=t.prototype.constructor,n=e[$f]||l_(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[$f]||l_(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function l_(t){return oS(t)?()=>{let e=l_(cn(t));return e&&e()}:Ns(t)}function R2(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[be]&2048&&!(s[be]&512);){let a=cA(o,s,n,i|Ve.Self,Wi);if(a!==Wi)return a;let c=o.parent;if(!c){let u=s[RS];if(u){let d=u.get(n,Wi,i);if(d!==Wi)return d}c=lA(s),s=s[Ec]}o=c}return r}function lA(t){let e=t[Ce],n=e.type;return n===2?e.declTNode:n===1?t[zn]:null}function Dc(t){return T2(nn(),t)}function CT(t,e=null,n=null,i){let r=uA(t,e,n,i);return r.resolveInjectorInitializers(),r}function uA(t,e=null,n=null,i,r=new Set){let o=[n||Mn,Oj(t)];return i=i||(typeof t=="object"?void 0:Rn(t)),new wu(o,e||wp(),i||null,r)}var Ss=class Ss{static create(e,n){if(Array.isArray(e))return CT({name:""},n,e,"");{let i=e.name??"";return CT({name:i},e.parent,e.providers,i)}}};Ss.THROW_IF_NOT_FOUND=_u,Ss.NULL=new Gf,Ss.\u0275prov=q({token:Ss,providedIn:"any",factory:()=>A(pS)}),Ss.__NG_ELEMENT_ID__=-1;var At=Ss;var N2=new $("");N2.__NG_ELEMENT_ID__=t=>{let e=nn();if(e===null)throw new ae(204,!1);if(e.type&2)return e.value;if(t&Ve.Optional)return null;throw new ae(204,!1)};var k2="ngOriginalError";function By(t){return t[k2]}var dA=!0,Rp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P2,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),u_=class extends Rp{constructor(e){super(),this._lView=e}onDestroy(e){return US(this._lView,e),()=>t2(this._lView,e)}};function P2(){return new u_(ye())}var Pr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var d_=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,MS()&&(this.destroyRef=j(Rp,{optional:!0})??void 0,this.pendingTasks=j(Pr,{optional:!0})??void 0)}emit(e){let n=je(null);try{super.next(e)}finally{je(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Re=d_;function ep(...t){}function hA(t){let e,n;function i(){t=ep;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function xT(t){return queueMicrotask(()=>t()),()=>{t=ep}}var Cb="isAngularZone",tp=Cb+"_ID",O2=0,te=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=dA}=e;if(typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,V2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cb)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,F2,ep,ep);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},F2={};function xb(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function L2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hA(()=>{t.callbackScheduled=!1,h_(t),t.isCheckStableRunning=!0,xb(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),h_(t)}function V2(t){let e=()=>{L2(t)},n=O2++;t._inner=t._inner.fork({name:"angular",properties:{[Cb]:!0,[tp]:n,[tp+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(j2(c))return i.invokeTask(o,s,a,c);try{return TT(t),i.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ST(t)}},onInvoke:(i,r,o,s,a,c,u)=>{try{return TT(t),i.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!B2(c)&&e(),ST(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,h_(t),xb(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function h_(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ST(t){t._nesting--,xb(t)}var f_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function j2(t){return fA(t,"__ignore_ng_zone__")}function B2(t){return fA(t,"__scheduler_tick__")}function fA(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&By(e);for(;n&&By(n);)n=By(n);return n||null}},U2=new $("",{providedIn:"root",factory:()=>{let t=j(te),e=j(Zi);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function AT(t,e){return iS(t,e)}function z2(t){return iS(nS,t)}var cee=(AT.required=z2,AT);function $2(){return Cc(nn(),ye())}function Cc(t,e){return new we(ui(t,e))}var we=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=$2;let t=e;return t})();function pA(t){return t instanceof we?t.nativeElement:t}function H2(){return this._results[Symbol.iterator]()}var pc=class t{get changes(){return this._changes??=new Re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=H2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=mj(e);(this._changesDetected=!pj(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function mA(t){return(t.flags&128)===128}var gA=new Map,q2=0;function G2(){return q2++}function W2(t){gA.set(t[Ep],t)}function p_(t){gA.delete(t[Ep])}var MT="__ngContext__";function _o(t,e){go(e)?(t[MT]=e[Ep],W2(e)):t[MT]=e}function vA(t){return _A(t[Eu])}function yA(t){return _A(t[xi])}function _A(t){for(;t!==null&&!Nr(t);)t=t[xi];return t}var m_;function bA(t){m_=t}function wA(){if(m_!==void 0)return m_;if(typeof document<"u")return document;throw new ae(210,!1)}var Au=new $("",{providedIn:"root",factory:()=>K2}),K2="ng",Tb=new $(""),dn=new $("",{providedIn:"platform",factory:()=>"unknown"});var ei=new $(""),Mu=new $("",{providedIn:"root",factory:()=>wA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Q2="h",Y2="b";var Z2=()=>null;function Sb(t,e,n=!1){return Z2(t,e,n)}var EA=!1,X2=new $("",{providedIn:"root",factory:()=>EA});var Mf;function J2(){if(Mf===void 0&&(Mf=null,yu.trustedTypes))try{Mf=yu.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mf}function Np(t){return J2()?.createHTML(t)||t}var Rf;function eB(){if(Rf===void 0&&(Rf=null,yu.trustedTypes))try{Rf=yu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rf}function RT(t){return eB()?.createHTML(t)||t}var Mr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tS})`}},g_=class extends Mr{getTypeName(){return"HTML"}},v_=class extends Mr{getTypeName(){return"Style"}},y_=class extends Mr{getTypeName(){return"Script"}},__=class extends Mr{getTypeName(){return"URL"}},b_=class extends Mr{getTypeName(){return"ResourceURL"}};function Si(t){return t instanceof Mr?t.changingThisBreaksApplicationSecurity:t}function Do(t,e){let n=tB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tS})`)}return n===e}function tB(t){return t instanceof Mr&&t.getTypeName()||null}function IA(t){return new g_(t)}function DA(t){return new v_(t)}function CA(t){return new y_(t)}function xA(t){return new __(t)}function TA(t){return new b_(t)}function nB(t){let e=new E_(t);return iB()?new w_(e):e}var w_=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Np(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},E_=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Np(e),n}};function iB(){try{return!!new window.DOMParser().parseFromString(Np(""),"text/html")}catch{return!1}}var rB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kp(t){return t=String(t),t.match(rB)?t:"unsafe:"+t}function Or(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ru(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var SA=Or("area,br,col,hr,img,wbr"),AA=Or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MA=Or("rp,rt"),oB=Ru(MA,AA),sB=Ru(AA,Or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aB=Ru(MA,Or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),NT=Ru(SA,sB,aB,oB),RA=Or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cB=Or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lB=Or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),uB=Ru(RA,cB,lB),dB=Or("script,style,template"),I_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=pB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=fB(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=kT(e).toLowerCase();if(!NT.hasOwnProperty(n))return this.sanitizedSomething=!0,!dB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!uB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;RA[a]&&(c=kp(c)),this.buf.push(" ",s,'="',PT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=kT(e).toLowerCase();NT.hasOwnProperty(n)&&!SA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(PT(e))}};function hB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function fB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw NA(e);return e}function pB(t){let e=t.firstChild;if(e&&hB(t,e))throw NA(e);return e}function kT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function NA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var mB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gB=/([^\#-~ |!])/g;function PT(t){return t.replace(/&/g,"&amp;").replace(mB,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(gB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nf;function Ab(t,e){let n=null;try{Nf=Nf||nB(t);let i=e?String(e):"";n=Nf.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Nf.getInertBodyElement(i)}while(i!==o);let a=new I_().sanitizeChildren(OT(n)||n);return Np(a)}finally{if(n){let i=OT(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function OT(t){return"content"in t&&vB(t)?t.content:null}function vB(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(tr||{});function lee(t){let e=kA();return e?RT(e.sanitize(tr.HTML,t)||""):Do(t,"HTML")?RT(Si(t)):Ab(wA(),Rs(t))}function uee(t){let e=kA();return e?e.sanitize(tr.URL,t)||"":Do(t,"URL")?Si(t):kp(Rs(t))}function kA(){let t=ye();return t&&t[Qi].sanitizer}var yB=/^>|^->|<!--|-->|--!>|<!-$/g,_B=/(<|>)/g,bB="\u200B$1\u200B";function wB(t){return t.replace(yB,e=>e.replace(_B,bB))}function PA(t){return t instanceof Function?t():t}function OA(t){return(t??j(At)).get(dn)==="browser"}var Xi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xi||{}),EB;function Mb(t,e){return EB(t,e)}function oc(t,e,n,i,r){if(i!=null){let o,s=!1;Nr(i)?o=i:go(i)&&(s=!0,i=i[er]);let a=Yi(i);t===0&&n!==null?r==null?BA(e,n,a):np(e,n,a,r||null,!0):t===1&&n!==null?np(e,n,a,r||null,!0):t===2?FB(e,a,s):t===3&&e.destroyNode(a),o!=null&&VB(e,t,o,n,r)}}function IB(t,e){return t.createText(e)}function DB(t,e,n){t.setValue(e,n)}function CB(t,e){return t.createComment(wB(e))}function FA(t,e,n){return t.createElement(e,n)}function xB(t,e){LA(t,e),e[er]=null,e[zn]=null}function TB(t,e,n,i,r,o){i[er]=r,i[zn]=e,Fp(t,i,n,1,r,o)}function LA(t,e){e[Qi].changeDetectionScheduler?.notify(9),Fp(t,e,e[wt],2,null,null)}function SB(t){let e=t[Eu];if(!e)return Uy(t[Ce],t);for(;e;){let n=null;if(go(e))n=e[Eu];else{let i=e[vn];i&&(n=i)}if(!n){for(;e&&!e[xi]&&e!==t;)go(e)&&Uy(e[Ce],e),e=e[yn];e===null&&(e=t),go(e)&&Uy(e[Ce],e),n=e&&e[xi]}e=n}}function AB(t,e,n,i){let r=vn+i,o=n.length;i>0&&(n[r-1][xi]=e),i<o-vn?(e[xi]=n[r],fS(n,vn+i,e)):(n.push(e),e[xi]=null),e[yn]=n;let s=e[ks];s!==null&&n!==s&&VA(s,e);let a=e[Sr];a!==null&&a.insertView(t),r_(e),e[be]|=128}function VA(t,e){let n=t[fc],i=e[yn];if(go(i))t[be]|=Qf.HasTransplantedViews;else{let r=i[yn][Zn];e[Zn]!==r&&(t[be]|=Qf.HasTransplantedViews)}n===null?t[fc]=[e]:n.push(e)}function Rb(t,e){let n=t[fc],i=n.indexOf(e);n.splice(i,1)}function Iu(t,e){if(t.length<=vn)return;let n=vn+e,i=t[n];if(i){let r=i[ks];r!==null&&r!==t&&Rb(r,i),e>0&&(t[n-1][xi]=i[xi]);let o=qf(t,vn+e);xB(i[Ce],i);let s=o[Sr];s!==null&&s.detachView(o[Ce]),i[yn]=null,i[xi]=null,i[be]&=-129}return i}function Pp(t,e){if(!(e[be]&256)){let n=e[wt];n.destroyNode&&Fp(t,e,n,3,null,null),SB(e)}}function Uy(t,e){if(e[be]&256)return;let n=je(null);try{e[be]&=-129,e[be]|=256,e[ci]&&tf(e[ci]),RB(t,e),MB(t,e),e[Ce].type===1&&e[wt].destroy();let i=e[ks];if(i!==null&&Nr(e[yn])){i!==e[yn]&&Rb(i,e);let r=e[Sr];r!==null&&r.detachView(t)}p_(e)}finally{je(n)}}function MB(t,e){let n=t.cleanup,i=e[Wf];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Wf]=null);let r=e[mo];if(r!==null){e[mo]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function RB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Ls)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Gi(4,a,c);try{c.call(a)}finally{Gi(5,a,c)}}else{Gi(4,r,o);try{o.call(r)}finally{Gi(5,r,o)}}}}}function jA(t,e,n){return NB(t,e.parent,n)}function NB(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[er];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Ki.None||o===Ki.Emulated)return null}return ui(i,n)}}function np(t,e,n,i,r){t.insertBefore(e,n,i,r)}function BA(t,e,n){t.appendChild(e,n)}function FT(t,e,n,i,r){i!==null?np(t,e,n,i,r):BA(t,e,n)}function UA(t,e){return t.parentNode(e)}function kB(t,e){return t.nextSibling(e)}function zA(t,e,n){return OB(t,e,n)}function PB(t,e,n){return t.type&40?ui(t,n):null}var OB=PB,LT;function Op(t,e,n,i){let r=jA(t,i,e),o=e[wt],s=i.parent||e[zn],a=zA(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)FT(o,r,n[c],a,!1);else FT(o,r,n,a,!1);LT!==void 0&&LT(o,i,e,n,r)}function gu(t,e){if(e!==null){let n=e.type;if(n&3)return ui(e,t);if(n&4)return D_(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return gu(t,i);{let r=t[e.index];return Nr(r)?D_(-1,r):Yi(r)}}else{if(n&128)return gu(t,e.next);if(n&32)return Mb(e,t)()||Yi(t[e.index]);{let i=$A(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Os(t[Zn]);return gu(r,i)}else return gu(t,e.next)}}}return null}function $A(t,e){if(e!==null){let i=t[Zn][zn],r=e.projection;return i.projection[r]}return null}function D_(t,e){let n=vn+t+1;if(n<e.length){let i=e[n],r=i[Ce].firstChild;if(r!==null)return gu(i,r)}return e[Ps]}function FB(t,e,n){t.removeChild(null,e,n)}function Nb(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&e===0&&(a&&_o(Yi(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Nb(t,e,n.child,i,r,o,!1),oc(e,t,r,a,o);else if(c&32){let u=Mb(n,i),d;for(;d=u();)oc(e,t,r,d,o);oc(e,t,r,a,o)}else c&16?HA(t,e,i,n,r,o):oc(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Fp(t,e,n,i,r,o){Nb(n,i,t.firstChild,e,r,o,!1)}function LB(t,e,n){let i=e[wt],r=jA(t,n,e),o=n.parent||e[zn],s=zA(o,n,e);HA(i,0,e,n,r,s)}function HA(t,e,n,i,r,o){let s=n[Zn],c=s[zn].projection[i.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];oc(e,t,r,d,o)}else{let u=c,d=s[yn];mA(i)&&(u.flags|=128),Nb(t,e,u,d,r,o,!0)}}function VB(t,e,n,i,r){let o=n[Ps],s=Yi(n);o!==s&&oc(e,t,i,o,r);for(let a=vn;a<n.length;a++){let c=n[a];Fp(c[Ce],c,t,e,i,o)}}function jB(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Xi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Xi.Important),t.setStyle(n,i,r,o))}}function BB(t,e,n){t.setAttribute(e,"style",n)}function qA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GA(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Xy(t,e,i),r!==null&&qA(t,e,r),o!==null&&BB(t,e,o)}var $n={};function De(t=1){WA(ht(),ye(),kr()+t,!1)}function WA(t,e,n,i){if(!i)if((e[be]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vf(e,o,n)}else{let o=t.preOrderHooks;o!==null&&jf(e,o,0,n)}Fs(n)}function B(t,e=Ve.Default){let n=ye();if(n===null)return A(t,e);let i=nn();return aA(i,n,cn(t),e)}function Lp(){let t="invalid";throw new Error(t)}function KA(t,e,n,i,r,o){let s=je(null);try{let a=null;r&vo.SignalBased&&(a=e[i][Kn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&vo.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):NS(e,a,i,o)}finally{je(s)}}function UB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Fs(~r);else{let o=r,s=n[++i],a=n[++i];h2(s,o);let c=e[o];a(2,c)}}}finally{Fs(-1)}}function Vp(t,e,n,i,r,o,s,a,c,u,d){let f=e.blueprint.slice();return f[er]=r,f[be]=i|4|128|8|64,(u!==null||t&&t[be]&2048)&&(f[be]|=2048),jS(f),f[yn]=f[Ec]=t,f[gn]=n,f[Qi]=s||t&&t[Qi],f[wt]=a||t&&t[wt],f[hc]=c||t&&t[hc]||null,f[zn]=o,f[Ep]=G2(),f[dc]=d,f[RS]=u,f[Zn]=e.type==2?t[Zn]:f,f}function xc(t,e,n,i,r){let o=t.data[e];if(o===null)o=zB(t,e,n,i,r),d2()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=a2();o.injectorIndex=s===null?-1:s.injectorIndex}return zs(o,!0),o}function zB(t,e,n,i,r){let o=qS(),s=vb(),a=s?o:o&&o.parent,c=t.data[e]=KB(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function QA(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function YA(t,e,n,i,r){let o=kr(),s=i&2;try{Fs(-1),s&&e.length>un&&WA(t,e,un,!1),Gi(s?2:0,r),n(i,r)}finally{Fs(o),Gi(s?3:1,r)}}function kb(t,e,n){if(pb(e)){let i=je(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{je(i)}}}function Pb(t,e,n){$S()&&(eU(t,e,n,ui(n,e)),(n.flags&64)===64&&JA(t,e,n))}function Ob(t,e,n=ui){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function ZA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Fb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Fb(t,e,n,i,r,o,s,a,c,u,d){let f=un+i,m=f+r,g=$B(f,m),y=typeof u=="function"?u():u;return g[Ce]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function $B(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:$n);return n}function HB(t,e,n,i){let o=i.get(X2,EA)||n===Ki.ShadowDom,s=t.selectRootElement(e,o);return qB(s),s}function qB(t){GB(t)}var GB=()=>null;function WB(t,e,n,i){let r=nM(e);r.push(n),t.firstCreatePass&&iM(t).push(i,r.length-1)}function KB(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return HS()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VT(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=vo.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(r!==null){if(!r.hasOwnProperty(o))continue;u=r[o]}t===0?jT(i,n,u,a,c):jT(i,n,u,a)}return i}function jT(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function QB(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let d=i;d<r;d++){let f=o[d],m=n?n.get(f):null,g=m?m.inputs:null,y=m?m.outputs:null;c=VT(0,f.inputs,d,c,g),u=VT(1,f.outputs,d,u,y);let I=c!==null&&s!==null&&!lb(e)?dU(c,d,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function YB(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Nu(t,e,n,i,r,o,s,a){let c=ui(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(Vb(t,n,d,i,r),Ip(e)&&ZB(n,e.index)):e.type&3?(i=YB(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function ZB(t,e){let n=Eo(e,t);n[be]&16||(n[be]|=64)}function Lb(t,e,n,i){if($S()){let r=i===null?null:{"":-1},o=nU(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&XA(t,e,n,s,r,a),r&&iU(n,i,r)}n.mergedAttrs=bu(n.mergedAttrs,n.attrs)}function XA(t,e,n,i,r,o){for(let u=0;u<i.length;u++)c_(Jf(n,e),t,i[u].type);oU(n,t.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=QA(t,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];n.mergedAttrs=bu(n.mergedAttrs,d.hostAttrs),sU(t,n,e,c,d),rU(c,d,r),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}QB(t,n,o)}function XB(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;JB(s)!=a&&s.push(a),s.push(n,i,o)}}function JB(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function eU(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Ip(n)&&aU(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Jf(n,e),_o(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],u=Vs(e,t,a,n);if(_o(u,e),s!==null&&uU(e,a-r,u,c,n,s),Ar(c)){let d=Eo(n.index,e);d[gn]=Vs(e,t,a,n)}}}function JA(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=f2();try{Fs(o);for(let a=i;a<r;a++){let c=t.data[a],u=e[a];o_(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tU(c,u)}}finally{Fs(-1),o_(s)}}function tU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nU(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(_S(e,s.selectors,!1))if(i||(i=[]),Ar(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;C_(t,e,c)}else i.unshift(s),C_(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function C_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function iU(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new ae(-301,!1);i.push(e[r],o)}}}function rU(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ar(e)&&(n[""]=t)}}function oU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sU(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Ns(r.type,!0)),s=new Ls(o,Ar(r),B);t.blueprint[i]=s,n[i]=s,XB(t,e,i,QA(t,n,r.hostVars,$n),r)}function aU(t,e,n){let i=ui(e,t),r=ZA(n),o=t[Qi].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=jp(t,Vp(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function cU(t,e,n,i,r,o){let s=ui(t,e);lU(e[wt],s,o,t.value,n,i,r)}function lU(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Rs(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function uU(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],d=s[a++],f=s[a++];KA(i,n,c,u,d,f)}}function dU(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function eM(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function tM(t,e){let n=t.contentQueries;if(n!==null){let i=je(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];Tp(o),a.contentQueries(2,e[s],s)}}}finally{je(i)}}}function jp(t,e){return t[Eu]?t[_T][xi]=e:t[Eu]=e,t[_T]=e,e}function x_(t,e,n){Tp(0);let i=je(null);try{e(t,n)}finally{je(i)}}function nM(t){return t[Wf]??=[]}function iM(t){return t.cleanup??=[]}function rM(t,e,n){return(t===null||Ar(t))&&(n=Zj(n[e.index])),n[wt]}function oM(t,e){let n=t[hc],i=n?n.get(Zi,null):null;i&&i.handleError(e)}function Vb(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],d=t.data[s];KA(d,u,i,a,c,r)}}function sM(t,e,n){let i=LS(e,t);DB(t[wt],i,n)}function hU(t,e){let n=Eo(e,t),i=n[Ce];fU(i,n);let r=n[er];r!==null&&n[dc]===null&&(n[dc]=Sb(r,n[hc])),jb(i,n,n[gn])}function fU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function jb(t,e,n){Eb(e);try{let i=t.viewQuery;i!==null&&x_(1,i,n);let r=t.template;r!==null&&YA(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sr]?.finishViewCreation(t),t.staticContentQueries&&tM(t,e),t.staticViewQueries&&x_(2,t.viewQuery,n);let o=t.components;o!==null&&pU(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[be]&=-5,Ib()}}function pU(t,e){for(let n=0;n<e.length;n++)hU(t,e[n])}function ku(t,e,n,i){let r=je(null);try{let o=e.tView,a=t[be]&4096?4096:16,c=Vp(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=t[e.index];c[ks]=u;let d=t[Sr];return d!==null&&(c[Sr]=d.createEmbeddedView(o)),jb(o,c,n),c}finally{je(r)}}function aM(t,e){let n=vn+e;if(n<t.length)return t[n]}function mc(t,e){return!e||e.firstChild===null||mA(t)}function Pu(t,e,n,i=!0){let r=e[Ce];if(AB(r,e,t,n),i){let s=D_(n,t),a=e[wt],c=UA(a,t[Ps]);c!==null&&TB(r,t[zn],a,e,c,s)}let o=e[dc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function cM(t,e){let n=Iu(t,e);return n!==void 0&&Pp(n[Ce],n),n}function ip(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(Yi(o)),Nr(o)&&mU(o,i);let s=n.type;if(s&8)ip(t,e,n.child,i);else if(s&32){let a=Mb(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=$A(e,n);if(Array.isArray(a))i.push(...a);else{let c=Os(e[Zn]);ip(c[Ce],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function mU(t,e){for(let n=vn;n<t.length;n++){let i=t[n],r=i[Ce].firstChild;r!==null&&ip(i[Ce],i,r,e)}t[Ps]!==t[er]&&e.push(t[Ps])}var lM=[];function gU(t){return t[ci]??vU(t)}function vU(t){let e=lM.pop()??Object.create(_U);return e.lView=t,e}function yU(t){t.lView[ci]!==t&&(t.lView=null,lM.push(t))}var _U=Me(z({},Ba),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xp(t.lView)},consumerOnSignalRead(){this.lView[ci]=this}});function bU(t){let e=t[ci]??Object.create(wU);return e.lView=t,e}var wU=Me(z({},Ba),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Os(t.lView);for(;e&&!uM(e[Ce]);)e=Os(e);e&&BS(e)},consumerOnSignalRead(){this.lView[ci]=this}});function uM(t){return t.type!==2}var EU=100;function dM(t,e=!0,n=0){let i=t[Qi],r=i.rendererFactory,o=!1;o||r.begin?.();try{IU(t,n)}catch(s){throw e&&oM(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function IU(t,e){let n=GS();try{wT(!0),T_(t,e);let i=0;for(;Cp(t);){if(i===EU)throw new ae(103,!1);i++,T_(t,1)}}finally{wT(n)}}function DU(t,e,n,i){let r=e[be];if((r&256)===256)return;let o=!1,s=!1;!o&&e[Qi].inlineEffectRunner?.flush(),Eb(e);let a=!0,c=null,u=null;o||(uM(t)?(u=gU(e),c=lu(u)):xx()===null?(a=!1,u=bU(e),c=lu(u)):e[ci]&&(tf(e[ci]),e[ci]=null));try{jS(e),u2(t.bindingStartIndex),n!==null&&YA(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let g=t.preOrderCheckHooks;g!==null&&Vf(e,g,null)}else{let g=t.preOrderHooks;g!==null&&jf(e,g,0,null),Ly(e,0)}if(s||CU(e),hM(e,0),t.contentQueries!==null&&tM(t,e),!o)if(d){let g=t.contentCheckHooks;g!==null&&Vf(e,g)}else{let g=t.contentHooks;g!==null&&jf(e,g,1),Ly(e,1)}UB(t,e);let f=t.components;f!==null&&pM(e,f,0);let m=t.viewQuery;if(m!==null&&x_(2,m,i),!o)if(d){let g=t.viewCheckHooks;g!==null&&Vf(e,g)}else{let g=t.viewHooks;g!==null&&jf(e,g,2),Ly(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lf]){for(let g of e[Lf])g();e[Lf]=null}o||(e[be]&=-73)}catch(d){throw o||xp(e),d}finally{u!==null&&(Jh(u,c),a&&yU(u)),Ib()}}function hM(t,e){for(let n=vA(t);n!==null;n=yA(n))for(let i=vn;i<n.length;i++){let r=n[i];fM(r,e)}}function CU(t){for(let e=vA(t);e!==null;e=yA(e)){if(!(e[be]&Qf.HasTransplantedViews))continue;let n=e[fc];for(let i=0;i<n.length;i++){let r=n[i];BS(r)}}}function xU(t,e,n){let i=Eo(e,t);fM(i,n)}function fM(t,e){gb(t)&&T_(t,e)}function T_(t,e){let i=t[Ce],r=t[be],o=t[ci],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&ef(o)),s||=!1,o&&(o.dirty=!1),t[be]&=-9217,s)DU(i,t,i.template,t[gn]);else if(r&8192){hM(t,1);let a=i.components;a!==null&&pM(t,a,1)}}function pM(t,e,n){for(let i=0;i<e.length;i++)xU(t,e[i],n)}function Bb(t,e){let n=GS()?64:1088;for(t[Qi].changeDetectionScheduler?.notify(e);t;){t[be]|=n;let i=Os(t);if(n_(t)&&!i)return t;t=i}return null}var js=class{get rootNodes(){let e=this._lView,n=e[Ce];return ip(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return(this._lView[be]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yn];if(Nr(e)){let n=e[Kf],i=n?n.indexOf(this):-1;i>-1&&(Iu(e,i),qf(n,i))}this._attachedToViewContainer=!1}Pp(this._lView[Ce],this._lView)}onDestroy(e){US(this._lView,e)}markForCheck(){Bb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[be]&=-129}reattach(){r_(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,dM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=n_(this._lView),n=this._lView[ks];n!==null&&!e&&Rb(n,this._lView),LA(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e;let n=n_(this._lView),i=this._lView[ks];i!==null&&!n&&VA(i,this._lView),r_(this._lView)}},Ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AU;let t=e;return t})(),TU=Ti,SU=class extends TU{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=ku(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new js(r)}};function AU(){return Bp(nn(),ye())}function Bp(t,e){return t.type&4?new SU(e,t,Cc(t,e)):null}var hee=new RegExp(`^(\\d+)*(${Y2}|${Q2})*(.*)`);var MU=()=>null;function gc(t,e){return MU(t,e)}var vc=class{},Ub=new $("",{providedIn:"root",factory:()=>!1});var mM=new $(""),gM=new $(""),S_=class{},rp=class{};function RU(t){let e=Error(`No component factory found for ${Rn(t)}.`);return e[NU]=t,e}var NU="ngComponent";var A_=class{resolveComponentFactory(e){throw RU(e)}},Jb=class Jb{};Jb.NULL=new A_;var Ji=Jb,yc=class{},Co=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kU();let t=e;return t})();function kU(){let t=ye(),e=nn(),n=Eo(e.index,t);return(go(n)?n:t)[wt]}var PU=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function op(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Ky(r,a);else if(o==2){let c=a,u=e[++s];i=Ky(i,c+": "+u+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var sp=class extends Ji{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tr(e);return new Bs(n,this.ngModule)}};function BT(t,e){let n=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let r=t[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:vo.None;e?n.push({propName:s,templateName:i,isSignal:(a&vo.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function OU(t){let e=t.toLowerCase();return e==="svg"?FS:e==="math"?Yj:null}var Bs=class extends rp{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=BT(e.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return BT(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=je(null);try{r=r||this.ngModule;let s=r instanceof ln?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new s_(e,s):e,c=a.get(yc,null);if(c===null)throw new ae(407,!1);let u=a.get(PU,null),d=a.get(vc,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=i?HB(m,i,this.componentDef.encapsulation,a):FA(m,g,OU(g)),I=512;this.componentDef.signals?I|=4096:this.componentDef.onPush||(I|=16);let D=null;y!==null&&(D=Sb(y,a,!0));let k=Fb(0,null,null,1,0,null,null,null,null,null,null),P=Vp(null,k,null,I,null,null,f,m,a,null,D);Eb(P);let V,K,ce=null;try{let ie=this.componentDef,E,_=null;ie.findHostDirectiveDefs?(E=[],_=new Map,ie.findHostDirectiveDefs(ie,E,_),E.push(ie)):E=[ie];let w=FU(P,y);ce=LU(w,y,ie,E,P,f,m),K=mb(k,un),y&&BU(m,ie,y,i),n!==void 0&&UU(K,this.ngContentSelectors,n),V=jU(ce,ie,E,_,P,[zU]),jb(k,P,null)}catch(ie){throw ce!==null&&p_(ce),p_(P),ie}finally{Ib()}return new M_(this.componentType,V,Cc(K,P),P,K)}finally{je(o)}}},M_=class extends S_{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new js(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Vb(o[Ce],o,r,e,n),this.previousInputValues.set(e,n);let s=Eo(this._tNode.index,o);Bb(s,1)}}get injector(){return new Ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FU(t,e){let n=t[Ce],i=un;return t[i]=e,xc(n,i,2,"#host",null)}function LU(t,e,n,i,r,o,s){let a=r[Ce];VU(i,t,e,s);let c=null;e!==null&&(c=Sb(e,r[hc]));let u=o.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Vp(r,ZA(n),null,d,r[t.index],t,o,u,null,null,c);return a.firstCreatePass&&C_(a,t,i.length-1),jp(r,f),r[t.index]=f}function VU(t,e,n,i){for(let r of t)e.mergedAttrs=bu(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(op(e,e.mergedAttrs,!0),n!==null&&GA(i,n,e))}function jU(t,e,n,i,r,o){let s=nn(),a=r[Ce],c=ui(s,r);XA(a,r,s,n,null,i);for(let d=0;d<n.length;d++){let f=s.directiveStart+d,m=Vs(r,a,f,s);_o(m,r)}JA(a,r,s),c&&_o(c,r);let u=Vs(r,a,s.directiveStart+s.componentOffset,s);if(t[gn]=r[gn]=u,o!==null)for(let d of o)d(u,e);return kb(a,s,r),u}function BU(t,e,n,i){if(i)Xy(t,n,["ng-version","18.2.3"]);else{let{attrs:r,classes:o}=Rj(e.selectors[0]);r&&Xy(t,n,r),o&&o.length>0&&qA(t,n,o.join(" "))}}function UU(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function zU(){let t=nn();Mp(ye()[Ce],t)}var En=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$U;let t=e;return t})();function $U(){let t=nn();return yM(t,ye())}var HU=En,vM=class extends HU{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new Ms(this._hostTNode,this._hostLView)}get parentInjector(){let e=Db(this._hostTNode,this._hostLView);if(tA(e)){let n=Zf(e,this._hostLView),i=Yf(e),r=n[Ce].data[i+8];return new Ms(r,n)}else return new Ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=UT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=gc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,mc(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!Gj(e),a;if(s)a=n;else{let y=n||{};a=y.index,i=y.injector,r=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new Bs(Tr(e)),u=i||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?u:this.parentInjector).get(ln,null);I&&(o=I)}let d=Tr(c.componentType??{}),f=gc(this._lContainer,d?.id??null),m=f?.firstChild??null,g=c.create(u,r,m,o);return this.insertImpl(g.hostView,a,mc(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(Jj(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[yn],u=new vM(c,c[zn],c[yn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Pu(s,r,o,i),e.attachToViewContainerRef(),fS(zy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=UT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Iu(this._lContainer,n);i&&(qf(zy(this._lContainer),n),Pp(i[Ce],i))}detach(e){let n=this._adjustIndex(e,-1),i=Iu(this._lContainer,n);return i&&qf(zy(this._lContainer),n)!=null?new js(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function UT(t){return t[Kf]}function zy(t){return t[Kf]||(t[Kf]=[])}function yM(t,e){let n,i=e[t.index];return Nr(i)?n=i:(n=eM(i,e,null,t),e[t.index]=n,jp(e,n)),GU(n,e,t,i),new vM(n,t,e)}function qU(t,e){let n=t[wt],i=n.createComment(""),r=ui(e,t),o=UA(n,r);return np(n,o,i,kB(n,r),!1),i}var GU=QU,WU=()=>!1;function KU(t,e,n){return WU(t,e,n)}function QU(t,e,n,i){if(t[Ps])return;let r;n.type&8?r=Yi(i):r=qU(e,n),t[Ps]=r}var R_=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},N_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$b(e,n).matches!==null&&this.queries[n].setDirty()}},ap=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=tz(e):this.predicate=e}},k_=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},P_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,YU(n,o)),this.matchTNodeWithReadOption(e,n,Bf(n,e,o,!1,!1))}else i===Ti?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Bf(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===we||r===En||r===Ti&&n.type&4)this.addMatch(n.index,-2);else{let o=Bf(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function YU(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function ZU(t,e){return t.type&11?Cc(t,e):t.type&4?Bp(t,e):null}function XU(t,e,n,i){return n===-1?ZU(e,t):n===-2?JU(t,e,i):Vs(t,t[Ce],n,e)}function JU(t,e,n){if(n===we)return Cc(e,t);if(n===Ti)return Bp(e,t);if(n===En)return yM(e,t)}function _M(t,e,n,i){let r=e[Sr].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(XU(e,d,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function O_(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=_M(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let f=vn;f<d.length;f++){let m=d[f];m[ks]===m[yn]&&O_(m[Ce],m,u,i)}if(d[fc]!==null){let f=d[fc];for(let m=0;m<f.length;m++){let g=f[m];O_(g[Ce],g,u,i)}}}}}return i}function zb(t,e){return t[Sr].queries[e].queryList}function bM(t,e,n){let i=new pc((n&4)===4);return WB(t,e,i,i.destroy),(e[Sr]??=new N_).queries.push(new R_(i))-1}function ez(t,e,n){let i=ht();return i.firstCreatePass&&(EM(i,new ap(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),bM(i,ye(),e)}function wM(t,e,n,i){let r=ht();if(r.firstCreatePass){let o=nn();EM(r,new ap(e,n,i),o.index),nz(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return bM(r,ye(),n)}function tz(t){return t.split(",").map(e=>e.trim())}function EM(t,e,n){t.queries===null&&(t.queries=new k_),t.queries.track(new P_(e,n))}function nz(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function $b(t,e){return t.queries.getByIndex(e)}function IM(t,e){let n=t[Ce],i=$b(n,e);return i.crossesNgTemplate?O_(n,t,e,[]):_M(n,t,i,e)}var zT=new Set;function Ai(t){zT.has(t)||(zT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Up(t){return typeof t=="function"&&t[Kn]!==void 0}function Hs(t,e){Ai("NgSignals");let n=Lx(t),i=n[Kn];return e?.equal&&(i.equal=e.equal),n.set=r=>of(i,r),n.update=r=>Vx(i,r),n.asReadonly=iz.bind(n),n}function iz(){let t=this[Kn];if(t.readonlyFn===void 0){let e=()=>this();e[Kn]=t,t.readonlyFn=e}return t.readonlyFn}function DM(t){return Up(t)&&typeof t.set=="function"}function CM(t,e){let n,i=py(()=>{n._dirtyCounter();let r=az(n,t);if(e&&r===void 0)throw new ae(-951,!1);return r});return n=i[Kn],n._dirtyCounter=Hs(0),n._flatValue=void 0,i}function rz(){return CM(!0,!1)}function oz(){return CM(!0,!0)}function sz(t,e){let n=t[Kn];n._lView=ye(),n._queryIndex=e,n._queryList=zb(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function az(t,e){let n=t._lView,i=t._queryIndex;if(n===void 0||i===void 0||n[be]&4)return e?void 0:Mn;let r=zb(n,i),o=IM(n,i);return r.reset(o,pA),e?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}function $T(t,e){return rz()}function cz(t,e){return oz()}var xM=($T.required=cz,$T);function lz(t){return Object.getPrototypeOf(t.prototype).constructor}function Ft(t){let e=lz(t.type),n=!0,i=[t];for(;e;){let r;if(Ar(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=kf(t.inputs),s.inputTransforms=kf(t.inputTransforms),s.declaredInputs=kf(t.declaredInputs),s.outputs=kf(t.outputs);let a=r.hostBindings;a&&pz(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&hz(t,c),u&&fz(t,u),uz(t,r),QV(t.outputs,r.outputs),Ar(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ft&&(n=!1)}}e=Object.getPrototypeOf(e)}dz(i)}function uz(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function dz(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=bu(r.hostAttrs,n=bu(n,r.hostAttrs))}}function kf(t){return t===xr?{}:t===Mn?[]:t}function hz(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function fz(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function pz(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function pee(t){let e=n=>{let i=(Array.isArray(t)?t:t()).map(r=>typeof r=="function"?{directive:cn(r),inputs:xr,outputs:xr}:{directive:cn(r.directive),inputs:HT(r.inputs),outputs:HT(r.outputs)});n.hostDirectives===null?(n.findHostDirectiveDefs=TM,n.hostDirectives=i):n.hostDirectives.unshift(...i)};return e.ngInherit=!0,e}function TM(t,e,n){if(t.hostDirectives!==null)for(let i of t.hostDirectives){let r=ub(i.directive);mz(r.declaredInputs,i.inputs),TM(r,e,n),n.set(r,i),e.push(r)}}function HT(t){if(t===void 0||t.length===0)return xr;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function mz(t,e){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],r=t[n];t[i]=r}}function In(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var bo=class{},Du=class{};var F_=class extends bo{constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sp(this);let o=IS(e);this._bootstrapComponents=PA(o.bootstrap),this._r3Injector=uA(e,n,[{provide:bo,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver},...i],Rn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},L_=class extends Du{constructor(e){super(),this.moduleType=e}create(e){return new F_(this.moduleType,e,[])}};var cp=class extends bo{constructor(e){super(),this.componentFactoryResolver=new sp(this),this.instance=null;let n=new wu([...e.providers,{provide:bo,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],e.parent||wp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zp(t,e,n=null){return new cp({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function SM(t){return Hb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function Hb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $p(t,e,n){return t[e]=n}function AM(t,e){return t[e]}function Xn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function lp(t,e,n,i){let r=Xn(t,e,n);return Xn(t,e+1,i)||r}function qT(t,e,n,i,r,o){let s=lp(t,e,n,i);return lp(t,e+2,r,o)||s}function vz(t){return(t.flags&32)===32}function yz(t,e,n,i,r,o,s,a,c){let u=e.consts,d=xc(e,t,4,s||null,a||null);Lb(e,n,d,yo(u,c)),Mp(e,d);let f=d.tView=Fb(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function up(t,e,n,i,r,o,s,a,c,u){let d=n+un,f=e.firstCreatePass?yz(d,e,t,i,r,o,s,a,c):e.data[d];zs(f,!1);let m=_z(e,t,f,n);Sp()&&Op(e,t,m,f),_o(m,t);let g=eM(m,t,m,f);return t[d]=g,jp(t,g),KU(g,f,t),Dp(f)&&Pb(e,t,f),c!=null&&Ob(t,f,u),f}function at(t,e,n,i,r,o,s,a){let c=ye(),u=ht(),d=yo(u.consts,o);return up(c,u,t,e,n,i,r,d,s,a),at}var _z=bz;function bz(t,e,n,i){return Ap(!0),e[wt].createComment("")}var sc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(sc||{}),MM=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),As=class As{constructor(){this.ngZone=j(te),this.scheduler=j(vc),this.errorHandler=j(Zi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of As.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};As.PHASES=[sc.EarlyRead,sc.Write,sc.MixedReadWrite,sc.Read],As.\u0275prov=q({token:As,providedIn:"root",factory:()=>new As});var V_=As,j_=class{constructor(e,n,i,r){this.impl=e,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ou(t,e){!e?.injector&&hb(Ou);let n=e?.injector??j(At);return OA(n)?(Ai("NgAfterRender"),RM(t,n,e,!1)):NM}function Fr(t,e){!e?.injector&&hb(Fr);let n=e?.injector??j(At);return OA(n)?(Ai("NgAfterNextRender"),RM(t,n,e,!0)):NM}function wz(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function RM(t,e,n,i){let r=e.get(MM);r.impl??=e.get(V_);let o=n?.phase??sc.MixedReadWrite,s=new j_(r.impl,wz(t,o),i,e.get(Rp));return r.impl.register(s),s}var NM={destroy(){}};function ct(t,e,n,i){let r=ye(),o=Io();if(Xn(r,o,e)){let s=ht(),a=Ic();cU(a,r,t,e,n,i)}return ct}function qb(t,e,n,i){return Xn(t,Io(),n)?e+Rs(n)+i:$n}function Ez(t,e,n,i,r,o){let s=l2(),a=lp(t,s,n,r);return _b(2),a?e+Rs(n)+i+Rs(r)+o:$n}function Pf(t,e){return t<<17|e<<2}function Us(t){return t>>17&32767}function Iz(t){return(t&2)==2}function Dz(t,e){return t&131071|e<<17}function B_(t){return t|2}function _c(t){return(t&131068)>>2}function $y(t,e){return t&-131069|e<<2}function Cz(t){return(t&1)===1}function U_(t){return t|1}function xz(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Us(s),c=_c(s);t[i]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Tu(f,d)>0)&&(u=!0)}else d=n;if(r)if(c!==0){let m=Us(t[a+1]);t[i+1]=Pf(m,a),m!==0&&(t[m+1]=$y(t[m+1],i)),t[a+1]=Dz(t[a+1],i)}else t[i+1]=Pf(a,0),a!==0&&(t[a+1]=$y(t[a+1],i)),a=i;else t[i+1]=Pf(c,0),a===0?a=i:t[c+1]=$y(t[c+1],i),c=i;u&&(t[i+1]=B_(t[i+1])),GT(t,d,i,!0),GT(t,d,i,!1),Tz(e,d,t,i,o),s=Pf(a,c),o?e.classBindings=s:e.styleBindings=s}function Tz(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Tu(o,e)>=0&&(n[i+1]=U_(n[i+1]))}function GT(t,e,n,i){let r=t[n+1],o=e===null,s=i?Us(r):_c(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];Sz(c,e)&&(a=!0,t[s+1]=i?U_(u):B_(u)),s=i?Us(u):_c(u)}a&&(t[n+1]=i?B_(r):U_(r))}function Sz(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tu(t,e)>=0:!1}var Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Az(t){return t.substring(Ci.key,Ci.keyEnd)}function Mz(t){return Rz(t),kM(t,PM(t,0,Ci.textEnd))}function kM(t,e){let n=Ci.textEnd;return n===e?-1:(e=Ci.keyEnd=Nz(t,Ci.key=e,n),PM(t,e,n))}function Rz(t){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=t.length}function PM(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Nz(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ft(t,e,n){let i=ye(),r=Io();if(Xn(i,r,e)){let o=ht(),s=Ic();Nu(o,s,i,t,e,i[wt],n,!1)}return ft}function z_(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";Vb(t,n,o[s],s,i)}function Gb(t,e,n){return FM(t,e,n,!1),Gb}function pt(t,e){return FM(t,e,null,!0),pt}function Wb(t){LM(Vz,OM,t,!0)}function OM(t,e){for(let n=Mz(e);n>=0;n=kM(e,n))_p(t,Az(e),!0)}function FM(t,e,n,i){let r=ye(),o=ht(),s=_b(2);if(o.firstUpdatePass&&jM(o,t,s,i),e!==$n&&Xn(r,s,e)){let a=o.data[kr()];BM(o,a,r,r[wt],t,r[s+1]=Bz(e,n),i,s)}}function LM(t,e,n,i){let r=ht(),o=_b(2);r.firstUpdatePass&&jM(r,null,o,i);let s=ye();if(n!==$n&&Xn(s,o,n)){let a=r.data[kr()];if(UM(a,i)&&!VM(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ky(c,n||"")),z_(r,a,s,n,i)}else jz(r,a,s,s[wt],s[o+1],s[o+1]=Lz(t,e,n),i,o)}}function VM(t,e){return e>=t.expandoStartIndex}function jM(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[kr()],s=VM(t,n);UM(o,i)&&e===null&&!s&&(e=!1),e=kz(r,o,e,i),xz(r,o,e,n,s,i)}}function kz(t,e,n,i){let r=bb(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Hy(null,t,e,n,i),n=Cu(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Hy(r,t,e,n,i),o===null){let c=Pz(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Hy(null,t,e,c[1],i),c=Cu(c,e.attrs,i),Oz(t,e,i,c))}else o=Fz(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function Pz(t,e,n){let i=n?e.classBindings:e.styleBindings;if(_c(i)!==0)return t[Us(i)]}function Oz(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Us(r)]=i}function Fz(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Cu(i,s,n)}return Cu(i,e.attrs,n)}function Hy(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Cu(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Cu(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_p(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Lz(t,e,n){if(n==null||n==="")return Mn;let i=[],r=Si(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Vz(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&_p(t,i,n)}function jz(t,e,n,i,r,o,s,a){r===$n&&(r=Mn);let c=0,u=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;d!==null||f!==null;){let m=c<r.length?r[c+1]:void 0,g=u<o.length?o[u+1]:void 0,y=null,I;d===f?(c+=2,u+=2,m!==g&&(y=f,I=g)):f===null||d!==null&&d<f?(c+=2,y=d):(u+=2,y=f,I=g),y!==null&&BM(t,e,n,i,y,I,s,a),d=c<r.length?r[c]:null,f=u<o.length?o[u]:null}}function BM(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=Cz(u)?WT(c,e,n,r,_c(u),s):void 0;if(!dp(d)){dp(o)||Iz(u)&&(o=WT(c,null,n,r,a,s));let f=LS(kr(),n);jB(i,s,f,r,o)}}function WT(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[r+1];m===$n&&(m=f?Mn:void 0);let g=f?Oy(m,i):d===i?m:void 0;if(u&&!dp(g)&&(g=Oy(c,i)),dp(g)&&(a=g,s))return a;let y=t[r+1];r=s?Us(y):_c(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Oy(c,i))}return a}function dp(t){return t!==void 0}function Bz(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rn(Si(t)))),t}function UM(t,e){return(t.flags&(e?8:16))!==0}function zM(t,e,n){let i=ye(),r=qb(i,t,e,n);LM(_p,OM,r,!0)}var $_=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function qy(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function Uz(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),d=e[o],f=qy(o,u,o,d,n);if(f!==0){f<0&&t.updateValue(o,d),o++;continue}let m=t.at(s),g=e[c],y=qy(s,m,c,g,n);if(y!==0){y<0&&t.updateValue(s,g),s--,c--;continue}let I=n(o,u),D=n(s,m),k=n(o,d);if(Object.is(k,D)){let P=n(c,g);Object.is(P,I)?(t.swap(o,s),t.updateValue(s,g),c--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(i??=new hp,r??=QT(t,o,s,n),H_(t,i,o,k))t.updateValue(o,d),o++,s++;else if(r.has(k))i.set(I,t.detach(o)),s--;else{let P=t.create(o,e[o]);t.attach(o,P),o++,s++}}for(;o<=c;)KT(t,i,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=t.at(o),f=u.value,m=qy(o,d,o,f,n);if(m!==0)m<0&&t.updateValue(o,f),o++,u=c.next();else{i??=new hp,r??=QT(t,o,s,n);let g=n(o,f);if(H_(t,i,o,g))t.updateValue(o,f),o++,s++,u=c.next();else if(!r.has(g))t.attach(o,t.create(o,f)),o++,s++,u=c.next();else{let y=n(o,d);i.set(y,t.detach(o)),s--}}}for(;!u.done;)KT(t,i,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}function H_(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function KT(t,e,n,i,r){if(H_(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function QT(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var hp=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function lt(t,e){Ai("NgControlFlow");let n=ye(),i=Io(),r=n[i]!==$n?n[i]:-1,o=r!==-1?fp(n,un+r):void 0,s=0;if(Xn(n,i,t)){let a=je(null);try{if(o!==void 0&&cM(o,s),t!==-1){let c=un+t,u=fp(n,c),d=K_(n[Ce],c),f=gc(u,d.tView.ssrId),m=ku(n,d,e,{dehydratedView:f});Pu(u,m,s,mc(d,f))}}finally{je(a)}}else if(o!==void 0){let a=aM(o,s);a!==void 0&&(a[gn]=e)}}var q_=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-vn}};function $M(t,e){return e}var G_=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function HM(t,e,n,i,r,o,s,a,c,u,d,f,m){Ai("NgControlFlow");let g=ye(),y=ht(),I=c!==void 0,D=ye(),k=a?s.bind(D[Zn][gn]):s,P=new G_(I,k);D[un+t]=P,up(g,y,t+1,e,n,i,r,yo(y.consts,o)),I&&up(g,y,t+2,c,u,d,f,yo(y.consts,m))}var W_=class extends $_{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-vn}at(e){return this.getLView(e)[gn].$implicit}attach(e,n){let i=n[dc];this.needsIndexUpdate||=e!==this.length,Pu(this.lContainer,n,e,mc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,zz(this.lContainer,e)}create(e,n){let i=gc(this.lContainer,this.templateTNode.tView.ssrId),r=ku(this.hostLView,this.templateTNode,new q_(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Pp(e[Ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[gn].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gn].$index=e}getLView(e){return $z(this.lContainer,e)}};function qM(t){let e=je(null),n=kr();try{let i=ye(),r=i[Ce],o=i[n],s=n+1,a=fp(i,s);if(o.liveCollection===void 0){let u=K_(r,s);o.liveCollection=new W_(a,i,u)}else o.liveCollection.reset();let c=o.liveCollection;if(Uz(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=Io(),d=c.length===0;if(Xn(i,u,d)){let f=n+2,m=fp(i,f);if(d){let g=K_(r,f),y=gc(m,g.tView.ssrId),I=ku(i,g,void 0,{dehydratedView:y});Pu(m,I,0,mc(g,y))}else cM(m,0)}}}finally{je(e)}}function fp(t,e){return t[e]}function zz(t,e){return Iu(t,e)}function $z(t,e){return aM(t,e)}function K_(t,e){return mb(t,e)}function Hz(t,e,n,i,r,o){let s=e.consts,a=yo(s,r),c=xc(e,t,2,i,a);return Lb(e,n,c,yo(s,o)),c.attrs!==null&&op(c,c.attrs,!1),c.mergedAttrs!==null&&op(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ve(t,e,n,i){let r=ye(),o=ht(),s=un+t,a=r[wt],c=o.firstCreatePass?Hz(s,o,r,e,n,i):o.data[s],u=qz(o,r,c,a,e,t);r[s]=u;let d=Dp(c);return zs(c,!0),GA(a,u,c),!vz(c)&&Sp()&&Op(o,r,u,c),n2()===0&&_o(u,r),i2(),d&&(Pb(o,r,c),kb(o,c,r)),i!==null&&Ob(r,c),ve}function Se(){let t=nn();vb()?yb():(t=t.parent,zs(t,!1));let e=t;o2(e)&&s2(),r2();let n=ht();return n.firstCreatePass&&(Mp(n,t),pb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&w2(e)&&z_(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&E2(e)&&z_(n,e,ye(),e.stylesWithoutHost,!1),Se}function ut(t,e,n,i){return ve(t,e,n,i),Se(),ut}var qz=(t,e,n,i,r,o)=>(Ap(!0),FA(i,r,v2()));function Gz(t,e,n,i,r){let o=e.consts,s=yo(o,i),a=xc(e,t,8,"ng-container",s);s!==null&&op(a,s,!0);let c=yo(o,r);return Lb(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function GM(t,e,n){let i=ye(),r=ht(),o=t+un,s=r.firstCreatePass?Gz(o,r,i,e,n):r.data[o];zs(s,!0);let a=Kz(r,i,s,t);return i[o]=a,Sp()&&Op(r,i,a,s),_o(a,i),Dp(s)&&(Pb(r,i,s),kb(r,s,i)),n!=null&&Ob(i,s),GM}function WM(){let t=nn(),e=ht();return vb()?yb():(t=t.parent,zs(t,!1)),e.firstCreatePass&&(Mp(e,t),pb(t)&&e.queries.elementEnd(t)),WM}function Wz(t,e,n){return GM(t,e,n),WM(),Wz}var Kz=(t,e,n,i)=>(Ap(!0),CB(e[wt],""));function Mi(){return ye()}function Tc(t,e,n){let i=ye(),r=Io();if(Xn(i,r,e)){let o=ht(),s=Ic();Nu(o,s,i,t,e,i[wt],n,!0)}return Tc}function Qz(t,e,n){let i=ye(),r=Io();if(Xn(i,r,e)){let o=ht(),s=Ic(),a=bb(o.data),c=rM(a,s,i);Nu(o,s,i,t,e,c,n,!0)}return Qz}var pp="en-US";var Yz=pp;function Zz(t){typeof t=="string"&&(Yz=t.toLowerCase().replace(/_/g,"-"))}var Xz=(t,e,n)=>{};function mt(t,e,n,i){let r=ye(),o=ht(),s=nn();return Kb(o,r,r[wt],s,t,e,i),mt}function Jz(t,e){let n=nn(),i=ye(),r=ht(),o=bb(r.data),s=rM(o,n,i);return Kb(r,i,s,n,t,e),Jz}function e$(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Wf],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Kb(t,e,n,i,r,o,s){let a=Dp(i),u=t.firstCreatePass&&iM(t),d=e[gn],f=nM(e),m=!0;if(i.type&3||s){let I=ui(i,e),D=s?s(I):I,k=f.length,P=s?K=>s(Yi(K[i.index])):i.index,V=null;if(!s&&a&&(V=e$(t,e,r,i.index)),V!==null){let K=V.__ngLastListenerFn__||V;K.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,m=!1}else{o=ZT(i,e,d,o),Xz(I,r,o);let K=n.listen(D,r,o);f.push(o,K),u&&u.push(r,P,k,k+1)}}else o=ZT(i,e,d,o);let g=i.outputs,y;if(m&&g!==null&&(y=g[r])){let I=y.length;if(I)for(let D=0;D<I;D+=2){let k=y[D],P=y[D+1],ce=e[k][P].subscribe(o),ie=f.length;f.push(o,ce),u&&u.push(r,i.index,ie,-(ie+1))}}}function YT(t,e,n,i){let r=je(null);try{return Gi(6,e,n),n(i)!==!1}catch(o){return oM(t,o),!1}finally{Gi(7,e,n),je(r)}}function ZT(t,e,n,i){return function r(o){if(o===Function)return i;let s=t.componentOffset>-1?Eo(t.index,e):e;Bb(s,5);let a=YT(e,n,i,o),c=r.__ngNextListenerFn__;for(;c;)a=YT(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function tt(t=1){return m2(t)}function t$(t,e){let n=null,i=Cj(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?_S(t,o,!0):Sj(i,o))return r}return n}function hi(t){let e=ye()[Zn][zn];if(!e.projection){let n=t?t.length:1,i=e.projection=gj(n,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?t$(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Dt(t,e=0,n,i,r,o){let s=ye(),a=ht(),c=i?t+1:null;c!==null&&up(s,a,c,i,r,o,null,n);let u=xc(a,un+t,16,null,n||null);u.projection===null&&(u.projection=e),yb();let f=!s[dc]||HS();s[Zn][zn].projection[u.projection]===null&&c!==null?n$(s,a,c):f&&(u.flags&32)!==32&&LB(a,s,u)}function n$(t,e,n){let i=un+n,r=e.data[i],o=t[i],s=gc(o,r.tView.ssrId),a=ku(t,r,void 0,{dehydratedView:s});Pu(o,a,0,mc(r,s))}function i$(t,e,n){return KM(t,"",e,"",n),i$}function KM(t,e,n,i,r){let o=ye(),s=qb(o,e,n,i);if(s!==$n){let a=ht(),c=Ic();Nu(a,c,o,t,s,o[wt],r,!1)}return KM}function Ri(t,e,n,i){wM(t,e,n,i)}function hn(t,e,n){ez(t,e,n)}function gt(t){let e=ye(),n=ht(),i=wb();Tp(i+1);let r=$b(n,i);if(t.dirty&&Xj(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=IM(e,i);t.reset(o,pA),t.notifyOnChanges()}return!0}return!1}function vt(){return zb(ye(),wb())}function QM(t,e,n,i,r){sz(e,wM(t,n,i,r))}function YM(t=1){Tp(wb()+t)}function r$(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function qs(t){let e=c2();return VS(e,un+t)}function Hn(t,e=""){let n=ye(),i=ht(),r=t+un,o=i.firstCreatePass?xc(i,r,1,e,null):i.data[r],s=o$(i,n,o,e,t);n[r]=s,Sp()&&Op(i,n,s,o),zs(o,!1)}var o$=(t,e,n,i,r)=>(Ap(!0),IB(e[wt],i));function nr(t){return xo("",t,""),nr}function xo(t,e,n){let i=ye(),r=qb(i,t,e,n);return r!==$n&&sM(i,kr(),r),xo}function s$(t,e,n,i,r){let o=ye(),s=Ez(o,t,e,n,i,r);return s!==$n&&sM(o,kr(),s),s$}function a$(t,e,n){DM(e)&&(e=e());let i=ye(),r=Io();if(Xn(i,r,e)){let o=ht(),s=Ic();Nu(o,s,i,t,e,i[wt],n,!1)}return a$}function mee(t,e){let n=DM(t);return n&&t.set(e),n}function c$(t,e){let n=ye(),i=ht(),r=nn();return Kb(i,n,n[wt],r,t,e),c$}function l$(t,e,n){let i=ht();if(i.firstCreatePass){let r=Ar(t);Q_(n,i.data,i.blueprint,r,!0),Q_(e,i.data,i.blueprint,r,!1)}}function Q_(t,e,n,i,r){if(t=cn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Q_(t[o],e,n,i,r);else{let o=ht(),s=ye(),a=nn(),c=uc(t)?t:cn(t.provide),u=AS(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(uc(t)||!t.multi){let g=new Ls(u,r,B),y=Wy(c,e,r?d:d+m,f);y===-1?(c_(Jf(a,s),o,c),Gy(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[y]=g,s[y]=g)}else{let g=Wy(c,e,d+m,f),y=Wy(c,e,d,d+m),I=g>=0&&n[g],D=y>=0&&n[y];if(r&&!D||!r&&!I){c_(Jf(a,s),o,c);let k=h$(r?d$:u$,n.length,r,i,u);!r&&D&&(n[y].providerFactory=k),Gy(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=ZM(n[r?y:g],u,!r&&i);Gy(o,t,g>-1?g:y,k)}!r&&i&&D&&n[y].componentProviders++}}}function Gy(t,e,n,i){let r=uc(e),o=jj(e);if(r||o){let c=(o?cn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[i,c]):u[d+1].push(i,c)}else u.push(n,c)}}}function ZM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wy(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function u$(t,e,n,i){return Y_(this.multi,[])}function d$(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Vs(n,n[Ce],this.providerFactory.index,i);o=a.slice(0,s),Y_(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Y_(r,o);return o}function Y_(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function h$(t,e,n,i,r){let o=new Ls(t,n,B);return o.multi=[],o.index=e,o.componentProviders=0,ZM(o,r,i&&!n),o}function zt(t,e=[]){return n=>{n.providersResolver=(i,r)=>l$(i,r?r(t):t,e)}}var f$=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=xS(!1,i.type),o=r.length>0?zp([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(A(ln))});let t=e;return t})();function Xt(t){Ai("NgStandalone"),t.getStandaloneInjector=e=>e.get(f$).getOrCreateStandaloneInjector(t)}function gee(t,e,n){let i=Su()+t,r=ye();return r[i]===$n?$p(r,i,n?e.call(n):e()):AM(r,i)}function vee(t,e,n,i){return JM(ye(),Su(),t,e,n,i)}function yee(t,e,n,i,r){return p$(ye(),Su(),t,e,n,i,r)}function _ee(t,e,n,i,r,o,s,a,c,u,d){let f=Su()+t,m=ye(),g=qT(m,f,n,i,r,o);return qT(m,f+4,s,a,c,u)||g?$p(m,f+8,d?e.call(d,n,i,r,o,s,a,c,u):e(n,i,r,o,s,a,c,u)):AM(m,f+8)}function XM(t,e){let n=t[e];return n===$n?void 0:n}function JM(t,e,n,i,r,o){let s=e+n;return Xn(t,s,r)?$p(t,s+1,o?i.call(o,r):i(r)):XM(t,s+1)}function p$(t,e,n,i,r,o,s){let a=e+n;return lp(t,a,r,o)?$p(t,a+2,s?i.call(s,r,o):i(r,o)):XM(t,a+2)}function bee(t,e){let n=ht(),i,r=t+un;n.firstCreatePass?(i=m$(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Ns(i.type,!0)),s,a=Un(B);try{let c=Xf(!1),u=o();return Xf(c),r$(n,ye(),r,u),u}finally{Un(a)}}function m$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function wee(t,e,n){let i=t+un,r=ye(),o=VS(r,i);return g$(r,i)?JM(r,Su(),e,o.transform,n,o):o.transform(n)}function g$(t,e){return t[Ce].data[e].pure}function eR(t,e){return Bp(t,e)}var Rr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var Hp=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tR=new $("");function To(t){return!!t&&typeof t.then=="function"}function Qb(t){return!!t&&typeof t.subscribe=="function"}var qp=new $(""),nR=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=j(qp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(To(s))i.push(s);else if(Qb(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fu=new $("");function v$(){Fx(()=>{throw new ae(600,!1)})}function y$(t){return t.isBoundToModule}var _$=10;function b$(t,e,n){try{let i=n();return To(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var ir=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(U2),this.afterRenderManager=j(MM),this.zonelessEnabled=j(Ub),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=j(Pr).hasPendingTasks.pipe(ee(i=>!i)),this._injector=j(ln)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof rp;if(!this._injector.get(nR).done){let g=!o&&ES(i),y=!1;throw new ae(405,y)}let a;o?a=i:a=this._injector.get(Ji).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=y$(a)?void 0:this._injector.get(bo),u=r||a.selector,d=a.create(At.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(tR,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Uf(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ae(101,!1);let i=je(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,je(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(yc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<_$;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:s}of this._views)w$(o,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>Cp(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Uf(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(Fu,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Uf(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ae(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Uf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function w$(t,e,n,i){if(!n&&!Cp(t))return;dM(t,e,n&&!i?0:1)}var Z_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gp=(()=>{let e=class e{compileModuleSync(i){return new L_(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=IS(i),s=PA(o.declarations).reduce((a,c)=>{let u=Tr(c);return u&&a.push(new Bs(u)),a},[]);return new Z_(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E$=(()=>{let e=class e{constructor(){this.zone=j(te),this.changeDetectionScheduler=j(vc),this.applicationRef=j(ir)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I$=new $("",{factory:()=>!1});function iR({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te(Me(z({},rR()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:lc,multi:!0,useFactory:()=>{let i=j(E$,{optional:!0});return()=>i.initialize()}},{provide:lc,multi:!0,useFactory:()=>{let i=j(D$);return()=>{i.initialize()}}},e===!0?{provide:mM,useValue:!0}:[],{provide:gM,useValue:n??dA}]}function Eee(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,i=iR({ngZoneFactory:()=>{let r=rR(t);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Ai("NgZone_CoalesceEvent"),new te(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return wc([{provide:I$,useValue:!0},{provide:Ub,useValue:!1},i])}function rR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var D$=(()=>{let e=class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=j(te),this.pendingTasks=j(Pr)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var C$=(()=>{let e=class e{constructor(){this.appRef=j(ir),this.taskService=j(Pr),this.ngZone=j(te),this.zonelessEnabled=j(Ub),this.disableScheduling=j(mM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ze,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(gM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof f_||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?xT:hA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function x$(){return typeof $localize<"u"&&$localize.locale||pp}var Lu=new $("",{providedIn:"root",factory:()=>j(Lu,Ve.Optional|Ve.SkipSelf)||x$()});var oR=new $("");function Of(t){return!!t.platformInjector}function T$(t){let e=Of(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Of(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(Zi,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Of(t)){let o=()=>e.destroy(),s=t.platformInjector.get(oR);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Uf(t.allPlatformModules,t.moduleRef),r.unsubscribe()});return b$(i,n,()=>{let o=e.get(nR);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Lu,pp);if(Zz(s||pp),Of(t)){let a=e.get(ir);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return S$(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function S$(t,e){let n=t.injector.get(ir);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ae(-403,!1);e.push(t)}var zf=null;function A$(t=[],e){return At.create({name:e,providers:[{provide:bp,useValue:"platform"},{provide:oR,useValue:new Set([()=>zf=null])},...t]})}function M$(t=[]){if(zf)return zf;let e=A$(t);return zf=e,v$(),R$(e),e}function R$(t){t.get(Tb,null)?.forEach(n=>n())}function Yb(){return!1}var $t=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=N$;let t=e;return t})();function N$(t){return k$(nn(),ye(),(t&16)===16)}function k$(t,e,n){if(Ip(t)&&!n){let i=Eo(t.index,e);return new js(i,i)}else if(t.type&175){let i=e[Zn];return new js(i,e)}return null}var X_=class{constructor(){}supports(e){return SM(e)}create(e){return new J_(e)}},P$=(t,e)=>e,J_=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||P$}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<XT(i,r,o)?n:i,a=XT(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let u=a-r,d=c-r;if(u!=d){for(let m=0;m<u;m++){let g=m<o.length?o[m]:o[m]=0,y=g+m;d<=y&&y<u&&(o[m]=g+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SM(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,gz(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new eb(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new mp),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new mp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},eb=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},tb=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},mp=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new tb,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function XT(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var nb=class{constructor(){}supports(e){return e instanceof Map||Hb(e)}create(){return new ib}},ib=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Hb(e)))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new rb(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},rb=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function JT(){return new Wp([new X_])}var Wp=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||JT()),deps:[[e,new bc,new wo]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new ae(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:JT});let t=e;return t})();function eS(){return new Zb([new nb])}var Zb=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||eS()),deps:[[e,new bc,new wo]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new ae(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:eS});let t=e;return t})();function sR(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=M$(i),o=[iR({}),{provide:vc,useExisting:C$},...n||[]],s=new cp({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return T$({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var aR=new $("");function Ge(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function rr(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function Lr(t,e){Ai("NgSignals");let n=py(t);return e?.equal&&(n[Kn].equal=e.equal),n}function qn(t){let e=je(null);try{return t()}finally{je(e)}}var O$=new $("",{providedIn:"root",factory:()=>j(F$)}),F$=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new ob});let t=e;return t})(),ob=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=j(Pr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},sb=class{constructor(e,n,i,r,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=i,this.injector=o,this.watcher=jx(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Zi,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Xb(t,e){Ai("NgSignals"),!e?.injector&&hb(Xb);let n=e?.injector??j(At),i=e?.manualCleanup!==!0?n.get(Rp):null,r=new sb(n.get(O$),t,typeof Zone>"u"?null:Zone.current,i,n,e?.allowSignalWrites??!1),o=n.get($t,null,{optional:!0});return!o||!(o._lView[be]&8)?r.watcher.notify():(o._lView[Lf]??=[]).push(r.watcher.notify),r}function Iee(t,e){let n=Tr(t),i=e.elementInjector||wp();return new Bs(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function cR(t){let e=Tr(t);if(!e)return null;let n=new Bs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var pR=null;function jr(){return pR}function mR(t){pR??=t}var Kp=class{};var Ee=new $(""),aw=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(V$),providedIn:"platform"});let t=e;return t})(),gR=new $(""),V$=(()=>{let e=class e extends aw{constructor(){super(),this._doc=j(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(i){let r=jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=jr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function lR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Vr(t){return t&&t[0]!=="?"?"?"+t:t}var Gs=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(lw),providedIn:"root"});let t=e;return t})(),vR=new $(""),lw=(()=>{let e=class e extends Gs{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return cw(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Vr(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Vr(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(aw),A(vR,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yR=(()=>{let e=class e extends Gs{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=cw(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Vr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Vr(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(A(aw),A(vR,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),So=(()=>{let e=class e{constructor(i){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=U$(lR(uR(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Vr(r))}normalize(i){return e.stripTrailingSlash(B$(this._basePath,uR(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vr(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Vr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Vr,e.joinWithSlash=cw,e.stripTrailingSlash=lR,e.\u0275fac=function(r){return new(r||e)(A(Gs))},e.\u0275prov=q({token:e,factory:()=>j$(),providedIn:"root"});let t=e;return t})();function j$(){return new So(A(Gs))}function B$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function uR(t){return t.replace(/\/index.html$/,"")}function U$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Qp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ew=/\s+/,dR=[],Yp=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=dR,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(ew):dR}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(ew):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(ew).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(B(we),B(Co))},e.\u0275dir=ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var tw=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qee=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new tw(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),hR(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);hR(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(En),B(Ti),B(Wp))},e.\u0275dir=ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function hR(t,e){t.context.$implicit=e.item}var Gee=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new nw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){fR("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){fR("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(B(En),B(Ti))},e.\u0275dir=ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),nw=class{constructor(){this.$implicit=null,this.ngIf=null}};function fR(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rn(e)}'.`)}var Wee=(()=>{let e=class e{constructor(i,r,o){this._ngEl=i,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[o,s]=i.split("."),a=o.indexOf("-")===-1?void 0:Xi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(B(we),B(Zb),B(Co))},e.\u0275dir=ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),_R=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(i,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(B(En))},e.\u0275dir=ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_n]});let t=e;return t})();function z$(t,e){return new ae(2100,!1)}var iw=class{createSubscription(e,n){return qn(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){qn(()=>e.unsubscribe())}},rw=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},$$=new rw,H$=new iw,Kee=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(To(i))return $$;if(Qb(i))return H$;throw z$(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(B($t,16))},e.\u0275pipe=bS({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ws=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})(),uw="browser",q$="server";function dw(t){return t===uw}function Ao(t){return t===q$}var bR=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>dw(j(dn))?new ow(j(Ee),window):new sw});let t=e;return t})(),ow=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=G$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function G$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var sw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Sc=class{};var ju=class{},Xp=class{},Br=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var fw=class{encodeKey(e){return ER(e)}encodeValue(e){return ER(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function W$(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var K$=/%(\d[a-f0-9])/gi,Q$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ER(t){return encodeURIComponent(t).replace(K$,(e,n)=>Q$[n]??e)}function Zp(t){return`${t}`}var Ro=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new fw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=W$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Zp):[Zp(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Zp(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var pw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Y$(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function IR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function DR(t){return typeof Blob<"u"&&t instanceof Blob}function CR(t){return typeof FormData<"u"&&t instanceof FormData}function Z$(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Vu=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Y$(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Br,this.context??=new pw,!this.params)this.params=new Ro,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||IR(this.body)||DR(this.body)||CR(this.body)||Z$(this.body)?this.body:this.body instanceof Ro?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CR(this.body)?null:DR(this.body)?this.body.type||null:IR(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ro?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new t(n,i,s,{params:d,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},No=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(No||{}),Bu=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Br,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jp=class t extends Bu{constructor(e={}){super(e),this.type=No.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Uu=class t extends Bu{constructor(e={}){super(e),this.type=No.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mo=class extends Bu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},AR=200,X$=204;function hw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var J$=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Vu)s=i;else{let u;o.headers instanceof Br?u=o.headers:u=new Br(o.headers);let d;o.params&&(o.params instanceof Ro?d=o.params:d=new Ro({fromObject:o.params})),s=new Vu(i,r,o.body!==void 0?o.body:null,{headers:u,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=le(s).pipe(Cr(u=>this.handler.handle(u)));if(i instanceof Vu||o.observe==="events")return a;let c=a.pipe(Ke(u=>u instanceof Uu));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(ee(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ro().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,hw(o,r))}post(i,r,o={}){return this.request("POST",i,hw(o,r))}put(i,r,o={}){return this.request("PUT",i,hw(o,r))}};e.\u0275fac=function(r){return new(r||e)(A(ju))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),e4=/^\)\]\}',?\n/,t4="X-Request-URL";function xR(t){if(t.url)return t.url;let e=t4.toLocaleLowerCase();return t.headers.get(e)}var n4=(()=>{let e=class e{constructor(){this.fetchImpl=j(mw,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=j(te)}handle(i){return new pe(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(gw,s=>r.error(new Mo({error:s}))),()=>o.abort()})}doRequest(i,r,o){return L(this,null,function*(){let s=this.createRequestInit(i),a;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,z({signal:r},s)));i4(y),o.next({type:No.Sent}),a=yield y}catch(y){o.error(new Mo({error:y,status:y.status??0,statusText:y.statusText,url:i.urlWithParams,headers:y.headers}));return}let c=new Br(a.headers),u=a.statusText,d=xR(a)??i.urlWithParams,f=a.status,m=null;if(i.reportProgress&&o.next(new Jp({headers:c,status:f,statusText:u,url:d})),a.body){let y=a.headers.get("content-length"),I=[],D=a.body.getReader(),k=0,P,V,K=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>L(this,null,function*(){for(;;){let{done:ie,value:E}=yield D.read();if(ie)break;if(I.push(E),k+=E.length,i.reportProgress){V=i.responseType==="text"?(V??"")+(P??=new TextDecoder).decode(E,{stream:!0}):void 0;let _=()=>o.next({type:No.DownloadProgress,total:y?+y:void 0,loaded:k,partialText:V});K?K.run(_):_()}}}));let ce=this.concatChunks(I,k);try{let ie=a.headers.get("Content-Type")??"";m=this.parseBody(i,ce,ie)}catch(ie){o.error(new Mo({error:ie,headers:new Br(a.headers),status:a.status,statusText:a.statusText,url:xR(a)??i.urlWithParams}));return}}f===0&&(f=m?AR:0),f>=200&&f<300?(o.next(new Uu({body:m,headers:c,status:f,statusText:u,url:d})),o.complete()):o.error(new Mo({error:m,headers:c,status:f,statusText:u,url:d}))})}parseBody(i,r,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(r).replace(e4,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,a)=>r[s]=a.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let s=i.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),s=0;for(let a of i)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),mw=class{};function gw(){}function i4(t){t.then(gw,gw)}function r4(t,e){return e(t)}function o4(t,e,n){return(i,r)=>li(n,()=>e(i,o=>t(o,r)))}var MR=new $(""),s4=new $(""),a4=new $("",{providedIn:"root",factory:()=>!0});var TR=(()=>{let e=class e extends ju{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=j(Pr),this.contributeToStability=j(a4)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(MR),...this.injector.get(s4,[])]));this.chain=r.reduceRight((o,s)=>o4(o,s,this.injector),r4)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Cs(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(A(Xp),A(ln))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();var c4=/^\)\]\}',?\n/;function l4(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var SR=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ae(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ue(r.\u0275loadImpl()):le(null)).pipe(et(()=>new pe(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((D,k)=>a.setRequestHeader(D,k.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let D=i.detectContentTypeHeader();D!==null&&a.setRequestHeader("Content-Type",D)}if(i.responseType){let D=i.responseType.toLowerCase();a.responseType=D!=="json"?D:"text"}let c=i.serializeBody(),u=null,d=()=>{if(u!==null)return u;let D=a.statusText||"OK",k=new Br(a.getAllResponseHeaders()),P=l4(a)||i.url;return u=new Jp({headers:k,status:a.status,statusText:D,url:P}),u},f=()=>{let{headers:D,status:k,statusText:P,url:V}=d(),K=null;k!==X$&&(K=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=K?AR:0);let ce=k>=200&&k<300;if(i.responseType==="json"&&typeof K=="string"){let ie=K;K=K.replace(c4,"");try{K=K!==""?JSON.parse(K):null}catch(E){K=ie,ce&&(ce=!1,K={error:E,text:K})}}ce?(s.next(new Uu({body:K,headers:D,status:k,statusText:P,url:V||void 0})),s.complete()):s.error(new Mo({error:K,headers:D,status:k,statusText:P,url:V||void 0}))},m=D=>{let{url:k}=d(),P=new Mo({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});s.error(P)},g=!1,y=D=>{g||(s.next(d()),g=!0);let k={type:No.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),i.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),s.next(k)},I=D=>{let k={type:No.UploadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),s.next(k)};return a.addEventListener("load",f),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),i.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(c),s.next({type:No.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",f),a.removeEventListener("timeout",m),i.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(A(Sc))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),RR=new $(""),u4="XSRF-TOKEN",d4=new $("",{providedIn:"root",factory:()=>u4}),h4="X-XSRF-TOKEN",f4=new $("",{providedIn:"root",factory:()=>h4}),em=class{},p4=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qp(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(dn),A(d4))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function m4(t,e){let n=t.url.toLowerCase();if(!j(RR)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=j(em).getToken(),r=j(f4);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function cte(...t){let e=[J$,SR,TR,{provide:ju,useExisting:TR},{provide:Xp,useFactory:()=>j(n4,{optional:!0})??j(SR)},{provide:MR,useValue:m4,multi:!0},{provide:RR,useValue:!0},{provide:em,useClass:p4}];for(let n of t)e.push(...n.\u0275providers);return wc(e)}var _w=class extends Kp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bw=class t extends _w{static makeCurrent(){mR(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=g4();return n==null?null:v4(n)}resetBaseElement(){zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qp(document.cookie,e)}},zu=null;function g4(){return zu=zu||document.querySelector("base"),zu?zu.getAttribute("href"):null}function v4(t){return new URL(t,document.baseURI).pathname}var y4=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),tm=new $(""),OR=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(A(tm),A(te))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),$u=class{constructor(e){this._doc=e}},vw="ng-app-id",FR=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ao(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${vw}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(vw),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(vw,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(Au),A(Mu,8),A(dn))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),yw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ew=/%COMP%/g,LR="%COMP%",_4=`_nghost-${LR}`,b4=`_ngcontent-${LR}`,w4=!0,E4=new $("",{providedIn:"root",factory:()=>w4});function I4(t){return b4.replace(Ew,t)}function D4(t){return _4.replace(Ew,t)}function VR(t,e){return e.map(n=>n.replace(Ew,t))}var NR=(()=>{let e=class e{constructor(i,r,o,s,a,c,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ao(c),this.defaultRenderer=new Hu(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ki.ShadowDom&&(r=Me(z({},r),{encapsulation:Ki.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof nm?o.applyToHost(i):o instanceof qu&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Ki.Emulated:s=new nm(u,d,r,this.appId,f,a,c,m);break;case Ki.ShadowDom:return new ww(u,d,i,r,a,c,this.nonce,m);default:s=new qu(u,d,r,f,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(A(OR),A(FR),A(Au),A(E4),A(Ee),A(dn),A(te),A(Mu))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Hu=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(yw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kR(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(kR(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ae(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=yw[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=yw[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Xi.DashCase|Xi.Important)?e.style.setProperty(n,i,r&Xi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Xi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=jr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function kR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ww=class extends Hu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=VR(r.id,r.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qu=class extends Hu{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?VR(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nm=class extends qu{constructor(e,n,i,r,o,s,a,c){let u=r+"-"+i.id;super(e,n,i,o,s,a,c,u),this.contentAttr=I4(u),this.hostAttr=D4(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},C4=(()=>{let e=class e extends $u{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),x4=(()=>{let e=class e extends $u{constructor(i){super(i),this.delegate=j(aR,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),PR=["alt","control","meta","shift"],T4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},A4=(()=>{let e=class e extends $u{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),PR.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let o=T4[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),PR.forEach(a=>{if(a!==o){let c=S4[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function Ste(t,e){return sR(z({rootComponent:t},M4(e)))}function M4(t){return{appProviders:[...O4,...t?.providers??[]],platformProviders:P4}}function R4(){bw.makeCurrent()}function N4(){return new Zi}function k4(){return bA(document),document}var P4=[{provide:dn,useValue:uw},{provide:Tb,useValue:R4,multi:!0},{provide:Ee,useFactory:k4,deps:[]}];var O4=[{provide:bp,useValue:"root"},{provide:Zi,useFactory:N4,deps:[]},{provide:tm,useClass:C4,multi:!0,deps:[Ee,te,dn]},{provide:tm,useClass:A4,multi:!0,deps:[Ee]},{provide:tm,useClass:x4,multi:!0},NR,FR,OR,{provide:yc,useExisting:NR},{provide:Sc,useClass:y4,deps:[]},[]];var jR=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=A(L4),o},providedIn:"root"});let t=e;return t})(),L4=(()=>{let e=class e extends F4{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case tr.NONE:return r;case tr.HTML:return Do(r,"HTML")?Si(r):Ab(this._doc,String(r)).toString();case tr.STYLE:return Do(r,"Style")?Si(r):r;case tr.SCRIPT:if(Do(r,"Script"))return Si(r);throw new ae(5200,!1);case tr.URL:return Do(r,"URL")?Si(r):kp(String(r));case tr.RESOURCE_URL:if(Do(r,"ResourceURL"))return Si(r);throw new ae(5201,!1);default:throw new ae(5202,!1)}}bypassSecurityTrustHtml(i){return IA(i)}bypassSecurityTrustStyle(i){return DA(i)}bypassSecurityTrustScript(i){return CA(i)}bypassSecurityTrustUrl(i){return xA(i)}bypassSecurityTrustResourceUrl(i){return TA(i)}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pe="primary",ad=Symbol("RouteTitle"),Tw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Pc(t){return new Tw(t)}function j4(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function B4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!or(t[n],e[n]))return!1;return!0}function or(t,e){let n=t?Sw(t):void 0,i=e?Sw(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!YR(t[r],e[r]))return!1;return!0}function Sw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function ZR(t){return t.length>0?t[t.length-1]:null}function Oo(t){return Xa(t)?t:To(t)?Ue(Promise.resolve(t)):le(t)}var U4={exact:JR,subset:eN},XR={exact:z4,subset:$4,ignored:()=>!0};function BR(t,e,n){return U4[n.paths](t.root,e.root,n.matrixParams)&&XR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function z4(t,e){return or(t,e)}function JR(t,e,n){if(!Qs(t.segments,e.segments)||!om(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!JR(t.children[i],e.children[i],n))return!1;return!0}function $4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>YR(t[n],e[n]))}function eN(t,e,n){return tN(t,e,e.segments,n)}function tN(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Qs(r,n)||e.hasChildren()||!om(r,n,i))}else if(t.segments.length===n.length){if(!Qs(t.segments,n)||!om(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!eN(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qs(t.segments,r)||!om(t.segments,r,i)||!t.children[Pe]?!1:tN(t.children[Pe],e,o,i)}}function om(t,e,n){return e.every((i,r)=>XR[n](t[r].parameters,i.parameters))}var zr=class{constructor(e=new Ye([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){return G4.serialize(this)}},Ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sm(this)}},Ks=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Pc(this.parameters),this._parameterMap}toString(){return iN(this)}};function H4(t,e){return Qs(t,e)&&t.every((n,i)=>or(n.parameters,e[i].parameters))}function Qs(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function q4(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Pe&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Pe&&(n=n.concat(e(r,i)))}),n}var cd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>new Oc,providedIn:"root"});let t=e;return t})(),Oc=class{parse(e){let n=new Mw(e);return new zr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Gu(e.root,!0)}`,i=Q4(e.queryParams),r=typeof e.fragment=="string"?`#${W4(e.fragment)}`:"";return`${n}${i}${r}`}},G4=new Oc;function sm(t){return t.segments.map(e=>iN(e)).join("/")}function Gu(t,e){if(!t.hasChildren())return sm(t);if(e){let n=t.children[Pe]?Gu(t.children[Pe],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Pe&&i.push(`${r}:${Gu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=q4(t,(i,r)=>r===Pe?[Gu(t.children[Pe],!1)]:[`${r}:${Gu(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Pe]!=null?`${sm(t)}/${n[0]}`:`${sm(t)}/(${n.join("//")})`}}function nN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function im(t){return nN(t).replace(/%3B/gi,";")}function W4(t){return encodeURI(t)}function Aw(t){return nN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function am(t){return decodeURIComponent(t)}function UR(t){return am(t.replace(/\+/g,"%20"))}function iN(t){return`${Aw(t.path)}${K4(t.parameters)}`}function K4(t){return Object.entries(t).map(([e,n])=>`;${Aw(e)}=${Aw(n)}`).join("")}function Q4(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${im(n)}=${im(r)}`).join("&"):`${im(n)}=${im(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Y4=/^[^\/()?;#]+/;function Iw(t){let e=t.match(Y4);return e?e[0]:""}var Z4=/^[^\/()?;=#]+/;function X4(t){let e=t.match(Z4);return e?e[0]:""}var J4=/^[^=?&#]+/;function eH(t){let e=t.match(J4);return e?e[0]:""}var tH=/^[^&#]+/;function nH(t){let e=t.match(tH);return e?e[0]:""}var Mw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Pe]=new Ye(e,n)),i}parseSegment(){let e=Iw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new Ks(am(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=X4(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Iw(this.remaining);r&&(i=r,this.capture(i))}e[am(n)]=am(i)}parseQueryParam(e){let n=eH(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=nH(this.remaining);s&&(i=s,this.capture(i))}let r=UR(n),o=UR(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Iw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ae(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Pe]:new Ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function rN(t){return t.segments.length>0?new Ye([],{[Pe]:t}):t}function oN(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=oN(r);if(i===Pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ye(t.segments,e);return iH(n)}function iH(t){if(t.numberOfChildren===1&&t.children[Pe]){let e=t.children[Pe];return new Ye(t.segments.concat(e.segments),e.children)}return t}function Xu(t){return t instanceof zr}function rH(t,e,n=null,i=null){let r=sN(t);return aN(r,e,n,i)}function sN(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new Ye(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=rN(i);return e??r}function aN(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Dw(r,r,r,n,i);let o=oH(e);if(o.toRoot())return Dw(r,r,new Ye([],{}),n,i);let s=sH(o,r,t),a=s.processChildren?Qu(s.segmentGroup,s.index,o.commands):lN(s.segmentGroup,s.index,o.commands);return Dw(r,s.segmentGroup,a,n,i)}function cm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ju(t){return typeof t=="object"&&t!=null&&t.outlets}function Dw(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;t===e?s=n:s=cN(t,e,n);let a=rN(oN(s));return new zr(a,o,r)}function cN(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=cN(o,e,n)}),new Ye(t.segments,i)}var lm=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&cm(i[0]))throw new ae(4003,!1);let r=i.find(Ju);if(r&&r!==ZR(i))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new lm(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new lm(n,e,i)}var Rc=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function sH(t,e,n){if(t.isAbsolute)return new Rc(e,!0,0);if(!n)return new Rc(e,!1,NaN);if(n.parent===null)return new Rc(n,!0,0);let i=cm(t.commands[0])?0:1,r=n.segments.length-1+i;return aH(n,r,t.numberOfDoubleDots)}function aH(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ae(4005,!1);r=i.segments.length}return new Rc(i,!1,r-o)}function cH(t){return Ju(t[0])?t[0].outlets:{[Pe]:t}}function lN(t,e,n){if(t??=new Ye([],{}),t.segments.length===0&&t.hasChildren())return Qu(t,e,n);let i=lH(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ye(t.segments.slice(0,i.pathIndex),{});return o.children[Pe]=new Ye(t.segments.slice(i.pathIndex),t.children),Qu(o,0,r)}else return i.match&&r.length===0?new Ye(t.segments,{}):i.match&&!t.hasChildren()?Rw(t,e,n):i.match?Qu(t,0,r):Rw(t,e,n)}function Qu(t,e,n){if(n.length===0)return new Ye(t.segments,{});{let i=cH(n),r={};if(Object.keys(i).some(o=>o!==Pe)&&t.children[Pe]&&t.numberOfChildren===1&&t.children[Pe].segments.length===0){let o=Qu(t.children[Pe],e,n);return new Ye(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=lN(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ye(t.segments,r)}}function lH(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(Ju(a))break;let c=`${a}`,u=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!$R(c,u,s))return o;i+=2}else{if(!$R(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Rw(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(Ju(o)){let c=uH(o.outlets);return new Ye(i,c)}if(r===0&&cm(n[0])){let c=t.segments[e];i.push(new Ks(c.path,zR(n[0]))),r++;continue}let s=Ju(o)?o.outlets[Pe]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&cm(a)?(i.push(new Ks(s,zR(a))),r+=2):(i.push(new Ks(s,{})),r++)}return new Ye(i,{})}function uH(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Rw(new Ye([],{}),0,i))}),e}function zR(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function $R(t,e,n){return t==n.path&&or(e,n.parameters)}var Yu="imperative",rn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(rn||{}),fi=class{constructor(e,n){this.id=e,this.url=n}},Fc=class extends fi{constructor(e,n,i="imperative",r=null){super(e,n),this.type=rn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$r=class extends fi{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=rn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ni=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ni||{}),um=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(um||{}),Ur=class extends fi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=rn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ko=class extends fi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=rn.NavigationSkipped}},ed=class extends fi{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=rn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dm=class extends fi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=rn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nw=class extends fi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=rn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kw=class extends fi{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=rn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pw=class extends fi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=rn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ow=class extends fi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=rn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fw=class{constructor(e){this.route=e,this.type=rn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lw=class{constructor(e){this.route=e,this.type=rn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vw=class{constructor(e){this.snapshot=e,this.type=rn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jw=class{constructor(e){this.snapshot=e,this.type=rn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bw=class{constructor(e){this.snapshot=e,this.type=rn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uw=class{constructor(e){this.snapshot=e,this.type=rn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=rn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},td=class{},Lc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dH(t,e){return t.providers&&!t._injector&&(t._injector=zp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ni(t){return t.outlet||Pe}function hH(t,e){let n=t.filter(i=>Ni(i)===e);return n.push(...t.filter(i=>Ni(i)!==e)),n}function ld(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zw=class{get injector(){return ld(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ud(this.rootInjector),this.attachRef=null}},ud=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new zw(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(A(ln))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$w(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=$w(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Hw(e,this._root).map(n=>n.value)}};function $w(t,e){if(t===e.value)return e;for(let n of e.children){let i=$w(t,n);if(i)return i}return null}function Hw(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Hw(t,n);if(i.length)return i.unshift(e),i}return[]}var ti=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var pm=class extends fm{constructor(e,n){super(e),this.snapshot=n,Jw(this,e)}toString(){return this.snapshot.toString()}};function uN(t){let e=fH(t),n=new Yt([new Ks("",{})]),i=new Yt({}),r=new Yt({}),o=new Yt({}),s=new Yt(""),a=new Ys(n,i,o,s,r,Pe,t,e.root);return a.snapshot=e.root,new pm(new ti(a,[]),e)}function fH(t){let e={},n={},i={},r="",o=new Nc([],e,i,r,n,Pe,t,null,{});return new gm("",new ti(o,[]))}var Ys=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[ad]))??le(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Pc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Pc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mm(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:z(z({},e.params),t.params),data:z(z({},e.data),t.data),resolve:z(z(z(z({},t.data),e.data),r?.data),t._resolvedData)}:i={params:z({},t.params),data:z({},t.data),resolve:z(z({},t.data),t._resolvedData??{})},r&&hN(r)&&(i.resolve[ad]=r.title),i}var Nc=class{get title(){return this.data?.[ad]}constructor(e,n,i,r,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gm=class extends fm{constructor(e,n){super(n),this.url=e,Jw(this,n)}toString(){return dN(this._root)}};function Jw(t,e){e.value._routerState=t,e.children.forEach(n=>Jw(t,n))}function dN(t){let e=t.children.length>0?` { ${t.children.map(dN).join(", ")} } `:"";return`${t.value}${e}`}function Cw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),or(e.params,n.params)||t.paramsSubject.next(n.params),B4(e.url,n.url)||t.urlSubject.next(n.url),or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qw(t,e){let n=or(t.params,e.params)&&H4(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||qw(t.parent,e.parent))}function hN(t){return typeof t.title=="string"||t.title===null}var pH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=j(ud),this.location=j(En),this.changeDetector=j($t),this.inputBinder=j(bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Gw(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_n]});let t=e;return t})(),Gw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Ys?this.route:e===ud?this.childContexts:this.parent.get(e,n)}},bm=new $(""),HR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Ir([r.queryParams,r.params,r.data]).pipe(et(([s,a,c],u)=>(c=z(z(z({},s),a),c),u===0?le(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=cR(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function mH(t,e,n){let i=nd(t,e._root,n?n._root:void 0);return new pm(i,e)}function nd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=gH(t,e,n);return new ti(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nd(t,a)),s}}let i=vH(e.value),r=e.children.map(o=>nd(t,o));return new ti(i,r)}}function gH(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return nd(t,i,r);return nd(t,i)})}function vH(t){return new Ys(new Yt(t.url),new Yt(t.params),new Yt(t.queryParams),new Yt(t.fragment),new Yt(t.data),t.outlet,t.component,t)}var id=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},fN="ngNavigationCancelingError";function vm(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Xu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=pN(!1,ni.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function pN(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[fN]=!0,n.cancellationCode=e,n}function yH(t){return mN(t)&&Xu(t.url)}function mN(t){return!!t&&t[fN]}var _H=(t,e,n,i)=>ee(r=>(new Ww(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Ww=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Cw(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Mc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Mc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Mc(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Uw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jw(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Cw(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ym=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},kc=class{constructor(e,n){this.component=e,this.route=n}};function bH(t,e,n){let i=t._root,r=e?e._root:null;return Wu(i,r,n,[i.value])}function wH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function jc(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!sS(t)?t:e.get(t):i}function Wu(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mc(e);return t.children.forEach(s=>{EH(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Zu(a,n.getContext(s),r)),r}function EH(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=IH(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ym(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wu(t,e,a?a.children:null,i,r):Wu(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new kc(a.outlet.component,s))}else s&&Zu(e,a,r),r.canActivateChecks.push(new ym(i)),o.component?Wu(t,null,a?a.children:null,i,r):Wu(t,null,n,i,r);return r}function IH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qs(t.url,e.url)||!or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qw(t,e)||!or(t.queryParams,e.queryParams);case"paramsChange":default:return!qw(t,e)}}function Zu(t,e,n){let i=Mc(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Zu(s,e.children.getContext(o),n):Zu(s,null,n):Zu(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new kc(e.outlet.component,r)):n.canDeactivateChecks.push(new kc(null,r)):n.canDeactivateChecks.push(new kc(null,r))}function dd(t){return typeof t=="function"}function DH(t){return typeof t=="boolean"}function CH(t){return t&&dd(t.canLoad)}function xH(t){return t&&dd(t.canActivate)}function TH(t){return t&&dd(t.canActivateChild)}function SH(t){return t&&dd(t.canDeactivate)}function AH(t){return t&&dd(t.canMatch)}function gN(t){return t instanceof Er||t?.name==="EmptyError"}var rm=Symbol("INITIAL_VALUE");function Vc(){return et(t=>Ir(t.map(e=>e.pipe(Bn(1),Yn(rm)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===rm)return rm;if(n===!1||MH(n))return n}return!0}),Ke(e=>e!==rm),Bn(1)))}function MH(t){return Xu(t)||t instanceof id}function RH(t,e){return Nt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?le(Me(z({},n),{guardsResult:!0})):NH(s,i,r,t).pipe(Nt(a=>a&&DH(a)?kH(i,o,t,e):le(a)),ee(a=>Me(z({},n),{guardsResult:a})))})}function NH(t,e,n,i){return Ue(t).pipe(Nt(r=>VH(r.component,r.route,n,e,i)),Qn(r=>r!==!0,!0))}function kH(t,e,n,i){return Ue(e).pipe(Cr(r=>uo(OH(r.route.parent,i),PH(r.route,i),LH(t,r.path,n),FH(t,r.route,n))),Qn(r=>r!==!0,!0))}function PH(t,e){return t!==null&&e&&e(new Bw(t)),le(!0)}function OH(t,e){return t!==null&&e&&e(new Vw(t)),le(!0)}function FH(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return le(!0);let r=i.map(o=>Ja(()=>{let s=ld(e)??n,a=jc(o,s),c=xH(a)?a.canActivate(e,t):li(s,()=>a(e,t));return Oo(c).pipe(Qn())}));return le(r).pipe(Vc())}function LH(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wH(s)).filter(s=>s!==null).map(s=>Ja(()=>{let a=s.guards.map(c=>{let u=ld(s.node)??n,d=jc(c,u),f=TH(d)?d.canActivateChild(i,t):li(u,()=>d(i,t));return Oo(f).pipe(Qn())});return le(a).pipe(Vc())}));return le(o).pipe(Vc())}function VH(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let c=ld(e)??r,u=jc(a,c),d=SH(u)?u.canDeactivate(t,e,n,i):li(c,()=>u(t,e,n,i));return Oo(d).pipe(Qn())});return le(s).pipe(Vc())}function jH(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return le(!0);let o=r.map(s=>{let a=jc(s,t),c=CH(a)?a.canLoad(e,n):li(t,()=>a(e,n));return Oo(c)});return le(o).pipe(Vc(),vN(i))}function vN(t){return du(kt(e=>{if(typeof e!="boolean")throw vm(t,e)}),ee(e=>e===!0))}function BH(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return le(!0);let o=r.map(s=>{let a=jc(s,t),c=AH(a)?a.canMatch(e,n):li(t,()=>a(e,n));return Oo(c)});return le(o).pipe(Vc(),vN(i))}var rd=class{constructor(e){this.segmentGroup=e||null}},od=class extends Error{constructor(e){super(),this.urlTree=e}};function Ac(t){return Za(new rd(t))}function UH(t){return Za(new ae(4e3,!1))}function zH(t){return Za(pN(!1,ni.GuardRejected))}var Kw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return le(i);if(r.numberOfChildren>1||!r.children[Pe])return UH(`${e.redirectTo}`);r=r.children[Pe]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:g,data:y,title:I}=r,D=li(o,()=>a({params:g,data:y,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:I}));if(D instanceof zr)throw new od(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new od(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new zr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ye(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new ae(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Qw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $H(t,e,n,i,r){let o=yN(t,e,n);return o.matched?(i=dH(e,i),BH(i,e,n,r).pipe(ee(s=>s===!0?o:z({},Qw)))):le(o)}function yN(t,e,n){if(e.path==="**")return HH(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?z({},Qw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||j4)(n,t,e);if(!r)return z({},Qw);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?z(z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function HH(t){return{matched:!0,parameters:t.length>0?ZR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qR(t,e,n,i){return n.length>0&&WH(t,n,i)?{segmentGroup:new Ye(e,GH(i,new Ye(n,t.children))),slicedSegments:[]}:n.length===0&&KH(t,n,i)?{segmentGroup:new Ye(t.segments,qH(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ye(t.segments,t.children),slicedSegments:n}}function qH(t,e,n,i){let r={};for(let o of n)if(wm(t,e,o)&&!i[Ni(o)]){let s=new Ye([],{});r[Ni(o)]=s}return z(z({},i),r)}function GH(t,e){let n={};n[Pe]=e;for(let i of t)if(i.path===""&&Ni(i)!==Pe){let r=new Ye([],{});n[Ni(i)]=r}return n}function WH(t,e,n){return n.some(i=>wm(t,e,i)&&Ni(i)!==Pe)}function KH(t,e,n){return n.some(i=>wm(t,e,i))}function wm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QH(t,e,n){return e.length===0&&!t.children[n]}var Yw=class{};function YH(t,e,n,i,r,o,s="emptyOnly"){return new Zw(t,e,n,i,r,s,o).recognize()}var ZH=31,Zw=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=qR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:n,rootSnapshot:i})=>{let r=new ti(i,n),o=new gm("",r),s=rH(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Nc([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Pe,n).pipe(ee(i=>({children:i,rootSnapshot:n})),Dr(i=>{if(i instanceof od)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof rd?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(ee(s=>s instanceof ti?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Ue(o).pipe(Cr(s=>{let a=i.children[s],c=hH(n,s);return this.processSegmentGroup(e,c,a,s,r)}),xs((s,a)=>(s.push(...a),s)),ho(null),Ry(),Nt(s=>{if(s===null)return Ac(i);let a=_N(s);return XH(a),le(a)}))}processSegment(e,n,i,r,o,s,a){return Ue(n).pipe(Cr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s,a).pipe(Dr(u=>{if(u instanceof rd)return le(null);throw u}))),Qn(c=>!!c),Dr(c=>{if(gN(c))return QH(i,r,o)?le(new Yw):Ac(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,c){return Ni(i)!==s&&(s===Pe||!wm(r,o,i))?Ac(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,c):Ac(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=yN(n,r,o);if(!c)return Ac(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZH&&(this.allowRedirects=!1));let g=new Nc(o,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,GR(r),Ni(r),r.component??r._loadedComponent??null,r,WR(r)),y=mm(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let I=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(r,I).pipe(Nt(D=>this.processSegment(e,i,n,D.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=$H(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(et(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(et(({routes:u})=>{let d=i._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=c,y=new Nc(m,f,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,GR(i),Ni(i),i.component??i._loadedComponent??null,i,WR(i)),I=mm(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data);let{segmentGroup:D,slicedSegments:k}=qR(n,m,g,u);if(k.length===0&&D.hasChildren())return this.processChildren(d,u,D,y).pipe(ee(V=>new ti(y,V)));if(u.length===0&&k.length===0)return le(new ti(y,[]));let P=Ni(i)===o;return this.processSegment(d,u,D,k,P?Pe:o,!0,y).pipe(ee(V=>new ti(y,V instanceof ti?[V]:[])))}))):Ac(n)))}getChildConfig(e,n,i){return n.children?le({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?le({routes:n._loadedRoutes,injector:n._loadedInjector}):jH(e,n,i,this.urlSerializer).pipe(Nt(r=>r?this.configLoader.loadChildren(e,n).pipe(kt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zH(n))):le({routes:[],injector:e})}};function XH(t){t.sort((e,n)=>e.value.outlet===Pe?-1:n.value.outlet===Pe?1:e.value.outlet.localeCompare(n.value.outlet))}function JH(t){let e=t.value.routeConfig;return e&&e.path===""}function _N(t){let e=[],n=new Set;for(let i of t){if(!JH(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=_N(i.children);e.push(new ti(i.value,r))}return e.filter(i=>!n.has(i))}function GR(t){return t.data||{}}function WR(t){return t.resolve||{}}function eq(t,e,n,i,r,o){return Nt(s=>YH(t,e,n,i,s.extractedUrl,r,o).pipe(ee(({state:a,tree:c})=>Me(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function tq(t,e){return Nt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return le(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of bN(c))s.add(u);let a=0;return Ue(s).pipe(Cr(c=>o.has(c)?nq(c,i,t,e):(c.data=mm(c,c.parent,t).resolve,le(void 0))),kt(()=>a++),tc(1),Nt(c=>a===s.size?le(n):An))})}function bN(t){let e=t.children.map(n=>bN(n)).flat();return[t,...e]}function nq(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!hN(r)&&(o[ad]=r.title),iq(o,t,e,i).pipe(ee(s=>(t._resolvedData=s,t.data=mm(t,t.parent,n).resolve,null)))}function iq(t,e,n,i){let r=Sw(t);if(r.length===0)return le({});let o={};return Ue(r).pipe(Nt(s=>rq(t[s],e,n,i).pipe(Qn(),kt(a=>{if(a instanceof id)throw vm(new Oc,a);o[s]=a}))),tc(1),My(o),Dr(s=>gN(s)?An:Za(s)))}function rq(t,e,n,i){let r=ld(e)??i,o=jc(t,r),s=o.resolve?o.resolve(e,n):li(r,()=>o(e,n));return Oo(s)}function xw(t){return et(e=>{let n=t(e);return n?Ue(n).pipe(ee(()=>e)):le(e)})}var wN=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Pe);return r}getResolvedTitleForRoute(i){return i.data[ad]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(oq),providedIn:"root"});let t=e;return t})(),oq=(()=>{let e=class e extends wN{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(A(jR))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hd=new $("",{providedIn:"root",factory:()=>({})}),sq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Zt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xt],decls:1,vars:0,template:function(r,o){r&1&&ut(0,"router-outlet")},dependencies:[pH],encapsulation:2});let t=e;return t})();function e0(t){let e=t.children&&t.children.map(e0),n=e?Me(z({},t),{children:e}):z({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Pe&&(n.component=sq),n}var sd=new $(""),t0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(Gp)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return le(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Oo(i.loadComponent()).pipe(ee(EN),kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Cs(()=>{this.componentLoaders.delete(i)})),o=new ao(r,()=>new se).pipe(qa());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=aq(r,this.compiler,i,this.onLoadEndListener).pipe(Cs(()=>{this.childrenLoaders.delete(r)})),a=new ao(s,()=>new se).pipe(qa());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aq(t,e,n,i){return Oo(t.loadChildren()).pipe(ee(EN),Nt(r=>r instanceof Du||Array.isArray(r)?le(r):Ue(e.compileModuleAsync(r))),ee(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(sd,[],{optional:!0,self:!0}).flat()),{routes:s.map(e0),injector:o}}))}function cq(t){return t&&typeof t=="object"&&"default"in t}function EN(t){return cq(t)?t.default:t}var n0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(lq),providedIn:"root"});let t=e;return t})(),lq=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IN=new $(""),DN=new $("");function uq(t,e,n){let i=t.get(DN),r=t.get(Ee);return t.get(te).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=r.startViewTransition(()=>(o(),dq(t))),{onViewTransitionCreated:c}=i;return c&&li(t,()=>c({transition:a,from:e,to:n})),s})}function dq(t){return new Promise(e=>{Fr({read:()=>setTimeout(e)},{injector:t})})}var hq=new $(""),i0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=j(t0),this.environmentInjector=j(ln),this.urlSerializer=j(cd),this.rootContexts=j(ud),this.location=j(So),this.inputBindingEnabled=j(bm,{optional:!0})!==null,this.titleStrategy=j(wN),this.options=j(hd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(n0),this.createViewTransition=j(IN,{optional:!0}),this.navigationErrorHandler=j(hq,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Fw(o)),r=o=>this.events.next(new Lw(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Me(z(z({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Yt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yu,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(s=>s.id!==0),ee(s=>Me(z({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),et(s=>{let a=!1,c=!1;return le(s).pipe(et(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ni.SupersededByNewNavigation),An;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Me(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new ko(u.id,this.urlSerializer.serialize(u.rawUrl),m,um.IgnoredSameUrlNavigation)),u.resolve(!1),An}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return le(u).pipe(et(m=>{let g=this.transitions?.getValue();return this.events.next(new Fc(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?An:Promise.resolve(m)}),eq(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Me(z({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let g=new dm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:g,source:y,restoredState:I,extras:D}=u,k=new Fc(m,this.urlSerializer.serialize(g),y,I);this.events.next(k);let P=uN(this.rootComponentType).snapshot;return this.currentTransition=s=Me(z({},u),{targetSnapshot:P,urlAfterRedirects:g,extras:Me(z({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,le(s)}else{let m="";return this.events.next(new ko(u.id,this.urlSerializer.serialize(u.extractedUrl),m,um.IgnoredByUrlHandlingStrategy)),u.resolve(!1),An}}),kt(u=>{let d=new Nw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ee(u=>(this.currentTransition=s=Me(z({},u),{guards:bH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),RH(this.environmentInjector,u=>this.events.next(u)),kt(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw vm(this.urlSerializer,u.guardsResult);let d=new kw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ke(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ni.GuardRejected),!1)),xw(u=>{if(u.guards.canActivateChecks.length)return le(u).pipe(kt(d=>{let f=new Pw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),et(d=>{let f=!1;return le(d).pipe(tq(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",ni.NoDataFromResolver)}}))}),kt(d=>{let f=new Ow(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),xw(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(kt(g=>{f.component=g}),ee(()=>{})));for(let g of f.children)m.push(...d(g));return m};return Ir(d(u.targetSnapshot.root)).pipe(ho(null),Bn(1))}),xw(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Ue(f).pipe(ee(()=>s)):le(s)}),ee(u=>{let d=mH(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Me(z({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),kt(()=>{this.events.next(new td)}),_H(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Bn(1),kt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Qe(this.transitionAbortSubject.pipe(kt(u=>{throw u}))),Cs(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ni.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(u=>{if(c=!0,mN(u))this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),yH(u)?this.events.next(new Lc(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new ed(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=li(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof id){let{message:m,cancellationCode:g}=vm(this.urlSerializer,f);this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),m,g)),this.events.next(new Lc(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(u);s.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return An}))}))}cancelNavigationTransition(i,r,o){let s=new Ur(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fq(t){return t!==Yu}var pq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(mq),providedIn:"root"});let t=e;return t})(),Xw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mq=(()=>{let e=class e extends Xw{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CN=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>j(gq),providedIn:"root"});let t=e;return t})(),gq=(()=>{let e=class e extends CN{constructor(){super(...arguments),this.location=j(So),this.urlSerializer=j(cd),this.options=j(hd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(n0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Fc)this.stateMemento=this.createStateMemento();else if(i instanceof ko)this.rawUrlTree=r.initialUrl;else if(i instanceof dm){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof td?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof Ur&&(i.code===ni.GuardRejected||i.code===ni.NoDataFromResolver)?this.restoreHistory(r):i instanceof ed?this.restoreHistory(r,!0):i instanceof $r&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof zr?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=z(z({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=z(z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ku=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ku||{});function xN(t,e){t.events.pipe(Ke(n=>n instanceof $r||n instanceof Ur||n instanceof ed||n instanceof ko),ee(n=>n instanceof $r||n instanceof ko?Ku.COMPLETE:(n instanceof Ur?n.code===ni.Redirect||n.code===ni.SupersededByNewNavigation:!1)?Ku.REDIRECTING:Ku.FAILED),Ke(n=>n!==Ku.REDIRECTING),Bn(1)).subscribe(()=>{e()})}function vq(t){throw t}var yq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_q={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Po=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(Hp),this.stateManager=j(CN),this.options=j(hd,{optional:!0})||{},this.pendingTasks=j(Pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(i0),this.urlSerializer=j(cd),this.location=j(So),this.urlHandlingStrategy=j(n0),this._events=new se,this.errorHandler=this.options.errorHandler||vq,this.navigated=!1,this.routeReuseStrategy=j(pq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(sd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(bm,{optional:!0}),this.eventsSubscription=new ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ur&&r.code!==ni.Redirect&&r.code!==ni.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $r)this.navigated=!0;else if(r instanceof Lc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),u=z({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fq(o.source)},a);this.scheduleNavigation(c,Yu,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}wq(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=z({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(e0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=z(z({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let g=o?o.snapshot:this.routerState.snapshot.root;m=sN(g)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return aN(m,i,f,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Xu(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Yu,null,r)}navigate(i,r={skipLocationChange:!1}){return bq(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=z({},yq):r===!1?o=z({},_q):o=r,Xu(i))return BR(this.currentUrlTree,i,o);let s=this.parseUrl(i);return BR(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,g)=>{c=m,u=g});let f=this.pendingTasks.add();return xN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}function wq(t){return!(t instanceof td)&&!(t instanceof Lc)}var _m=class{};var Eq=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(i=>i instanceof $r),Cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=zp(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ue(o).pipe(lo())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=le(null);let s=o.pipe(Nt(a=>a===null?le(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ue([s,a]).pipe(lo())}else return s})}};e.\u0275fac=function(r){return new(r||e)(A(Po),A(Gp),A(ln),A(_m),A(t0))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TN=new $(""),Iq=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Fc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof $r?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof ko&&i.code===um.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof hm&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hm(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Lp()},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function Wte(t,...e){return wc([{provide:sd,multi:!0,useValue:t},[],{provide:Ys,useFactory:SN,deps:[Po]},{provide:Fu,multi:!0,useFactory:AN},e.map(n=>n.\u0275providers)])}function SN(t){return t.routerState.root}function fd(t,e){return{\u0275kind:t,\u0275providers:e}}function AN(){let t=j(At);return e=>{let n=t.get(ir);if(e!==n.components[0])return;let i=t.get(Po),r=t.get(MN);t.get(r0)===1&&i.initialNavigation(),t.get(RN,null,Ve.Optional)?.setUpPreloading(),t.get(TN,null,Ve.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var MN=new $("",{factory:()=>new se}),r0=new $("",{providedIn:"root",factory:()=>1});function Dq(){return fd(2,[{provide:r0,useValue:0},{provide:qp,multi:!0,deps:[At],useFactory:e=>{let n=e.get(gR,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Po),o=e.get(MN);xN(r,()=>{i(!0)}),e.get(i0).afterPreactivation=()=>(i(!0),o.closed?le(void 0):o),r.initialNavigation()}))}}])}function Cq(){return fd(3,[{provide:qp,multi:!0,useFactory:()=>{let e=j(Po);return()=>{e.setUpLocationChangeListener()}}},{provide:r0,useValue:2}])}var RN=new $("");function xq(t){return fd(0,[{provide:RN,useExisting:Eq},{provide:_m,useExisting:t}])}function Tq(){return fd(8,[HR,{provide:bm,useExisting:HR}])}function Sq(t){let e=[{provide:IN,useValue:uq},{provide:DN,useValue:z({skipNextTransition:!!t?.skipInitialTransition},t)}];return fd(9,e)}var KR=new $("ROUTER_FORROOT_GUARD"),Aq=[So,{provide:cd,useClass:Oc},Po,ud,{provide:Ys,useFactory:SN,deps:[Po]},t0,[]],Kte=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Aq,[],{provide:sd,multi:!0,useValue:i},{provide:KR,useFactory:kq,deps:[[Po,new wo,new bc]]},{provide:hd,useValue:r||{}},r?.useHash?Rq():Nq(),Mq(),r?.preloadingStrategy?xq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Pq(r):[],r?.bindToComponentInputs?Tq().\u0275providers:[],r?.enableViewTransitions?Sq().\u0275providers:[],Oq()]}}static forChild(i){return{ngModule:e,providers:[{provide:sd,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(A(KR,8))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();function Mq(){return{provide:TN,useFactory:()=>{let t=j(bR),e=j(te),n=j(hd),i=j(i0),r=j(cd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Iq(r,i,t,e,n)}}}function Rq(){return{provide:Gs,useClass:yR}}function Nq(){return{provide:Gs,useClass:lw}}function kq(t){return"guarded"}function Pq(t){return[t.initialNavigation==="disabled"?Cq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Dq().\u0275providers:[]]}var QR=new $("");function Oq(){return[{provide:QR,useFactory:AN},{provide:Fu,multi:!0,useExisting:QR}]}var jN=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(B(Co),B(we))},e.\u0275dir=ge({type:e});let t=e;return t})(),BN=(()=>{let e=class e extends jN{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,features:[Ft]});let t=e;return t})(),c0=new $("");var Fq={provide:c0,useExisting:Jn(()=>UN),multi:!0};function Lq(){let t=jr()?jr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Vq=new $(""),UN=(()=>{let e=class e extends jN{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Lq())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(B(Co),B(we),B(Vq,8))},e.\u0275dir=ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&mt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[zt([Fq]),Ft]});let t=e;return t})();function Fo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function zN(t){return t!=null&&typeof t.length=="number"}var jo=new $(""),l0=new $(""),jq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Im=class{static min(e){return $N(e)}static max(e){return HN(e)}static required(e){return qN(e)}static requiredTrue(e){return Bq(e)}static email(e){return Uq(e)}static minLength(e){return GN(e)}static maxLength(e){return WN(e)}static pattern(e){return zq(e)}static nullValidator(e){return Dm(e)}static compose(e){return JN(e)}static composeAsync(e){return ek(e)}};function $N(t){return e=>{if(Fo(e.value)||Fo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function HN(t){return e=>{if(Fo(e.value)||Fo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function qN(t){return Fo(t.value)?{required:!0}:null}function Bq(t){return t.value===!0?null:{required:!0}}function Uq(t){return Fo(t.value)||jq.test(t.value)?null:{email:!0}}function GN(t){return e=>Fo(e.value)||!zN(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function WN(t){return e=>zN(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function zq(t){if(!t)return Dm;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Fo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Dm(t){return null}function KN(t){return t!=null}function QN(t){return To(t)?Ue(t):t}function YN(t){let e={};return t.forEach(n=>{e=n!=null?z(z({},e),n):e}),Object.keys(e).length===0?null:e}function ZN(t,e){return e.map(n=>n(t))}function $q(t){return!t.validate}function XN(t){return t.map(e=>$q(e)?e:n=>e.validate(n))}function JN(t){if(!t)return null;let e=t.filter(KN);return e.length==0?null:function(n){return YN(ZN(n,e))}}function u0(t){return t!=null?JN(XN(t)):null}function ek(t){if(!t)return null;let e=t.filter(KN);return e.length==0?null:function(n){let i=ZN(n,e).map(QN);return Sy(i).pipe(ee(YN))}}function d0(t){return t!=null?ek(XN(t)):null}function NN(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tk(t){return t._rawValidators}function nk(t){return t._rawAsyncValidators}function o0(t){return t?Array.isArray(t)?t:[t]:[]}function Cm(t,e){return Array.isArray(t)?t.includes(e):t===e}function kN(t,e){let n=o0(e);return o0(t).forEach(r=>{Cm(n,r)||n.push(r)}),n}function PN(t,e){return o0(e).filter(n=>!Cm(t,n))}var xm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=u0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=d0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lo=class extends xm{get formDirective(){return null}get path(){return null}},Zs=class extends xm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Hq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hne=Me(z({},Hq),{"[class.ng-submitted]":"isSubmitted"}),fne=(()=>{let e=class e extends Tm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(Zs,2))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&pt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ft]});let t=e;return t})(),pne=(()=>{let e=class e extends Tm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(B(Lo,10))},e.\u0275dir=ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&pt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ft]});let t=e;return t})();var pd="VALID",Em="INVALID",Bc="PENDING",md="DISABLED",Vo=class{},Sm=class extends Vo{constructor(e,n){super(),this.value=e,this.source=n}},vd=class extends Vo{constructor(e,n){super(),this.pristine=e,this.source=n}},yd=class extends Vo{constructor(e,n){super(),this.touched=e,this.source=n}},Uc=class extends Vo{constructor(e,n){super(),this.status=e,this.source=n}},s0=class extends Vo{constructor(e){super(),this.source=e}},a0=class extends Vo{constructor(e){super(),this.source=e}};function ik(t){return(Pm(t)?t.validators:t)||null}function qq(t){return Array.isArray(t)?u0(t):t||null}function rk(t,e){return(Pm(e)?e.asyncValidators:t)||null}function Gq(t){return Array.isArray(t)?d0(t):t||null}function Pm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Wq(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new ae(1e3,"");if(!i[n])throw new ae(1001,"")}function Kq(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new ae(1002,"")})}var Am=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Lr(()=>this.statusReactive()),this.statusReactive=Hs(void 0),this._pristine=Lr(()=>this.pristineReactive()),this.pristineReactive=Hs(!0),this._touched=Lr(()=>this.touchedReactive()),this.touchedReactive=Hs(!1),this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(e){qn(()=>this.statusReactive.set(e))}get valid(){return this.status===pd}get invalid(){return this.status===Em}get pending(){return this.status==Bc}get disabled(){return this.status===md}get enabled(){return this.status!==md}get pristine(){return qn(this.pristineReactive)}set pristine(e){qn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(e){qn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}hasValidator(e){return Cm(this._rawValidators,e)}hasAsyncValidator(e){return Cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Me(z({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new yd(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new yd(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Me(z({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new vd(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new vd(!0,i))}markAsPending(e={}){this.status=Bc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Me(z({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=md,this.errors=null,this._forEachChild(r=>{r.disable(Me(z({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sm(this.value,i)),this._events.next(new Uc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pd,this._forEachChild(i=>{i.enable(Me(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pd||this.status===Bc)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sm(this.value,n)),this._events.next(new Uc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Me(z({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?md:pd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Bc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=QN(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Uc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?md:this.errors?Em:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bc)?Bc:this._anyControlsHaveStatus(Em)?Em:pd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new vd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new yd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Gq(this._rawAsyncValidators)}},Mm=class extends Am{constructor(e,n,i){super(ik(n),rk(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Kq(this,!0,e),Object.keys(e).forEach(i=>{Wq(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _d=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Om}),Om="always";function Qq(t,e){return[...e.path,t]}function Rm(t,e,n=Om){h0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Zq(t,e),Jq(t,e),Xq(t,e),Yq(t,e)}function ON(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),km(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Nm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Yq(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function h0(t,e){let n=tk(t);e.validator!==null?t.setValidators(NN(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=nk(t);e.asyncValidator!==null?t.setAsyncValidators(NN(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Nm(e._rawValidators,r),Nm(e._rawAsyncValidators,r)}function km(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=tk(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=nk(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Nm(e._rawValidators,i),Nm(e._rawAsyncValidators,i),n}function Zq(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ok(t,e)})}function Xq(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ok(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ok(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Jq(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function sk(t,e){t==null,h0(t,e)}function eG(t,e){return km(t,e)}function tG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nG(t){return Object.getPrototypeOf(t.constructor)===BN}function ak(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function iG(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===UN?n=o:nG(o)?i=o:r=o}),r||i||n||null}function rG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var oG={provide:Lo,useExisting:Jn(()=>f0)},gd=Promise.resolve(),f0=(()=>{let e=class e extends Lo{get submitted(){return qn(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Lr(()=>this.submittedReactive()),this.submittedReactive=Hs(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new Mm({},u0(i),d0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){gd.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Rm(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){gd.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){gd.then(()=>{let r=this._findContainer(i.path),o=new Mm({});sk(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){gd.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){gd.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),ak(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(B(jo,10),B(l0,10),B(_d,8))},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&mt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([oG]),Ft]});let t=e;return t})();function FN(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LN(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ck=class extends Am{constructor(e=null,n,i){super(ik(n),rk(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(LN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){LN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sG=t=>t instanceof ck;var aG={provide:Zs,useExisting:Jn(()=>cG)},VN=Promise.resolve(),cG=(()=>{let e=class e extends Zs{constructor(i,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new ck,this._registered=!1,this.name="",this.update=new Re,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=iG(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),tG(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Rm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){VN.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Ge(r);VN.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Qq(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(B(Lo,9),B(jo,10),B(l0,10),B(c0,10),B($t,8),B(_d,8))},e.\u0275dir=ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([aG]),Ft,_n]});let t=e;return t})(),gne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),lG={provide:c0,useExisting:Jn(()=>uG),multi:!0},uG=(()=>{let e=class e extends BN{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&mt("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[zt([lG]),Ft]});let t=e;return t})();var dG=new $("");var hG={provide:Lo,useExisting:Jn(()=>p0)},p0=(()=>{let e=class e extends Lo{get submitted(){return qn(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=Lr(()=>this._submittedReactive()),this._submittedReactive=Hs(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(km(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Rm(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){ON(i.control||null,i,!1),rG(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),ak(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new s0(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new a0(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(ON(r||null,i),sG(o)&&(Rm(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);sk(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&eG(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h0(this.form,this),this._oldForm&&km(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(B(jo,10),B(l0,10),B(_d,8))},e.\u0275dir=ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&mt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([hG]),Ft,_n]});let t=e;return t})();function lk(t){return typeof t=="number"?t:parseInt(t,10)}function uk(t){return typeof t=="number"?t:parseFloat(t)}var bd=(()=>{let e=class e{constructor(){this._validator=Dm}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Dm,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,features:[_n]});let t=e;return t})(),fG={provide:jo,useExisting:Jn(()=>pG),multi:!0},pG=(()=>{let e=class e extends bd{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=i=>uk(i),this.createValidator=i=>HN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&ct("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[zt([fG]),Ft]});let t=e;return t})(),mG={provide:jo,useExisting:Jn(()=>gG),multi:!0},gG=(()=>{let e=class e extends bd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=i=>uk(i),this.createValidator=i=>$N(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&ct("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[zt([mG]),Ft]});let t=e;return t})(),vG={provide:jo,useExisting:Jn(()=>yG),multi:!0};var yG=(()=>{let e=class e extends bd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ge,this.createValidator=i=>qN}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&ct("required",o._enabled?"":null)},inputs:{required:"required"},features:[zt([vG]),Ft]});let t=e;return t})();var _G={provide:jo,useExisting:Jn(()=>bG),multi:!0},bG=(()=>{let e=class e extends bd{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=i=>lk(i),this.createValidator=i=>GN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&ct("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[zt([_G]),Ft]});let t=e;return t})(),wG={provide:jo,useExisting:Jn(()=>EG),multi:!0},EG=(()=>{let e=class e extends bd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=i=>lk(i),this.createValidator=i=>WN(i)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=di(e)))(o||e)}})(),e.\u0275dir=ge({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&ct("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[zt([wG]),Ft]});let t=e;return t})();var dk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var vne=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:_d,useValue:i.callSetDisabledState??Om}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[dk]});let t=e;return t})(),yne=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:dG,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:_d,useValue:i.callSetDisabledState??Om}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[dk]});let t=e;return t})();var g0;try{g0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g0=!1}var nt=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?dw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||g0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(A(dn))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wd;function DG(){if(wd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wd=!0}))}finally{wd=wd||!1}return wd}function Bo(t){return DG()?t:!!t.capture}var ki=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(ki||{}),Fm,Xs;function Lm(){if(Xs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Xs=!1,Xs;if("scrollBehavior"in document.documentElement.style)Xs=!0;else{let t=Element.prototype.scrollTo;t?Xs=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Xs=!1}}return Xs}function zc(){if(typeof document!="object"||!document)return ki.NORMAL;if(Fm==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Fm=ki.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Fm=t.scrollLeft===0?ki.NEGATED:ki.INVERTED),t.remove()}return Fm}var m0;function CG(){if(m0==null){let t=typeof document<"u"?document.head:null;m0=!!(t&&(t.createShadowRoot||t.attachShadow))}return m0}function hk(t){if(CG()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function fk(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function ii(t){return t.composedPath?t.composedPath()[0]:t.target}function Ed(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Pi(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function $c(t){return t!=null&&`${t}`!="false"}function Id(t,e=0){return xG(t)?Number(t):arguments.length===2?e:0}function xG(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Hc(t){return Array.isArray(t)?t:[t]}function Lt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Hr(t){return t instanceof we?t.nativeElement:t}var TG=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[TG]});let t=e;return t})();var pk=new Set,Js,SG=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MG}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&AG(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(A(nt),A(Mu,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AG(t,e){if(!pk.has(t))try{Js||(Js=document.createElement("style"),e&&Js.setAttribute("nonce",e),Js.setAttribute("type","text/css"),document.head.appendChild(Js)),Js.sheet&&(Js.sheet.insertRule(`@media ${t} {body{ }}`,0),pk.add(t))}catch(n){console.error(n)}}function MG(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var gk=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return mk(Hc(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=mk(Hc(i)).map(a=>this._registerQuery(a).observable),s=Ir(o);return s=uo(s.pipe(Bn(1)),s.pipe(mu(1),pu(0))),s.pipe(ee(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new pe(a=>{let c=u=>this._zone.run(()=>a.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Yn(r),ee(({matches:a})=>({query:i,matches:a})),Qe(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(A(SG),A(te))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mk(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Lne={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Ek=" ";function C0(t,e,n){let i=zm(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(Ek)))}function Wm(t,e,n){let i=zm(t,e);n=n.trim();let r=i.filter(o=>o!==n);r.length?t.setAttribute(e,r.join(Ek)):t.removeAttribute(e)}function zm(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var Ik="cdk-describedby-message",jm="cdk-describedby-host",_0=0,Dk=(()=>{let e=class e{constructor(i,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${_0++}`,this._document=i,this._id=j(Au)+"-"+_0++}describe(i,r,o){if(!this._canBeDescribed(i,r))return;let s=v0(r,o);typeof r!="string"?(vk(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(i,s)||this._addMessageReference(i,s)}removeDescription(i,r,o){if(!r||!this._isElementNode(i))return;let s=v0(r,o);if(this._isElementDescribedByMessage(i,s)&&this._removeMessageReference(i,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let i=this._document.querySelectorAll(`[${jm}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(jm);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,r){let o=this._document.createElement("div");vk(o,this._id),o.textContent=i,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(v0(i,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;let i="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(i),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(i){let r=zm(i,"aria-describedby").filter(o=>o.indexOf(Ik)!=0);i.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(i,r){let o=this._messageRegistry.get(r);C0(i,"aria-describedby",o.messageElement.id),i.setAttribute(jm,this._id),o.referenceCount++}_removeMessageReference(i,r){let o=this._messageRegistry.get(r);o.referenceCount--,Wm(i,"aria-describedby",o.messageElement.id),i.removeAttribute(jm)}_isElementDescribedByMessage(i,r){let o=zm(i,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(i,r){if(!this._isElementNode(i))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=i.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(nt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v0(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function vk(t,e){t.id||(t.id=`${Ik}-${e}-${_0++}`)}var HG=200,b0=class{constructor(e,n){this._letterKeyStream=new se,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new se,this.selectedItem=this._selectedItem;let i=typeof n?.debounceInterval=="number"?n.debounceInterval:HG;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let n=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(kt(n=>this._pressedLetters.push(n)),pu(e),Ke(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},$m=class{constructor(e,n){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=ze.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this.tabOut=new se,this.change=new se,e instanceof pc?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Up(e)&&(this._effectRef=Xb(()=>this._itemsChanged(e()),{injector:n}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new b0(n,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){let n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Pi(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),i=typeof e=="number"?e:n.indexOf(e),r=n[i];this._activeItem=r??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+e*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=n,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Up(this._items)?this._items():this._items instanceof pc?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let n=e.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}},Hm=class extends $m{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}},yk=class extends $m{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var qG=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return WG(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=GG(t8(i));if(r&&(_k(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=_k(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!JG(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return e8(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(A(nt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GG(t){try{return t.frameElement}catch{return null}}function WG(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function KG(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function QG(t){return ZG(t)&&t.type=="hidden"}function YG(t){return XG(t)&&t.hasAttribute("href")}function ZG(t){return t.nodeName.toLowerCase()=="input"}function XG(t){return t.nodeName.toLowerCase()=="a"}function Ck(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function _k(t){if(!Ck(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function JG(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function e8(t){return QG(t)?!1:KG(t)||YG(t)||t.hasAttribute("contenteditable")||Ck(t)}function t8(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var w0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1,s){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Fr(e,{injector:this._injector}):setTimeout(e)}},n8=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._injector=j(At),this._document=o}create(i,r=!1){return new w0(i,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(A(qG),A(te),A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tie=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}constructor(i,r,o){this._elementRef=i,this._focusTrapFactory=r,this._previouslyFocusedElement=null,j(nt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let r=i.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=fk(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(r){return new(r||e)(B(we),B(n8),B(Ee))},e.\u0275dir=ge({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Ge],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Ge]},exportAs:["cdkTrapFocus"],standalone:!0,features:[In,_n]});let t=e;return t})();function x0(t){return t.buttons===0||t.detail===0}function T0(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var i8=new $("cdk-input-modality-detector-options"),r8={ignoreKeys:[18,17,224,91,16]},xk=650,qc=Bo({passive:!0,capture:!0}),o8=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new Yt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ii(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<xk||(this._modality.next(x0(a)?"keyboard":"mouse"),this._mostRecentTarget=ii(a))},this._onTouchstart=a=>{if(T0(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ii(a)},this._options=z(z({},r8),s),this.modalityDetected=this._modality.pipe(mu(1)),this.modalityChanged=this.modalityDetected.pipe(fo()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,qc),o.addEventListener("mousedown",this._onMousedown,qc),o.addEventListener("touchstart",this._onTouchstart,qc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qc),document.removeEventListener("mousedown",this._onMousedown,qc),document.removeEventListener("touchstart",this._onTouchstart,qc))}};e.\u0275fac=function(r){return new(r||e)(A(nt),A(te),A(Ee),A(i8,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s8=new $("liveAnnouncerElement",{providedIn:"root",factory:a8});function a8(){return null}var c8=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),l8=0,Tk=(()=>{let e=class e{constructor(i,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=i||this._createLiveElement()}announce(i,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",r=this._document.getElementsByClassName(i),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(i),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${l8++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(i){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(i)===-1&&s.setAttribute("aria-owns",a+" "+i):s.setAttribute("aria-owns",i)}}};e.\u0275fac=function(r){return new(r||e)(A(s8,8),A(te),A(Ee),A(c8,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Um=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Um||{}),u8=new $("cdk-focus-monitor-default-options"),Bm=Bo({passive:!0,capture:!0}),Dd=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se,this._rootNodeFocusAndBlurListener=c=>{let u=ii(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=a?.detectionMode||Um.IMMEDIATE}monitor(i,r=!1){let o=Hr(i);if(!this._platform.isBrowser||o.nodeType!==1)return le();let s=hk(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new se,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=Hr(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=Hr(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Um.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Um.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?xk:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=ii(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Bm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Bm)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qe(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Bm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Bm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(A(te),A(nt),A(o8),A(Ee,8),A(u8,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nie=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new Re}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(B(we),B(Dd))},e.\u0275dir=ge({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),ea=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ea||{}),bk="cdk-high-contrast-black-on-white",wk="cdk-high-contrast-white-on-black",y0="cdk-high-contrast-active",S0=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=j(gk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ea.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ea.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ea.BLACK_ON_WHITE}return ea.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(y0,bk,wk),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===ea.BLACK_ON_WHITE?i.add(y0,bk):r===ea.WHITE_ON_BLACK&&i.add(y0,wk)}}};e.\u0275fac=function(r){return new(r||e)(A(nt),A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sk=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(A(S0))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[Vm]});let t=e;return t})();var d8=new $("cdk-dir-doc",{providedIn:"root",factory:h8});function h8(){return j(Ee)}var f8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function p8(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?f8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Oi=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Re,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=p8(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(A(d8,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var m8=["text"],g8=[[["mat-icon"]],"*"],v8=["mat-icon","*"];function y8(t,e){if(t&1&&ut(0,"mat-pseudo-checkbox",1),t&2){let n=tt();ft("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function _8(t,e){if(t&1&&ut(0,"mat-pseudo-checkbox",3),t&2){let n=tt();ft("disabled",n.disabled)}}function b8(t,e){if(t&1&&(ve(0,"span",4),Hn(1),Se()),t&2){let n=tt();De(),xo("(",n.group.label,")")}}var w8=["mat-internal-form-field",""],E8=["*"];var Nie=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),kie=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function I8(){return!0}var D8=new $("mat-sanity-checks",{providedIn:"root",factory:I8}),on=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Ed()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(A(S0),A(D8,8),A(Ee))},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[zo,zo]});let t=e;return t})();var Qm=class{constructor(e,n,i,r,o){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var Ak=new $("MAT_DATE_LOCALE",{providedIn:"root",factory:C8});function C8(){return j(Lu)}var Ym=class{constructor(){this._localeChanges=new se,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let i=this.isValid(e),r=this.isValid(n);return i&&r?!this.compareDate(e,n):i==r}return e==n}clampDate(e,n,i){return n&&this.compareDate(e,n)<0?n:i&&this.compareDate(e,i)>0?i:e}},x8=new $("mat-date-formats"),T8=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function M0(t,e){let n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}var S8=(()=>{let e=class e extends Ym{constructor(i){super(),this.useUtcForDisplay=!1,this._matDateLocale=j(Ak,{optional:!0}),i!==void 0&&(this._matDateLocale=i),super.setLocale(this._matDateLocale)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){let r=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return M0(12,o=>this._format(r,new Date(2017,o,1)))}getDateNames(){let i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return M0(31,r=>this._format(i,new Date(2017,0,r+1)))}getDayOfWeekNames(i){let r=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return M0(7,o=>this._format(r,new Date(2017,0,o+1)))}getYearName(i){let r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,r,o){let s=this._createDateWithOverflow(i,r,o);return s.getMonth()!=r,s}today(){return new Date}parse(i,r){return typeof i=="number"?new Date(i):i?new Date(Date.parse(i)):null}format(i,r){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,Me(z({},r),{timeZone:"utc"}));return this._format(o,i)}addCalendarYears(i,r){return this.addCalendarMonths(i,r*12)}addCalendarMonths(i,r){let o=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+r,this.getDate(i));return this.getMonth(o)!=((this.getMonth(i)+r)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(i,r){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+r)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if(typeof i=="string"){if(!i)return null;if(T8.test(i)){let r=new Date(i);if(this.isValid(r))return r}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,r,o){let s=new Date;return s.setFullYear(i,r,o),s.setHours(0,0,0,0),s}_2digit(i){return("00"+i).slice(-2)}_format(i,r){let o=new Date;return o.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),o.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),i.format(o)}};e.\u0275fac=function(r){return new(r||e)(A(Ak,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),A8={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};var Pie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[M8()]});let t=e;return t})();function M8(t=A8){return[{provide:Ym,useClass:S8},{provide:x8,useValue:t}]}var Vk=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[on,on]});let t=e;return t})(),pi=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(pi||{}),k0=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=pi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Mk=Bo({passive:!0,capture:!0}),P0=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=ii(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Mk)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Mk)))}},Rk={enterDuration:225,exitDuration:150},R8=800,Nk=Bo({passive:!0,capture:!0}),kk=["mousedown","touchstart"],Pk=["mouseup","mouseleave","touchend","touchcancel"],xd=class xd{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hr(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=z(z({},Rk),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||N8(e,n,r),a=e-r.left,c=n-r.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,g=f.transitionDuration,y=m==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,I=new k0(this,d,i,y);d.style.transform="scale3d(1, 1, 1)",I.state=pi.FADING_IN,i.persistent||(this._mostRecentTransientRipple=I);let D=null;return!y&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>{D&&(D.fallbackTimer=null),clearTimeout(V),this._finishRippleTransition(I)},P=()=>this._destroyRipple(I),V=setTimeout(P,u+100);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",P),D={onTransitionEnd:k,onTransitionCancel:P,fallbackTimer:V}}),this._activeRipples.set(I,D),(y||!u)&&this._finishRippleTransition(I),I}fadeOutRipple(e){if(e.state===pi.FADING_OUT||e.state===pi.HIDDEN)return;let n=e.element,i=z(z({},Rk),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=pi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Hr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,kk.forEach(i=>{xd._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pk.forEach(n=>{this._triggerElement.addEventListener(n,this,Nk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===pi.FADING_IN?this._startFadeOutTransition(e):e.state===pi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=pi.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=pi.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=x0(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+R8;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!T0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===pi.VISIBLE||e.config.terminateOnPointerUp&&e.state===pi.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(kk.forEach(n=>xd._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(Pk.forEach(n=>e.removeEventListener(n,this,Nk)),this._pointerUpEventsRegistered=!1))}};xd._eventManager=new P0;var O0=xd;function N8(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var jk=new $("mat-ripple-global-options"),Bk=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new O0(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:z(z(z({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,z(z({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,z(z({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(B(we),B(te),B(nt),B(jk,8),B(ei,8))},e.\u0275dir=ge({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&pt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),L0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[on,on]});let t=e;return t})(),k8=(()=>{let e=class e{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(B(ei,8))},e.\u0275cmp=Zt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&pt("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Xt],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),P8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[on]});let t=e;return t})(),V0=new $("MAT_OPTION_PARENT_COMPONENT");var j0=new $("MatOptgroup");var O8=0,F0=class{constructor(e,n=!1){this.source=e,this.isUserInput=n}},Jm=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(i,r,o,s){this._element=i,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${O8++}`,this.onSelectionChange=new Re,this._stateChanges=new se}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,r){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(i.keyCode===13||i.keyCode===32)&&!Pi(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new F0(this,i))}};e.\u0275fac=function(r){return new(r||e)(B(we),B($t),B(V0,8),B(j0,8))},e.\u0275cmp=Zt({type:e,selectors:[["mat-option"]],viewQuery:function(r,o){if(r&1&&hn(m8,7),r&2){let s;gt(s=vt())&&(o._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&1&&mt("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),r&2&&(Tc("id",o.id),ct("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),pt("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Ge]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[In,Xt],ngContentSelectors:v8,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){r&1&&(hi(g8),at(0,y8,1,2,"mat-pseudo-checkbox",1),Dt(1),ve(2,"span",2,0),Dt(4,1),Se(),at(5,_8,1,1,"mat-pseudo-checkbox",3)(6,b8,2,1,"span",4),ut(7,"div",5)),r&2&&(lt(o.multiple?0:-1),De(5),lt(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),De(),lt(o.group&&o.group._inert?6:-1),De(),ft("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[k8,Bk],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function Uk(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let s=0;s<t+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function zk(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}var B0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[L0,on,P8]});let t=e;return t})(),Ok={capture:!0},Fk=["focus","mousedown","mouseenter","touchstart"],R0="mat-ripple-loader-uninitialized",N0="mat-ripple-loader-class-name",Lk="mat-ripple-loader-centered",Km="mat-ripple-loader-disabled",$k=(()=>{let e=class e{constructor(){this._document=j(Ee,{optional:!0}),this._animationMode=j(ei,{optional:!0}),this._globalRippleOptions=j(jk,{optional:!0}),this._platform=j(nt),this._ngZone=j(te),this._hosts=new Map,this._onInteraction=i=>{let r=ii(i);if(r instanceof HTMLElement){let o=r.closest(`[${R0}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of Fk)this._document?.addEventListener(i,this._onInteraction,Ok)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of Fk)this._document?.removeEventListener(r,this._onInteraction,Ok)}configureRipple(i,r){i.setAttribute(R0,this._globalRippleOptions?.namespace??""),(r.className||!i.hasAttribute(N0))&&i.setAttribute(N0,r.className||""),r.centered&&i.setAttribute(Lk,""),r.disabled&&i.setAttribute(Km,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(Km,""):i.removeAttribute(Km)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(N0)),i.append(o);let s=new Bk(new we(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(Lk),s.disabled=i.hasAttribute(Km),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(R0),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fie=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Zt({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&pt("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Xt],attrs:w8,ngContentSelectors:E8,decls:1,vars:0,template:function(r,o){r&1&&(hi(),Dt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();var L8=["mat-button",""],V8=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],j8=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var B8=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var U8=["mat-icon-button",""],z8=["*"];var $8=new $("MAT_BUTTON_CONFIG");var H8=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Hk=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=j(Dd),this._rippleLoader=j($k),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=j($8,{optional:!0}),c=i.nativeElement,u=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:f}of H8)c.hasAttribute(d)&&u.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Lp()},e.\u0275dir=ge({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ge],disabled:[2,"disabled","disabled",Ge],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ge],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ge]},features:[In]});let t=e;return t})();var Qie=(()=>{let e=class e extends Hk{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(B(we),B(nt),B(te),B(ei,8))},e.\u0275cmp=Zt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ct("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Wb(o.color?"mat-"+o.color:""),pt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ft,Xt],attrs:L8,ngContentSelectors:j8,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(hi(V8),ut(0,"span",0),Dt(1),ve(2,"span",1),Dt(3,1),Se(),Dt(4,2),ut(5,"span",2)(6,"span",3)),r&2&&pt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var qk=(()=>{let e=class e extends Hk{constructor(i,r,o,s){super(i,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(r){return new(r||e)(B(we),B(nt),B(te),B(ei,8))},e.\u0275cmp=Zt({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(ct("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Wb(o.color?"mat-"+o.color:""),pt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ft,Xt],attrs:U8,ngContentSelectors:z8,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(hi(),ut(0,"span",0),Dt(1),ut(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',B8],encapsulation:2,changeDetection:0});let t=e;return t})();var Gk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[on,L0,on]});let t=e;return t})();var Gc=t=>t!=null&&t!="undefined",Kk=t=>t==null||t==null,Zie=t=>t==null;function Qk(t){return t===null?!1:typeof t=="function"||typeof t=="object"}var Wk=class{static isTypeDate(e){return Gc(e)&&e.toString()=="Invalid Date"?!1:e instanceof Date?!isNaN(e.getTime()):!!new Date(e).getTime()}static getRandom(e){return Math.floor(Math.random()*Math.floor(e))}static generateRange(e,n){return Array.from({length:n-e+1},(i,r)=>r+e)}};var Fe=function(t){return t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS",t}(Fe||{});var eg=class{constructor(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}addTypeMetadata(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)}addTransformMetadata(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)}addExposeMetadata(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)}addExcludeMetadata(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)}findTransformMetadatas(e,n,i){return this.findMetadatas(this._transformMetadatas,e,n).filter(r=>!r.options||r.options.toClassOnly===!0&&r.options.toPlainOnly===!0?!0:r.options.toClassOnly===!0?i===Fe.CLASS_TO_CLASS||i===Fe.PLAIN_TO_CLASS:r.options.toPlainOnly===!0?i===Fe.CLASS_TO_PLAIN:!0)}findExcludeMetadata(e,n){return this.findMetadata(this._excludeMetadatas,e,n)}findExposeMetadata(e,n){return this.findMetadata(this._exposeMetadatas,e,n)}findExposeMetadataByCustomName(e,n){return this.getExposedMetadatas(e).find(i=>i.options&&i.options.name===n)}findTypeMetadata(e,n){return this.findMetadata(this._typeMetadatas,e,n)}getStrategy(e){let n=this._excludeMetadatas.get(e),i=n&&n.get(void 0),r=this._exposeMetadatas.get(e),o=r&&r.get(void 0);return i&&o||!i&&!o?"none":i?"excludeAll":"exposeAll"}getExposedMetadatas(e){return this.getMetadata(this._exposeMetadatas,e)}getExcludedMetadatas(e){return this.getMetadata(this._excludeMetadatas,e)}getExposedProperties(e,n){return this.getExposedMetadatas(e).filter(i=>!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Fe.CLASS_TO_CLASS||n===Fe.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Fe.CLASS_TO_PLAIN:!0).map(i=>i.propertyName)}getExcludedProperties(e,n){return this.getExcludedMetadatas(e).filter(i=>!i.options||i.options.toClassOnly===!0&&i.options.toPlainOnly===!0?!0:i.options.toClassOnly===!0?n===Fe.CLASS_TO_CLASS||n===Fe.PLAIN_TO_CLASS:i.options.toPlainOnly===!0?n===Fe.CLASS_TO_PLAIN:!0).map(i=>i.propertyName)}clear(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()}getMetadata(e,n){let i=e.get(n),r;i&&(r=Array.from(i.values()).filter(s=>s.propertyName!==void 0));let o=[];for(let s of this.getAncestors(n)){let a=e.get(s);if(a){let c=Array.from(a.values()).filter(u=>u.propertyName!==void 0);o.push(...c)}}return o.concat(r||[])}findMetadata(e,n,i){let r=e.get(n);if(r){let o=r.get(i);if(o)return o}for(let o of this.getAncestors(n)){let s=e.get(o);if(s){let a=s.get(i);if(a)return a}}}findMetadatas(e,n,i){let r=e.get(n),o;r&&(o=r.get(i));let s=[];for(let a of this.getAncestors(n)){let c=e.get(a);c&&c.has(i)&&s.push(...c.get(i))}return s.slice().reverse().concat((o||[]).slice().reverse())}getAncestors(e){if(!e)return[];if(!this._ancestorsMap.has(e)){let n=[];for(let i=Object.getPrototypeOf(e.prototype.constructor);typeof i.prototype<"u";i=Object.getPrototypeOf(i.prototype.constructor))n.push(i);this._ancestorsMap.set(e,n)}return this._ancestorsMap.get(e)}};var Nn=new eg;function Yk(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function Zk(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}function q8(t){let e=new t;return!(e instanceof Set)&&!("push"in e)?[]:e}var qr=class{constructor(e,n){this.transformationType=e,this.options=n,this.recursionStack=new Set}transform(e,n,i,r,o,s=0){if(Array.isArray(n)||n instanceof Set){let a=r&&this.transformationType===Fe.PLAIN_TO_CLASS?q8(r):[];return n.forEach((c,u)=>{let d=e?e[u]:void 0;if(!this.options.enableCircularCheck||!this.isCircular(c)){let f;if(typeof i!="function"&&i&&i.options&&i.options.discriminator&&i.options.discriminator.property&&i.options.discriminator.subTypes){if(this.transformationType===Fe.PLAIN_TO_CLASS){f=i.options.discriminator.subTypes.find(I=>I.name===c[i.options.discriminator.property]);let g={newObject:a,object:c,property:void 0},y=i.typeFunction(g);f===void 0?f=y:f=f.value,i.options.keepDiscriminatorProperty||delete c[i.options.discriminator.property]}this.transformationType===Fe.CLASS_TO_CLASS&&(f=c.constructor),this.transformationType===Fe.CLASS_TO_PLAIN&&(c[i.options.discriminator.property]=i.options.discriminator.subTypes.find(g=>g.value===c.constructor).name)}else f=i;let m=this.transform(d,c,f,void 0,c instanceof Map,s+1);a instanceof Set?a.add(m):a.push(m)}else this.transformationType===Fe.CLASS_TO_CLASS&&(a instanceof Set?a.add(c):a.push(c))}),a}else{if(i===String&&!o)return n==null?n:String(n);if(i===Number&&!o)return n==null?n:Number(n);if(i===Boolean&&!o)return n==null?n:!!n;if((i===Date||n instanceof Date)&&!o)return n instanceof Date?new Date(n.valueOf()):n==null?n:new Date(n);if(Yk().Buffer&&(i===Buffer||n instanceof Buffer)&&!o)return n==null?n:Buffer.from(n);if(Zk(n)&&!o)return new Promise((a,c)=>{n.then(u=>a(this.transform(void 0,u,i,void 0,void 0,s+1)),c)});if(!o&&n!==null&&typeof n=="object"&&typeof n.then=="function")return n;if(typeof n=="object"&&n!==null){!i&&n.constructor!==Object&&(!Array.isArray(n)&&n.constructor===Array||(i=n.constructor)),!i&&e&&(i=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(n);let a=this.getKeys(i,n,o),c=e||{};!e&&(this.transformationType===Fe.PLAIN_TO_CLASS||this.transformationType===Fe.CLASS_TO_CLASS)&&(o?c=new Map:i?c=new i:c={});for(let u of a){if(u==="__proto__"||u==="constructor")continue;let d=u,f=u,m=u;if(!this.options.ignoreDecorators&&i){if(this.transformationType===Fe.PLAIN_TO_CLASS){let P=Nn.findExposeMetadataByCustomName(i,u);P&&(m=P.propertyName,f=P.propertyName)}else if(this.transformationType===Fe.CLASS_TO_PLAIN||this.transformationType===Fe.CLASS_TO_CLASS){let P=Nn.findExposeMetadata(i,u);P&&P.options&&P.options.name&&(f=P.options.name)}}let g;this.transformationType===Fe.PLAIN_TO_CLASS?g=n[d]:n instanceof Map?g=n.get(d):n[d]instanceof Function?g=n[d]():g=n[d];let y,I=g instanceof Map;if(i&&o)y=i;else if(i){let P=Nn.findTypeMetadata(i,m);if(P){let V={newObject:c,object:n,property:m},K=P.typeFunction?P.typeFunction(V):P.reflectedType;P.options&&P.options.discriminator&&P.options.discriminator.property&&P.options.discriminator.subTypes?n[d]instanceof Array?y=P:(this.transformationType===Fe.PLAIN_TO_CLASS&&(y=P.options.discriminator.subTypes.find(ce=>{if(g&&g instanceof Object&&P.options.discriminator.property in g)return ce.name===g[P.options.discriminator.property]}),y===void 0?y=K:y=y.value,P.options.keepDiscriminatorProperty||g&&g instanceof Object&&P.options.discriminator.property in g&&delete g[P.options.discriminator.property]),this.transformationType===Fe.CLASS_TO_CLASS&&(y=g.constructor),this.transformationType===Fe.CLASS_TO_PLAIN&&g&&(g[P.options.discriminator.property]=P.options.discriminator.subTypes.find(ce=>ce.value===g.constructor).name)):y=K,I=I||P.reflectedType===Map}else if(this.options.targetMaps)this.options.targetMaps.filter(V=>V.target===i&&!!V.properties[m]).forEach(V=>y=V.properties[m]);else if(this.options.enableImplicitConversion&&this.transformationType===Fe.PLAIN_TO_CLASS){let V=Reflect.getMetadata("design:type",i.prototype,m);V&&(y=V)}}let D=Array.isArray(n[d])?this.getReflectedType(i,m):void 0,k=e?e[d]:void 0;if(c.constructor.prototype){let P=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if((this.transformationType===Fe.PLAIN_TO_CLASS||this.transformationType===Fe.CLASS_TO_CLASS)&&(P&&!P.set||c[f]instanceof Function))continue}if(!this.options.enableCircularCheck||!this.isCircular(g)){let P=this.transformationType===Fe.PLAIN_TO_CLASS?f:u,V;this.transformationType===Fe.CLASS_TO_PLAIN?(V=n[P],V=this.applyCustomTransformations(V,i,P,n,this.transformationType),V=n[P]===V?g:V,V=this.transform(k,V,y,D,I,s+1)):g===void 0&&this.options.exposeDefaultValues?V=c[f]:(V=this.transform(k,g,y,D,I,s+1),V=this.applyCustomTransformations(V,i,P,n,this.transformationType)),(V!==void 0||this.options.exposeUnsetFields)&&(c instanceof Map?c.set(f,V):c[f]=V)}else if(this.transformationType===Fe.CLASS_TO_CLASS){let P=g;P=this.applyCustomTransformations(P,i,u,n,this.transformationType),(P!==void 0||this.options.exposeUnsetFields)&&(c instanceof Map?c.set(f,P):c[f]=P)}}return this.options.enableCircularCheck&&this.recursionStack.delete(n),c}else return n}}applyCustomTransformations(e,n,i,r,o){let s=Nn.findTransformMetadatas(n,i,this.transformationType);return this.options.version!==void 0&&(s=s.filter(a=>a.options?this.checkVersion(a.options.since,a.options.until):!0)),this.options.groups&&this.options.groups.length?s=s.filter(a=>a.options?this.checkGroups(a.options.groups):!0):s=s.filter(a=>!a.options||!a.options.groups||!a.options.groups.length),s.forEach(a=>{e=a.transformFn({value:e,key:i,obj:r,type:o,options:this.options})}),e}isCircular(e){return this.recursionStack.has(e)}getReflectedType(e,n){if(!e)return;let i=Nn.findTypeMetadata(e,n);return i?i.reflectedType:void 0}getKeys(e,n,i){let r=Nn.getStrategy(e);r==="none"&&(r=this.options.strategy||"exposeAll");let o=[];if((r==="exposeAll"||i)&&(n instanceof Map?o=Array.from(n.keys()):o=Object.keys(n)),i)return o;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){let s=Nn.getExposedProperties(e,this.transformationType),a=Nn.getExcludedProperties(e,this.transformationType);o=[...s,...a]}if(!this.options.ignoreDecorators&&e){let s=Nn.getExposedProperties(e,this.transformationType);this.transformationType===Fe.PLAIN_TO_CLASS&&(s=s.map(c=>{let u=Nn.findExposeMetadata(e,c);return u&&u.options&&u.options.name?u.options.name:c})),this.options.excludeExtraneousValues?o=s:o=o.concat(s);let a=Nn.getExcludedProperties(e,this.transformationType);a.length>0&&(o=o.filter(c=>!a.includes(c))),this.options.version!==void 0&&(o=o.filter(c=>{let u=Nn.findExposeMetadata(e,c);return!u||!u.options?!0:this.checkVersion(u.options.since,u.options.until)})),this.options.groups&&this.options.groups.length?o=o.filter(c=>{let u=Nn.findExposeMetadata(e,c);return!u||!u.options?!0:this.checkGroups(u.options.groups)}):o=o.filter(c=>{let u=Nn.findExposeMetadata(e,c);return!u||!u.options||!u.options.groups||!u.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(o=o.filter(s=>this.options.excludePrefixes.every(a=>s.substr(0,a.length)!==a))),o=o.filter((s,a,c)=>c.indexOf(s)===a),o}checkVersion(e,n){let i=!0;return i&&e&&(i=this.options.version>=e),i&&n&&(i=this.options.version<n),i}checkGroups(e){return e?this.options.groups.some(n=>e.includes(n)):!0}};var ta={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0};var tg=class{instanceToPlain(e,n){return new qr(Fe.CLASS_TO_PLAIN,z(z({},ta),n)).transform(void 0,e,void 0,void 0,void 0,void 0)}classToPlainFromExist(e,n,i){return new qr(Fe.CLASS_TO_PLAIN,z(z({},ta),i)).transform(n,e,void 0,void 0,void 0,void 0)}plainToInstance(e,n,i){return new qr(Fe.PLAIN_TO_CLASS,z(z({},ta),i)).transform(void 0,n,e,void 0,void 0,void 0)}plainToClassFromExist(e,n,i){return new qr(Fe.PLAIN_TO_CLASS,z(z({},ta),i)).transform(e,n,void 0,void 0,void 0,void 0)}instanceToInstance(e,n){return new qr(Fe.CLASS_TO_CLASS,z(z({},ta),n)).transform(void 0,e,void 0,void 0,void 0,void 0)}classToClassFromExist(e,n,i){return new qr(Fe.CLASS_TO_CLASS,z(z({},ta),i)).transform(n,e,void 0,void 0,void 0,void 0)}serialize(e,n){return JSON.stringify(this.instanceToPlain(e,n))}deserialize(e,n,i){let r=JSON.parse(n);return this.plainToInstance(e,r,i)}deserializeArray(e,n,i){let r=JSON.parse(n);return this.plainToInstance(e,r,i)}};var G8=new tg;function Xk(t,e,n){return G8.plainToInstance(t,e,n)}var W8="firebase",K8="10.13.1";br(W8,K8,"app");var z0=new Rr("ANGULARFIRE2_VERSION");function Are(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Q8=(t,e)=>{let n=e?[e]:Qh(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},ia=class{constructor(){return Q8(Y8)}},Y8="app-check";function Wc(){}var ng=class{zone;delegate;constructor(e,n=Cy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},U0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc)),n.pipe(kt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ig=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ng(Zone.current)),this.insideAngular=n.run(()=>new ng(Zone.current,Hi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(A(te))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Td(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Z8(t){return Td().ngZone.runOutsideAngular(()=>t())}function na(t){return Td().ngZone.run(()=>t())}function Mre(t){return t.pipe(jn(Td().outsideAngular))}function kn(t){return X8(Td())(t)}function X8(t){return function(n){return n=n.lift(new U0(t.ngZone)),n.pipe(ai(t.outsideAngular),jn(t.insideAngular))}}var J8=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),na(()=>t.apply(void 0,i))},Rre=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=na(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wc,{},Wc,Wc))),i[o]=J8(i[o],n));let r=Z8(()=>t.apply(this,i));if(!e)if(r instanceof pe){let o=Td();return r.pipe(ai(o.outsideAngular),jn(o.insideAngular))}else return na(()=>r);return r instanceof pe?r.pipe(kn):r instanceof Promise?na(()=>new Promise((o,s)=>r.then(a=>na(()=>o(a)),a=>na(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:na(()=>r)};var e3="firebase",t3="10.13.1";wi.registerVersion(e3,t3,"app-compat");var n3=["ngOnDestroy"],tP=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(n3.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>n.run(()=>u)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(d=>{let f=d?.(...u);return i?.spy?.apply&&i.spy.apply(o,u,f),f})})})});var $0=class{constructor(e){return e}},rg=new $("angularfire2.app.options"),og=new $("angularfire2.app.name");function sg(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=wi.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>wi.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;i3("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new $0(s)}var i3=(t,...e)=>{Yb()&&typeof console<"u"&&console[t](...e)};function ag(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return r3(r,s)||(eP("error",`${e} was already initialized on the ${n} Firebase App with different settings.${o3?" You may need to reload as Firebase is not HMR aware.":""}`),eP("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function r3(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var o3=typeof module<"u"&&!!module.hot,eP=(t,...e)=>{Yb()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var nP=class{constructor(e){return e}},iP=class{constructor(){return Qh()}};var s3=new Map,a3={activated:!1,tokenObservers:[]},c3={initialized:!1,enabled:!1};function Fi(t){return s3.get(t)||Object.assign({},a3)}function cP(){return c3}var l3="https://content-firebaseappcheck.googleapis.com/v1";var u3="exchangeDebugToken",rP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ioe=24*60*60*1e3;var q0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return L(this,null,function*(){this.stop();try{this.pending=new ay,this.pending.promise.catch(n=>{}),yield d3(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ay,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function d3(t){return new Promise(e=>{setTimeout(e,t)})}var h3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},$o=new Ix("appCheck","AppCheck",h3);function lP(t){if(!Fi(t).activated)throw $o.create("use-before-activation",{appName:t.name})}function uP(i,r){return L(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(g){throw $o.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw $o.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(g){throw $o.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw $o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function dP(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${l3}/projects/${n}/apps/${i}:${u3}?key=${r}`,body:{debug_token:e}}}var f3="firebase-app-check-database",p3=1,G0="firebase-app-check-store";var cg=null;function m3(){return cg||(cg=new Promise((t,e)=>{try{let n=indexedDB.open(f3,p3);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e($o.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(G0,{keyPath:"compositeKey"})}}}catch(n){e($o.create("storage-open",{originalErrorMessage:n?.message}))}}),cg)}function g3(t,e){return v3(y3(t),e)}function v3(t,e){return L(this,null,function*(){let i=(yield m3()).transaction(G0,"readwrite"),o=i.objectStore(G0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var u;a($o.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function y3(t){return`${t.options.appId}-${t.name}`}var W0=new Wh("@firebase/app-check");function H0(t,e){return Gh()?g3(t,e).catch(n=>{W0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hP(){return cP().enabled}function fP(){return L(this,null,function*(){let t=cP();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var _3={error:"UNKNOWN_ERROR"};function b3(t){return _x.encodeString(JSON.stringify(t),!1)}function K0(t,e=!1){return L(this,null,function*(){let n=t.app;lP(n);let i=Fi(n),r=i.token,o;if(r&&!Sd(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Sd(c)?r=c:yield H0(n,void 0))}if(!e&&r&&Sd(r))return{token:r.token};let s=!1;if(hP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uP(dP(n,yield fP()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield H0(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Fi(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?W0.warn(c.message):W0.error(c),o=c}let a;return r?o?Sd(r)?a={token:r.token,internalError:o}:a=sP(o):(a={token:r.token},i.token=r,yield H0(n,r)):a=sP(o),s&&D3(n,a),a})}function w3(t){return L(this,null,function*(){let e=t.app;lP(e);let{provider:n}=Fi(e);if(hP()){let i=yield fP(),{token:r}=yield uP(dP(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function E3(t,e,n,i){let{app:r}=t,o=Fi(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Sd(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),oP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>oP(t))}function pP(t,e){let n=Fi(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function oP(t){let{app:e}=t,n=Fi(e),i=n.tokenRefresher;i||(i=I3(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function I3(t){let{app:e}=t;return new q0(()=>L(this,null,function*(){let n=Fi(e),i;if(n.token?i=yield K0(t,!0):i=yield K0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Fi(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},rP.RETRIAL_MIN_WAIT,rP.RETRIAL_MAX_WAIT)}function D3(t,e){let n=Fi(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Sd(t){return t.expireTimeMillis-Date.now()>0}function sP(t){return{token:b3(_3),error:t}}var Q0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Fi(this.app);for(let n of e)pP(this.app,n.next);return Promise.resolve()}};function C3(t,e){return new Q0(t,e)}function x3(t){return{getToken:e=>K0(t,e),getLimitedUseToken:()=>w3(t),addTokenListener:e=>E3(t,"INTERNAL",e),removeTokenListener:e=>pP(t.app,e)}}var T3="@firebase/app-check",S3="0.8.7";var A3="app-check",aP="app-check-internal";function M3(){su(new bs(A3,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return C3(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(aP).initialize()})),su(new bs(aP,t=>{let e=t.getProvider("app-check").getImmediate();return x3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),br(T3,S3)}M3();var R3=["localhost","0.0.0.0","127.0.0.1"],moe=typeof window<"u"&&R3.includes(window.location.hostname);var Y0=new $("angularfire2.auth.use-emulator"),Z0=new $("angularfire2.auth.settings"),X0=new $("angularfire2.auth.tenant-id"),J0=new $("angularfire2.auth.langugage-code"),eE=new $("angularfire2.auth.use-device-language"),tE=new $("angularfire.auth.persistence"),nE=(t,e,n,i,r,o,s,a)=>ag(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[u,d]of Object.entries(s))c.settings[u]=d;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),Ad=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,u,d,f,m,g){let y=new se,I=le(void 0).pipe(jn(s.outsideAngular),et(()=>o.runOutsideAngular(()=>import("./chunk-5USNJEBD.js"))),ee(()=>sg(n,o,i)),ee(D=>nE(D,o,a,u,d,f,c,m)),Ts({bufferSize:1,refCount:!1}));if(Ao(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=le(null);else{I.pipe(Qn()).subscribe();let D=I.pipe(et(V=>V.getRedirectResult().then(K=>K,()=>null)),kn,Ts({bufferSize:1,refCount:!1})),k=I.pipe(et(V=>new pe(K=>({unsubscribe:o.runOutsideAngular(()=>V.onAuthStateChanged(ce=>K.next(ce),ce=>K.error(ce),()=>K.complete()))})))),P=I.pipe(et(V=>new pe(K=>({unsubscribe:o.runOutsideAngular(()=>V.onIdTokenChanged(ce=>K.next(ce),ce=>K.error(ce),()=>K.complete()))}))));this.authState=D.pipe(Sf(k),ai(s.outsideAngular),jn(s.insideAngular)),this.user=D.pipe(Sf(P),ai(s.outsideAngular),jn(s.insideAngular)),this.idToken=this.user.pipe(et(V=>V?Ue(V.getIdToken()):le(null))),this.idTokenResult=this.user.pipe(et(V=>V?Ue(V.getIdTokenResult()):le(null))),this.credential=Ii(D,y,this.authState.pipe(Ke(V=>!V))).pipe(ee(V=>V?.user?V:null),ai(s.outsideAngular),jn(s.insideAngular))}return tP(this,I,o,{spy:{apply:(D,k,P)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&P.then(V=>y.next(V))}}})}static \u0275fac=function(i){return new(i||t)(A(rg),A(og,8),A(dn),A(te),A(ig),A(Y0,8),A(Z0,8),A(X0,8),A(J0,8),A(eE,8),A(tE,8),A(ia,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),Roe=(()=>{class t{constructor(){wi.registerVersion("angularfire",z0.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Te({type:t});static \u0275inj=xe({providers:[Ad]})}return t})();var vP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yP={};var Ho,iE;(function(){var t;function e(E,_){function w(){}w.prototype=_.prototype,E.D=_.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(C,x,M){for(var b=Array(arguments.length-2),si=2;si<arguments.length;si++)b[si-2]=arguments[si];return _.prototype[x].apply(C,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,w){w||(w=0);var C=Array(16);if(typeof _=="string")for(var x=0;16>x;++x)C[x]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(x=0;16>x;++x)C[x]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=E.g[0],w=E.g[1],x=E.g[2];var M=E.g[3],b=_+(M^w&(x^M))+C[0]+3614090360&4294967295;_=w+(b<<7&4294967295|b>>>25),b=M+(x^_&(w^x))+C[1]+3905402710&4294967295,M=_+(b<<12&4294967295|b>>>20),b=x+(w^M&(_^w))+C[2]+606105819&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(_^x&(M^_))+C[3]+3250441966&4294967295,w=x+(b<<22&4294967295|b>>>10),b=_+(M^w&(x^M))+C[4]+4118548399&4294967295,_=w+(b<<7&4294967295|b>>>25),b=M+(x^_&(w^x))+C[5]+1200080426&4294967295,M=_+(b<<12&4294967295|b>>>20),b=x+(w^M&(_^w))+C[6]+2821735955&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(_^x&(M^_))+C[7]+4249261313&4294967295,w=x+(b<<22&4294967295|b>>>10),b=_+(M^w&(x^M))+C[8]+1770035416&4294967295,_=w+(b<<7&4294967295|b>>>25),b=M+(x^_&(w^x))+C[9]+2336552879&4294967295,M=_+(b<<12&4294967295|b>>>20),b=x+(w^M&(_^w))+C[10]+4294925233&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(_^x&(M^_))+C[11]+2304563134&4294967295,w=x+(b<<22&4294967295|b>>>10),b=_+(M^w&(x^M))+C[12]+1804603682&4294967295,_=w+(b<<7&4294967295|b>>>25),b=M+(x^_&(w^x))+C[13]+4254626195&4294967295,M=_+(b<<12&4294967295|b>>>20),b=x+(w^M&(_^w))+C[14]+2792965006&4294967295,x=M+(b<<17&4294967295|b>>>15),b=w+(_^x&(M^_))+C[15]+1236535329&4294967295,w=x+(b<<22&4294967295|b>>>10),b=_+(x^M&(w^x))+C[1]+4129170786&4294967295,_=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(_^w))+C[6]+3225465664&4294967295,M=_+(b<<9&4294967295|b>>>23),b=x+(_^w&(M^_))+C[11]+643717713&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^_&(x^M))+C[0]+3921069994&4294967295,w=x+(b<<20&4294967295|b>>>12),b=_+(x^M&(w^x))+C[5]+3593408605&4294967295,_=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(_^w))+C[10]+38016083&4294967295,M=_+(b<<9&4294967295|b>>>23),b=x+(_^w&(M^_))+C[15]+3634488961&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^_&(x^M))+C[4]+3889429448&4294967295,w=x+(b<<20&4294967295|b>>>12),b=_+(x^M&(w^x))+C[9]+568446438&4294967295,_=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(_^w))+C[14]+3275163606&4294967295,M=_+(b<<9&4294967295|b>>>23),b=x+(_^w&(M^_))+C[3]+4107603335&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^_&(x^M))+C[8]+1163531501&4294967295,w=x+(b<<20&4294967295|b>>>12),b=_+(x^M&(w^x))+C[13]+2850285829&4294967295,_=w+(b<<5&4294967295|b>>>27),b=M+(w^x&(_^w))+C[2]+4243563512&4294967295,M=_+(b<<9&4294967295|b>>>23),b=x+(_^w&(M^_))+C[7]+1735328473&4294967295,x=M+(b<<14&4294967295|b>>>18),b=w+(M^_&(x^M))+C[12]+2368359562&4294967295,w=x+(b<<20&4294967295|b>>>12),b=_+(w^x^M)+C[5]+4294588738&4294967295,_=w+(b<<4&4294967295|b>>>28),b=M+(_^w^x)+C[8]+2272392833&4294967295,M=_+(b<<11&4294967295|b>>>21),b=x+(M^_^w)+C[11]+1839030562&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^_)+C[14]+4259657740&4294967295,w=x+(b<<23&4294967295|b>>>9),b=_+(w^x^M)+C[1]+2763975236&4294967295,_=w+(b<<4&4294967295|b>>>28),b=M+(_^w^x)+C[4]+1272893353&4294967295,M=_+(b<<11&4294967295|b>>>21),b=x+(M^_^w)+C[7]+4139469664&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^_)+C[10]+3200236656&4294967295,w=x+(b<<23&4294967295|b>>>9),b=_+(w^x^M)+C[13]+681279174&4294967295,_=w+(b<<4&4294967295|b>>>28),b=M+(_^w^x)+C[0]+3936430074&4294967295,M=_+(b<<11&4294967295|b>>>21),b=x+(M^_^w)+C[3]+3572445317&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^_)+C[6]+76029189&4294967295,w=x+(b<<23&4294967295|b>>>9),b=_+(w^x^M)+C[9]+3654602809&4294967295,_=w+(b<<4&4294967295|b>>>28),b=M+(_^w^x)+C[12]+3873151461&4294967295,M=_+(b<<11&4294967295|b>>>21),b=x+(M^_^w)+C[15]+530742520&4294967295,x=M+(b<<16&4294967295|b>>>16),b=w+(x^M^_)+C[2]+3299628645&4294967295,w=x+(b<<23&4294967295|b>>>9),b=_+(x^(w|~M))+C[0]+4096336452&4294967295,_=w+(b<<6&4294967295|b>>>26),b=M+(w^(_|~x))+C[7]+1126891415&4294967295,M=_+(b<<10&4294967295|b>>>22),b=x+(_^(M|~w))+C[14]+2878612391&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~_))+C[5]+4237533241&4294967295,w=x+(b<<21&4294967295|b>>>11),b=_+(x^(w|~M))+C[12]+1700485571&4294967295,_=w+(b<<6&4294967295|b>>>26),b=M+(w^(_|~x))+C[3]+2399980690&4294967295,M=_+(b<<10&4294967295|b>>>22),b=x+(_^(M|~w))+C[10]+4293915773&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~_))+C[1]+2240044497&4294967295,w=x+(b<<21&4294967295|b>>>11),b=_+(x^(w|~M))+C[8]+1873313359&4294967295,_=w+(b<<6&4294967295|b>>>26),b=M+(w^(_|~x))+C[15]+4264355552&4294967295,M=_+(b<<10&4294967295|b>>>22),b=x+(_^(M|~w))+C[6]+2734768916&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~_))+C[13]+1309151649&4294967295,w=x+(b<<21&4294967295|b>>>11),b=_+(x^(w|~M))+C[4]+4149444226&4294967295,_=w+(b<<6&4294967295|b>>>26),b=M+(w^(_|~x))+C[11]+3174756917&4294967295,M=_+(b<<10&4294967295|b>>>22),b=x+(_^(M|~w))+C[2]+718787259&4294967295,x=M+(b<<15&4294967295|b>>>17),b=w+(M^(x|~_))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(x+(b<<21&4294967295|b>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+M&4294967295}i.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var w=_-this.blockSize,C=this.B,x=this.h,M=0;M<_;){if(x==0)for(;M<=w;)r(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<_;)if(C[x++]=E.charCodeAt(M++),x==this.blockSize){r(this,C),x=0;break}}else for(;M<_;)if(C[x++]=E[M++],x==this.blockSize){r(this,C),x=0;break}}this.h=x,this.o+=_},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var w=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=w&255,w/=256;for(this.u(E),E=Array(16),_=w=0;4>_;++_)for(var C=0;32>C;C+=8)E[w++]=this.g[_]>>>C&255;return E};function o(E,_){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=_(E)}function s(E,_){this.h=_;for(var w=[],C=!0,x=E.length-1;0<=x;x--){var M=E[x]|0;C&&M==_||(w[x]=M,C=!1)}this.g=w}var a={};function c(E){return-128<=E&&128>E?o(E,function(_){return new s([_|0],0>_?-1:0)}):new s([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return D(u(-E));for(var _=[],w=1,C=0;E>=w;C++)_[C]=E/w|0,w*=4294967296;return new s(_,0)}function d(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return D(d(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(_,8)),C=f,x=0;x<E.length;x+=8){var M=Math.min(8,E.length-x),b=parseInt(E.substring(x,x+M),_);8>M?(M=u(Math.pow(_,M)),C=C.j(M).add(u(b))):(C=C.j(w),C=C.add(u(b)))}return C}var f=c(0),m=c(1),g=c(16777216);t=s.prototype,t.m=function(){if(I(this))return-D(this).m();for(var E=0,_=1,w=0;w<this.g.length;w++){var C=this.i(w);E+=(0<=C?C:4294967296+C)*_,_*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(I(this))return"-"+D(this).toString(E);for(var _=u(Math.pow(E,6)),w=this,C="";;){var x=K(w,_).g;w=k(w,x.j(_));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=x,y(w))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=k(this,E),I(E)?-1:y(E)?0:1};function D(E){for(var _=E.g.length,w=[],C=0;C<_;C++)w[C]=~E.g[C];return new s(w,~E.h).add(m)}t.abs=function(){return I(this)?D(this):this},t.add=function(E){for(var _=Math.max(this.g.length,E.g.length),w=[],C=0,x=0;x<=_;x++){var M=C+(this.i(x)&65535)+(E.i(x)&65535),b=(M>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);C=b>>>16,M&=65535,b&=65535,w[x]=b<<16|M}return new s(w,w[w.length-1]&-2147483648?-1:0)};function k(E,_){return E.add(D(_))}t.j=function(E){if(y(this)||y(E))return f;if(I(this))return I(E)?D(this).j(D(E)):D(D(this).j(E));if(I(E))return D(this.j(D(E)));if(0>this.l(g)&&0>E.l(g))return u(this.m()*E.m());for(var _=this.g.length+E.g.length,w=[],C=0;C<2*_;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<E.g.length;x++){var M=this.i(C)>>>16,b=this.i(C)&65535,si=E.i(x)>>>16,gr=E.i(x)&65535;w[2*C+2*x]+=b*gr,P(w,2*C+2*x),w[2*C+2*x+1]+=M*gr,P(w,2*C+2*x+1),w[2*C+2*x+1]+=b*si,P(w,2*C+2*x+1),w[2*C+2*x+2]+=M*si,P(w,2*C+2*x+2)}for(C=0;C<_;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=_;C<2*_;C++)w[C]=0;return new s(w,0)};function P(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function V(E,_){this.g=E,this.h=_}function K(E,_){if(y(_))throw Error("division by zero");if(y(E))return new V(f,f);if(I(E))return _=K(D(E),_),new V(D(_.g),D(_.h));if(I(_))return _=K(E,D(_)),new V(D(_.g),_.h);if(30<E.g.length){if(I(E)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,C=_;0>=C.l(E);)w=ce(w),C=ce(C);var x=ie(w,1),M=ie(C,1);for(C=ie(C,2),w=ie(w,2);!y(C);){var b=M.add(C);0>=b.l(E)&&(x=x.add(w),M=b),C=ie(C,1),w=ie(w,1)}return _=k(E,x.j(_)),new V(x,_)}for(x=f;0<=E.l(_);){for(w=Math.max(1,Math.floor(E.m()/_.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(w),b=M.j(_);I(b)||0<b.l(E);)w-=C,M=u(w),b=M.j(_);y(M)&&(M=m),x=x.add(M),E=k(E,b)}return new V(x,E)}t.A=function(E){return K(this,E).h},t.and=function(E){for(var _=Math.max(this.g.length,E.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)&E.i(C);return new s(w,this.h&E.h)},t.or=function(E){for(var _=Math.max(this.g.length,E.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)|E.i(C);return new s(w,this.h|E.h)},t.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)^E.i(C);return new s(w,this.h^E.h)};function ce(E){for(var _=E.g.length+1,w=[],C=0;C<_;C++)w[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(w,E.h)}function ie(E,_){var w=_>>5;_%=32;for(var C=E.g.length-w,x=[],M=0;M<C;M++)x[M]=0<_?E.i(M+w)>>>_|E.i(M+w+1)<<32-_:E.i(M+w);return new s(x,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iE=yP.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ho=yP.Integer=s}).apply(typeof vP<"u"?vP:typeof self<"u"?self:typeof window<"u"?window:{});var lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gr={};var rE,oE,Kc,sE,Md,ug,aE,cE,lE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lg=="object"&&lg];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)e:{var p=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var S=l[v];if(!(S in p))break e;p=p[S]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var p=0,v=!1,S={next:function(){if(!v&&p<l.length){var F=p++;return{value:h(F,l[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}r("Array.prototype.values",function(l){return l||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,v),l.apply(h,S)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function y(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,S,F){for(var Q=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)Q[ot-2]=arguments[ot];return h.prototype[S].apply(v,Q)}}function I(l){let h=l.length;if(0<h){let p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function D(l,h){for(let p=1;p<arguments.length;p++){let v=arguments[p];if(c(v)){let S=l.length||0,F=v.length||0;l.length=S+F;for(let Q=0;Q<F;Q++)l[S+Q]=v[Q]}else l.push(v)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function P(l){return/^[\s\xa0]*$/.test(l)}function V(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function K(l){return K[" "](l),l}K[" "]=function(){};var ce=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function ie(l,h,p){for(let v in l)h.call(p,l[v],v,l)}function E(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function _(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let p,v;for(let S=1;S<arguments.length;S++){v=arguments[S];for(p in v)l[p]=v[p];for(let F=0;F<w.length;F++)p=w[F],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function x(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function M(l){a.setTimeout(()=>{throw l},0)}function b(){var l=Na;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class si{constructor(){this.h=this.g=null}add(h,p){let v=gr.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var gr=new k(()=>new xh,l=>l.reset());class xh{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let no,io=!1,Na=new si,jl=()=>{let l=a.Promise.resolve(void 0);no=()=>{l.then(Th)}};var Th=()=>{for(var l;l=b();){try{l.h.call(l.g)}catch(p){M(p)}var h=gr;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}io=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Hv=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function rt(l,h){if(Tt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ce){e:{try{K(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:qv[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&rt.aa.h.call(this)}}y(rt,Tt);var qv={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ds="closure_listenable_"+(1e6*Math.random()|0),Sh=0;function Gv(l,h,p,v,S){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=S,this.key=++Sh,this.da=this.fa=!1}function xn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function hs(l){this.src=l,this.g={},this.h=0}hs.prototype.add=function(l,h,p,v,S){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Q=ka(l,h,v,S);return-1<Q?(h=l[Q],p||(h.fa=!1)):(h=new Gv(h,this.src,F,!!v,S),h.fa=p,l.push(h)),h};function zi(l,h){var p=h.type;if(p in l.g){var v=l.g[p],S=Array.prototype.indexOf.call(v,h,void 0),F;(F=0<=S)&&Array.prototype.splice.call(v,S,1),F&&(xn(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function ka(l,h,p,v){for(var S=0;S<l.length;++S){var F=l[S];if(!F.da&&F.listener==h&&F.capture==!!p&&F.ha==v)return S}return-1}var Bl="closure_lm_"+(1e6*Math.random()|0),fs={};function Ul(l,h,p,v,S){if(v&&v.once)return $l(l,h,p,v,S);if(Array.isArray(h)){for(var F=0;F<h.length;F++)Ul(l,h[F],p,v,S);return null}return p=vr(p),l&&l[ds]?l.K(h,p,u(v)?!!v.capture:!!v,S):zl(l,h,p,!1,v,S)}function zl(l,h,p,v,S,F){if(!h)throw Error("Invalid event type");var Q=u(S)?!!S.capture:!!S,ot=ql(l);if(ot||(l[Bl]=ot=new hs(l)),p=ot.add(h,p,v,Q,F),p.proxy)return p;if(v=Ah(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)Hv||(S=Q),S===void 0&&(S=!1),l.addEventListener(h.toString(),v,S);else if(l.attachEvent)l.attachEvent(Mh(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ah(){function l(p){return h.call(l.src,l.listener,p)}let h=Wv;return l}function $l(l,h,p,v,S){if(Array.isArray(h)){for(var F=0;F<h.length;F++)$l(l,h[F],p,v,S);return null}return p=vr(p),l&&l[ds]?l.L(h,p,u(v)?!!v.capture:!!v,S):zl(l,h,p,!0,v,S)}function Hl(l,h,p,v,S){if(Array.isArray(h))for(var F=0;F<h.length;F++)Hl(l,h[F],p,v,S);else v=u(v)?!!v.capture:!!v,p=vr(p),l&&l[ds]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],p=ka(F,p,v,S),-1<p&&(xn(F[p]),Array.prototype.splice.call(F,p,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=ql(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ka(h,p,v,S)),(p=-1<l?h[l]:null)&&ps(p))}function ps(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ds])zi(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(Mh(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=ql(h))?(zi(p,l),p.h==0&&(p.src=null,h[Bl]=null)):xn(l)}}}function Mh(l){return l in fs?fs[l]:fs[l]="on"+l}function Wv(l,h){if(l.da)l=!0;else{h=new rt(h,this);var p=l.listener,v=l.ha||l.src;l.fa&&ps(l),l=p.call(v,h)}return l}function ql(l){return l=l[Bl],l instanceof hs?l:null}var Gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function vr(l){return typeof l=="function"?l:(l[Gl]||(l[Gl]=function(h){return l.handleEvent(h)}),l[Gl])}function tn(){fe.call(this),this.i=new hs(this),this.M=this,this.F=null}y(tn,fe),tn.prototype[ds]=!0,tn.prototype.removeEventListener=function(l,h,p,v){Hl(this,l,h,p,v)};function sn(l,h){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new Tt(h,l);else if(h instanceof Tt)h.target=h.target||l;else{var S=h;h=new Tt(v,l),C(h,S)}if(S=!0,p)for(var F=p.length-1;0<=F;F--){var Q=h.g=p[F];S=Pa(Q,v,!0,h)&&S}if(Q=h.g=l,S=Pa(Q,v,!0,h)&&S,S=Pa(Q,v,!1,h)&&S,p)for(F=0;F<p.length;F++)Q=h.g=p[F],S=Pa(Q,v,!1,h)&&S}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],v=0;v<p.length;v++)xn(p[v]);delete l.g[h],l.h--}}this.F=null},tn.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},tn.prototype.L=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function Pa(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,F=0;F<h.length;++F){var Q=h[F];if(Q&&!Q.da&&Q.capture==p){var ot=Q.listener,an=Q.ha||Q.src;Q.fa&&zi(l.i,Q),S=ot.call(an,v)!==!1&&S}}return S&&!v.defaultPrevented}function Oa(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function T(l){l.g=Oa(()=>{l.g=null,l.i&&(l.i=!1,T(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class R extends fe{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:T(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function U(l){fe.call(this),this.h=l,this.g={}}y(U,fe);var W=[];function de(l){ie(l.g,function(h,p){this.g.hasOwnProperty(p)&&ps(h)},l),l.g={}}U.prototype.N=function(){U.aa.N.call(this),de(this)},U.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=a.JSON.stringify,Ot=a.JSON.parse,Le=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function X(){}X.prototype.h=null;function J(l){return l.h||(l.h=l.i())}function re(){}var oe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oe(){Tt.call(this,"d")}y(Oe,Tt);function Ze(){Tt.call(this,"c")}y(Ze,Tt);var Xe={},Ln=null;function ms(){return Ln=Ln||new tn}Xe.La="serverreachability";function Rh(l){Tt.call(this,Xe.La,l)}y(Rh,Tt);function gs(l){let h=ms();sn(h,new Rh(h))}Xe.STAT_EVENT="statevent";function SC(l,h){Tt.call(this,Xe.STAT_EVENT,l),this.stat=h}y(SC,Tt);function Tn(l){let h=ms();sn(h,new SC(h,l))}Xe.Ma="timingevent";function AC(l,h){Tt.call(this,Xe.Ma,l),this.size=h}y(AC,Tt);function Wl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Kl(){this.g=!0}Kl.prototype.xa=function(){this.g=!1};function UL(l,h,p,v,S,F){l.info(function(){if(l.g)if(F)for(var Q="",ot=F.split("&"),an=0;an<ot.length;an++){var We=ot[an].split("=");if(1<We.length){var pn=We[0];We=We[1];var mn=pn.split("_");Q=2<=mn.length&&mn[1]=="type"?Q+(pn+"="+We+"&"):Q+(pn+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+v+") [attempt "+S+"]: "+h+`
`+p+`
`+Q})}function zL(l,h,p,v,S,F,Q){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+S+"]: "+h+`
`+p+`
`+F+" "+Q})}function Fa(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+HL(l,p)+(v?" "+v:"")})}function $L(l,h){l.info(function(){return"TIMEOUT: "+h})}Kl.prototype.info=function(){};function HL(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var S=v[1];if(Array.isArray(S)&&!(1>S.length)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<S.length;Q++)S[Q]=""}}}}return _t(p)}catch{return h}}var Nh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kv;function kh(){}y(kh,X),kh.prototype.g=function(){return new XMLHttpRequest},kh.prototype.i=function(){return{}},Kv=new kh;function ro(l,h,p,v){this.j=l,this.i=h,this.l=p,this.R=v||1,this.U=new U(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new RC}function RC(){this.i=null,this.g="",this.h=!1}var NC={},Qv={};function Yv(l,h,p){l.L=1,l.v=Lh(yr(h)),l.m=p,l.P=!0,kC(l,null)}function kC(l,h){l.F=Date.now(),Ph(l),l.A=yr(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),WC(p.i,"t",v),l.C=0,p=l.j.J,l.h=new RC,l.g=dx(l.j,p?h:null,!l.m),0<l.O&&(l.M=new R(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,v=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(W[0]=S.toString()),S=W);for(var F=0;F<S.length;F++){var Q=Ul(p,S[F],v||h.handleEvent,!1,h.h||h);if(!Q)break;h.g[Q.key]=Q}h=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),gs(),UL(l.i,l.u,l.A,l.l,l.R,l.m)}ro.prototype.ca=function(l){l=l.target;let h=this.M;h&&_r(l)==3?h.j():this.Y(l)},ro.prototype.Y=function(l){try{if(l==this.g)e:{let mn=_r(this.g);var h=this.g.Ba();let ja=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||ex(this.g)))){this.J||mn!=4||h==7||(h==8||0>=ja?gs(3):gs(2)),Zv(this);var p=this.g.Z();this.X=p;t:if(PC(this)){var v=ex(this.g);l="";var S=v.length,F=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),Ql(this);var Q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(F&&h==S-1)});v.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=p==200,zL(this.i,this.u,this.A,this.l,this.R,mn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,an=this.g;if((ot=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ot)){var We=ot;break t}}We=null}if(p=We)Fa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xv(this,p);else{this.o=!1,this.s=3,Tn(12),vs(this),Ql(this);break e}}if(this.P){p=!0;let bi;for(;!this.J&&this.C<Q.length;)if(bi=qL(this,Q),bi==Qv){mn==4&&(this.s=4,Tn(14),p=!1),Fa(this.i,this.l,null,"[Incomplete Response]");break}else if(bi==NC){this.s=4,Tn(15),Fa(this.i,this.l,Q,"[Invalid Chunk]"),p=!1;break}else Fa(this.i,this.l,bi,null),Xv(this,bi);if(PC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||Q.length!=0||this.h.h||(this.s=1,Tn(16),p=!1),this.o=this.o&&p,!p)Fa(this.i,this.l,Q,"[Invalid Chunked Response]"),vs(this),Ql(this);else if(0<Q.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),ry(pn),pn.M=!0,Tn(11))}}else Fa(this.i,this.l,Q,null),Xv(this,Q);mn==4&&vs(this),this.o&&!this.J&&(mn==4?ax(this.j,this):(this.o=!1,Ph(this)))}else cV(this.g),p==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),vs(this),Ql(this)}}}catch{}finally{}};function PC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qL(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?Qv:(p=Number(h.substring(p,v)),isNaN(p)?NC:(v+=1,v+p>h.length?Qv:(h=h.slice(v,v+p),l.C=v+p,h)))}ro.prototype.cancel=function(){this.J=!0,vs(this)};function Ph(l){l.S=Date.now()+l.I,OC(l,l.I)}function OC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Wl(m(l.ba,l),h)}function Zv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ro.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?($L(this.i,this.A),this.L!=2&&(gs(),Tn(17)),vs(this),this.s=2,Ql(this)):OC(this,this.S-l)};function Ql(l){l.j.G==0||l.J||ax(l.j,l)}function vs(l){Zv(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,de(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Xv(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Jv(p.h,l))){if(!l.K&&Jv(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var S=v;if(S[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)zh(p),Bh(p);else break e;iy(p),Tn(18)}}else p.za=S[1],0<p.za-p.T&&37500>S[2]&&p.F&&p.v==0&&!p.C&&(p.C=Wl(m(p.Za,p),6e3));if(1>=VC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _s(p,11)}else if((l.K||p.g==l)&&zh(p),!P(h))for(S=p.Da.g.parse(h),h=0;h<S.length;h++){let We=S[h];if(p.T=We[0],We=We[1],p.G==2)if(We[0]=="c"){p.K=We[1],p.ia=We[2];let pn=We[3];pn!=null&&(p.la=pn,p.j.info("VER="+p.la));let mn=We[4];mn!=null&&(p.Aa=mn,p.j.info("SVER="+p.Aa));let ja=We[5];ja!=null&&typeof ja=="number"&&0<ja&&(v=1.5*ja,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let bi=l.g;if(bi){let Hh=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hh){var F=v.h;F.g||Hh.indexOf("spdy")==-1&&Hh.indexOf("quic")==-1&&Hh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ey(F,F.h),F.h=null))}if(v.D){let oy=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;oy&&(v.ya=oy,bt(v.I,v.D,oy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var Q=l;if(v.qa=ux(v,v.J?v.ia:null,v.W),Q.K){jC(v.h,Q);var ot=Q,an=v.L;an&&(ot.I=an),ot.B&&(Zv(ot),Ph(ot)),v.g=Q}else ox(v);0<p.i.length&&Uh(p)}else We[0]!="stop"&&We[0]!="close"||_s(p,7);else p.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?_s(p,7):ny(p):We[0]!="noop"&&p.l&&p.l.ta(We),p.v=0)}}gs(4)}catch{}}var GL=class{constructor(l,h){this.g=l,this.map=h}};function FC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function VC(l){return l.h?1:l.g?l.g.size:0}function Jv(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function ey(l,h){l.g?l.g.add(h):l.h=h}function jC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}FC.prototype.cancel=function(){if(this.i=BC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function BC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return I(l.i)}function WL(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,v=0;v<p;v++)h.push(l[v]);return h}h=[],p=0;for(v in l)h[p++]=l[v];return h}function KL(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let v in l)h[p++]=v;return h}}}function UC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=KL(l),v=WL(l),S=v.length,F=0;F<S;F++)h.call(void 0,v[F],p&&p[F],l)}var zC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QL(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),S=null;if(0<=v){var F=l[p].substring(0,v);S=l[p].substring(v+1)}else F=l[p];h(F,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function ys(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ys){this.h=l.h,Oh(this,l.j),this.o=l.o,this.g=l.g,Fh(this,l.s),this.l=l.l;var h=l.i,p=new Xl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),$C(this,p),this.m=l.m}else l&&(h=String(l).match(zC))?(this.h=!1,Oh(this,h[1]||"",!0),this.o=Yl(h[2]||""),this.g=Yl(h[3]||"",!0),Fh(this,h[4]),this.l=Yl(h[5]||"",!0),$C(this,h[6]||"",!0),this.m=Yl(h[7]||"")):(this.h=!1,this.i=new Xl(null,this.h))}ys.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Zl(h,HC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Zl(h,HC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Zl(p,p.charAt(0)=="/"?XL:ZL,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Zl(p,eV)),l.join("")};function yr(l){return new ys(l)}function Oh(l,h,p){l.j=p?Yl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Fh(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function $C(l,h,p){h instanceof Xl?(l.i=h,tV(l.i,l.h)):(p||(h=Zl(h,JL)),l.i=new Xl(h,l.h))}function bt(l,h,p){l.i.set(h,p)}function Lh(l){return bt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Yl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zl(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,YL),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function YL(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var HC=/[#\/\?@]/g,ZL=/[#\?:]/g,XL=/[#\?]/g,JL=/[#\?@]/g,eV=/#/g;function Xl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function oo(l){l.g||(l.g=new Map,l.h=0,l.i&&QL(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Xl.prototype,t.add=function(l,h){oo(this),this.i=null,l=La(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function qC(l,h){oo(l),h=La(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function GC(l,h){return oo(l),h=La(l,h),l.g.has(h)}t.forEach=function(l,h){oo(this),this.g.forEach(function(p,v){p.forEach(function(S){l.call(h,S,v,this)},this)},this)},t.na=function(){oo(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){let S=l[v];for(let F=0;F<S.length;F++)p.push(h[v])}return p},t.V=function(l){oo(this);let h=[];if(typeof l=="string")GC(this,l)&&(h=h.concat(this.g.get(La(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return oo(this),this.i=null,l=La(this,l),GC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function WC(l,h,p){qC(l,h),0<p.length&&(l.i=null,l.g.set(La(l,h),I(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];let F=encodeURIComponent(String(v)),Q=this.V(v);for(v=0;v<Q.length;v++){var S=F;Q[v]!==""&&(S+="="+encodeURIComponent(String(Q[v]))),l.push(S)}}return this.i=l.join("&")};function La(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function tV(l,h){h&&!l.j&&(oo(l),l.i=null,l.g.forEach(function(p,v){var S=v.toLowerCase();v!=S&&(qC(this,v),WC(this,S,p))},l)),l.j=h}function nV(l,h){let p=new Kl;if(a.Image){let v=new Image;v.onload=g(so,p,"TestLoadImage: loaded",!0,h,v),v.onerror=g(so,p,"TestLoadImage: error",!1,h,v),v.onabort=g(so,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(so,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function iV(l,h){let p=new Kl,v=new AbortController,S=setTimeout(()=>{v.abort(),so(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(F=>{clearTimeout(S),F.ok?so(p,"TestPingServer: ok",!0,h):so(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),so(p,"TestPingServer: error",!1,h)})}function so(l,h,p,v,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),v(p)}catch{}}function rV(){this.g=new Le}function oV(l,h,p){let v=p||"";try{UC(l,function(S,F){let Q=S;u(S)&&(Q=_t(S)),h.push(v+F+"="+encodeURIComponent(Q))})}catch(S){throw h.push(v+"type="+encodeURIComponent("_badmap")),S}}function Jl(l){this.l=l.Ub||null,this.j=l.eb||!1}y(Jl,X),Jl.prototype.g=function(){return new Vh(this.l,this.j)},Jl.prototype.i=function(l){return function(){return l}}({});function Vh(l,h){tn.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vh,tn),t=Vh.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,tu(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eu(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function KC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?eu(this):tu(this),this.readyState==3&&KC(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,eu(this))},t.Qa=function(l){this.g&&(this.response=l,eu(this))},t.ga=function(){this.g&&eu(this)};function eu(l){l.readyState=4,l.l=null,l.j=null,l.v=null,tu(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function tu(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function QC(l){let h="";return ie(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function ty(l,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=QC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):bt(l,h,p))}function Rt(l){tn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Rt,tn);var sV=/^https?$/i,aV=["POST","PUT"];t=Rt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kv.g(),this.v=this.o?J(this.o):J(Kv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){YC(this,F);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var S in v)p.set(S,v[S]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let F of v.keys())p.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(F=>F.toLowerCase()=="content-type"),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aV,h,void 0))||v||S||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,Q]of p)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{JC(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){YC(this,F)}};function YC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ZC(l),jh(l)}function ZC(l){l.A||(l.A=!0,sn(l,"complete"),sn(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,sn(this,"complete"),sn(this,"abort"),jh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jh(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?XC(this):this.bb())},t.bb=function(){XC(this)};function XC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||_r(l)!=4||l.Z()!=2)){if(l.u&&_r(l)==4)Oa(l.Ea,0,l);else if(sn(l,"readystatechange"),_r(l)==4){l.h=!1;try{let Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=Q===0){var S=String(l.D).match(zC)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),v=!sV.test(S?S.toLowerCase():"")}p=v}if(p)sn(l,"complete"),sn(l,"success");else{l.m=6;try{var F=2<_r(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",ZC(l)}}finally{jh(l)}}}}function jh(l,h){if(l.g){JC(l);let p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||sn(l,"ready");try{p.onreadystatechange=v}catch{}}}function JC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function _r(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Ot(h)}};function ex(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cV(l){let h={};l=(l.g&&2<=_r(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(P(l[v]))continue;var p=x(l[v]);let S=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let F=h[S]||[];h[S]=F,F.push(p)}E(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nu(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function tx(l){this.Aa=0,this.i=[],this.j=new Kl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nu("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nu("baseRetryDelayMs",5e3,l),this.cb=nu("retryDelaySeedMs",1e4,l),this.Wa=nu("forwardChannelMaxRetries",2,l),this.wa=nu("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new FC(l&&l.concurrentRequestLimit),this.Da=new rV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tx.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,v){Tn(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=ux(this,null,this.W),Uh(this)};function ny(l){if(nx(l),l.G==3){var h=l.U++,p=yr(l.I);if(bt(p,"SID",l.K),bt(p,"RID",h),bt(p,"TYPE","terminate"),iu(l,p),h=new ro(l,l.j,h),h.L=2,h.v=Lh(yr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=dx(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ph(h)}lx(l)}function Bh(l){l.g&&(ry(l),l.g.cancel(),l.g=null)}function nx(l){Bh(l),l.u&&(a.clearTimeout(l.u),l.u=null),zh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Uh(l){if(!LC(l.h)&&!l.s){l.s=!0;var h=l.Ga;no||jl(),io||(no(),io=!0),Na.add(h,l),l.B=0}}function lV(l,h){return VC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Wl(m(l.Ga,l,h),cx(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let S=new ro(this,this.j,l),F=this.o;if(this.S&&(F?(F=_(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(S.H=F,F=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=rx(this,S,h),p=yr(this.I),bt(p,"RID",l),bt(p,"CVER",22),this.D&&bt(p,"X-HTTP-Session-Id",this.D),iu(this,p),F&&(this.O?h="headers="+encodeURIComponent(String(QC(F)))+"&"+h:this.m&&ty(p,this.m,F)),ey(this.h,S),this.Ua&&bt(p,"TYPE","init"),this.P?(bt(p,"$req",h),bt(p,"SID","null"),S.T=!0,Yv(S,p,null)):Yv(S,p,h),this.G=2}}else this.G==3&&(l?ix(this,l):this.i.length==0||LC(this.h)||ix(this))};function ix(l,h){var p;h?p=h.l:p=l.U++;let v=yr(l.I);bt(v,"SID",l.K),bt(v,"RID",p),bt(v,"AID",l.T),iu(l,v),l.m&&l.o&&ty(v,l.m,l.o),p=new ro(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=rx(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ey(l.h,p),Yv(p,v,h)}function iu(l,h){l.H&&ie(l.H,function(p,v){bt(h,v,p)}),l.l&&UC({},function(p,v){bt(h,v,p)})}function rx(l,h,p){p=Math.min(l.i.length,p);var v=l.l?m(l.l.Na,l.l,l):null;e:{var S=l.i;let F=-1;for(;;){let Q=["count="+p];F==-1?0<p?(F=S[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let ot=!0;for(let an=0;an<p;an++){let We=S[an].g,pn=S[an].map;if(We-=F,0>We)F=Math.max(0,S[an].g-100),ot=!1;else try{oV(pn,Q,"req"+We+"_")}catch{v&&v(pn)}}if(ot){v=Q.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,v}function ox(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;no||jl(),io||(no(),io=!0),Na.add(h,l),l.v=0}}function iy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Wl(m(l.Fa,l),cx(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,sx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Wl(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),Bh(this),sx(this))};function ry(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function sx(l){l.g=new ro(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=yr(l.qa);bt(h,"RID","rpc"),bt(h,"SID",l.K),bt(h,"AID",l.T),bt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&bt(h,"TO",l.ja),bt(h,"TYPE","xmlhttp"),iu(l,h),l.m&&l.o&&ty(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Lh(yr(h)),p.m=null,p.P=!0,kC(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Bh(this),iy(this),Tn(19))};function zh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ax(l,h){var p=null;if(l.g==h){zh(l),ry(l),l.g=null;var v=2}else if(Jv(l.h,h))p=h.D,jC(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var S=l.B;v=ms(),sn(v,new AC(v,p)),Uh(l)}else ox(l);else if(S=h.s,S==3||S==0&&0<h.X||!(v==1&&lV(l,h)||v==2&&iy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),S){case 1:_s(l,5);break;case 4:_s(l,10);break;case 3:_s(l,6);break;default:_s(l,2)}}}function cx(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function _s(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),v=l.Xa;let S=!v;v=new ys(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oh(v,"https"),Lh(v),S?nV(v.toString(),p):iV(v.toString(),p)}else Tn(2);l.G=0,l.l&&l.l.sa(h),lx(l),nx(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function lx(l){if(l.G=0,l.ka=[],l.l){let h=BC(l.h);(h.length!=0||l.i.length!=0)&&(D(l.ka,h),D(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function ux(l,h,p){var v=p instanceof ys?yr(p):new ys(p);if(v.g!="")h&&(v.g=h+"."+v.g),Fh(v,v.s);else{var S=a.location;v=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var F=new ys(null);v&&Oh(F,v),h&&(F.g=h),S&&Fh(F,S),p&&(F.l=p),v=F}return p=l.D,h=l.ya,p&&h&&bt(v,p,h),bt(v,"VER",l.la),iu(l,v),v}function dx(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Rt(new Jl({eb:p})):new Rt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hx(){}t=hx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $h(){}$h.prototype.g=function(l,h){return new Wn(l,h)};function Wn(l,h){tn.call(this),this.g=new tx(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!P(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!P(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Va(this)}y(Wn,tn),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){ny(this.g)},Wn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=_t(l),l=p);h.i.push(new GL(h.Ya++,l)),h.G==3&&Uh(h)},Wn.prototype.N=function(){this.g.l=null,delete this.j,ny(this.g),delete this.g,Wn.aa.N.call(this)};function fx(l){Oe.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}y(fx,Oe);function px(){Ze.call(this),this.status=1}y(px,Ze);function Va(l){this.g=l}y(Va,hx),Va.prototype.ua=function(){sn(this.g,"a")},Va.prototype.ta=function(l){sn(this.g,new fx(l))},Va.prototype.sa=function(l){sn(this.g,new px)},Va.prototype.ra=function(){sn(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,lE=Gr.createWebChannelTransport=function(){return new $h},cE=Gr.getStatEventTarget=function(){return ms()},aE=Gr.Event=Xe,ug=Gr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nh.NO_ERROR=0,Nh.TIMEOUT=8,Nh.HTTP_ERROR=6,Md=Gr.ErrorCode=Nh,MC.COMPLETE="complete",sE=Gr.EventType=MC,re.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",tn.prototype.listen=tn.prototype.K,Kc=Gr.WebChannel=re,oE=Gr.FetchXmlHttpFactory=Jl,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,rE=Gr.XhrIo=Rt}).apply(typeof lg<"u"?lg:typeof self<"u"?self:typeof window<"u"?window:{});var _P="@firebase/firestore";var Gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");var Cl="10.13.1";var Zo=new Wh("@firebase/firestore");function Jc(){return Zo.logLevel}function wO(t){Zo.setLogLevel(t)}function G(t,...e){if(Zo.logLevel<=$i.DEBUG){let n=e.map(pD);Zo.debug(`Firestore (${Cl}): ${t}`,...n)}}function Vt(t,...e){if(Zo.logLevel<=$i.ERROR){let n=e.map(pD);Zo.error(`Firestore (${Cl}): ${t}`,...n)}}function gi(t,...e){if(Zo.logLevel<=$i.WARN){let n=e.map(pD);Zo.warn(`Firestore (${Cl}): ${t}`,...n)}}function pD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+t;throw Vt(e),new Error(e)}function ue(t,e){t||ne()}function EO(t,e){t||ne()}function Y(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ex{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var wg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}},mE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gE=class{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new Wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wt,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>L(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wt)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ue(typeof i.accessToken=="string"),new wg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string"),new Gt(e)}},vE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new vE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_E=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string"),this.R=n.token,new _E(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function N3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Eg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=N3(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ae(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function IO(t){return t+"\0"}var Mt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Mt(0,0))}static max(){return new t(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ig=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(),i===void 0?i=e.length-n:i>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},He=class t extends Ig{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},k3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends Ig{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return k3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var ll=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function wE(t){return t.fields.find(e=>e.kind===2)}function oa(t){return t.fields.filter(e=>e.kind!==2)}ll.UNKNOWN_ID=-1;var ol=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var zd=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,vi.min())}};function DO(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new Mt(n+1,0):new Mt(n,i));return new vi(r,Z.empty(),e)}function CO(t){return new vi(t.readTime,t.key,-1)}var vi=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(he.min(),Z.empty(),-1)}static max(){return new t(he.max(),Z.empty(),-1)}};function mD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}var xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function as(t){return L(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==xO)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;n(e[u]).next(d=>{s[u]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var Cg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new da(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=gD(i.target.error);this.V.reject(new da(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new da(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new IE(n)}},Xo=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(ou())===12.2&&Vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),sa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Gh())return!1;if(t.v())return!0;let e=ou(),n=t.S(e),i=0<n&&n<10,r=TO(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(e){return L(this,null,function*(){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new da(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new H(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new H(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new da(e,s))},r.onupgradeneeded=o=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return L(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Cg.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),N.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&s<3;if(G("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function TO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var EE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return sa(this.B.delete())}},da=class extends H{constructor(e,n){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function cs(t){return t.name==="IndexedDbTransactionError"}var IE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),sa(i)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),sa(this.store.add(e))}get(e){return sa(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),sa(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),sa(this.store.count())}U(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(i.range);return new N((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new N((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.H=!1;let r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.W(r,n)}Y(e){let n=this.cursor({});return new N((i,r)=>{n.onerror=o=>{let s=gD(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(e,n){let i=[];return new N((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new EE(a),u=n(a.primaryKey,a.value,c);if(u instanceof N){let d=u.catch(f=>(c.done(),N.reject(f)));i.push(d)}c.isDone?r():c.K===null?a.continue():a.continue(c.K)}}).next(()=>N.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function sa(t){return new N((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=gD(i.target.error);n(r)}})}var bP=!1;function gD(t){let e=Xo.S(ou());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bP||(bP=!0,setTimeout(()=>{throw i},0)),i}}return t}var DE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>L(this,null,function*(){this.task=null;try{G("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){cs(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield as(n)}yield this.X(6e4)}))}},CE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return L(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let i=new Set,r=n,o=!0;return N.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return G("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}ne(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(r,o)).next(a=>(G("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=CO(o);mD(s,i)>0&&(i=s)}),new vi(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var ri=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function dh(t){return t==null}function $d(t){return t===0&&1/t==-1/0}function SO(t){return typeof t=="number"&&Number.isInteger(t)&&!$d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Pn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=wP(e)),e=P3(t.get(n),e);return wP(e)}function P3(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function wP(t){return t+""}function sr(t){let e=t.length;if(ue(e>=2),e===2)return ue(t.charAt(0)===""&&t.charAt(1)===""),He.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&ne(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:ne()}o=s+2}return new He(i)}var EP=["userId","batchId"];function mg(t,e){return[t,Pn(e)]}function AO(t,e,n){return[t,Pn(e),n]}var O3={},F3=["prefixPath","collectionGroup","readTime","documentId"],L3=["prefixPath","collectionGroup","documentId"],V3=["collectionGroup","readTime","prefixPath","documentId"],j3=["canonicalId","targetId"],B3=["targetId","path"],U3=["path","targetId"],z3=["collectionId","parent"],$3=["indexId","uid"],H3=["uid","sequenceNumber"],q3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G3=["indexId","uid","orderedDocumentKey"],W3=["userId","collectionPath","documentId"],K3=["userId","collectionPath","largestBatchId"],Q3=["userId","collectionGroup","largestBatchId"],MO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y3=[...MO,"documentOverlays"],RO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NO=RO,vD=[...NO,"indexConfiguration","indexState","indexEntries"],Z3=vD,X3=[...vD,"globals"];var Hd=class extends Dg{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function Jt(t,e){let n=Y(t);return Xo.F(n._e,e)}function IP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var It=class t{constructor(e,n){this.comparator=e,this.root=n||cr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rl(this.root,e,this.comparator,!0)}},rl=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cr=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,i,r,o){return this}insert(e,n,i){return new cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xg(this.data.getIterator())}getIteratorFrom(e){return new xg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Qc(t){return t.hasNext()?t.getNext():void 0}var oi=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(jt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Tg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function PO(){return typeof atob<"u"}var Ut=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tg("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ut.EMPTY_BYTE_STRING=new Ut("");var J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(ue(!!t),typeof t=="string"){let e=0,n=J3.exec(t);if(ue(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}function vv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yD(t){let e=t.mapValue.fields.__previous_value__;return vv(e)?yD(e):e}function qd(t){let e=Qr(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}var xE=class{constructor(e,n,i,r,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},es=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gg={nullValue:"NULL_VALUE"};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:OO(t)?9007199254740991:yv(t)?10:11:ne()}function dr(t,e){if(t===e)return!0;let n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Qr(r.timestampValue),a=Qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Jo(r.bytesValue).isEqual(Jo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Ct(r.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ct(r.integerValue)===Ct(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ct(r.doubleValue),a=Ct(o.doubleValue);return s===a?$d(s)===$d(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(IP(s)!==IP(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!dr(s[c],a[c])))return!1;return!0}(t,e);default:return ne()}}function Gd(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function ts(t,e){if(t===e)return 0;let n=ha(t),i=ha(e);if(n!==i)return Ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ct(o.integerValue||o.doubleValue),c=Ct(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DP(t.timestampValue,e.timestampValue);case 4:return DP(qd(t),qd(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Jo(o),c=Jo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ae(a[u],c[u]);if(d!==0)return d}return Ae(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ae(Ct(o.latitude),Ct(s.latitude));return a!==0?a:Ae(Ct(o.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CP(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,u,d;let f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=(c=m.value)===null||c===void 0?void 0:c.arrayValue,I=Ae(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=y?.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:CP(g,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qo.mapValue&&s===Qo.mapValue)return 0;if(o===Qo.mapValue)return 1;if(s===Qo.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=Ae(c[f],d[f]);if(m!==0)return m;let g=ts(a[c[f]],u[d[f]]);if(g!==0)return g}return Ae(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ne()}}function DP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);let n=Qr(t),i=Qr(e),r=Ae(n.seconds,i.seconds);return r!==0?r:Ae(n.nanos,i.nanos)}function CP(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let o=ts(n[r],i[r]);if(o)return o}return Ae(n.length,i.length)}function ul(t){return TE(t)}function TE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Qr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=TE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${TE(n.fields[s])}`;return r+"}"}(t.mapValue):ne()}function fa(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SE(t){return!!t&&"integerValue"in t}function Wd(t){return!!t&&"arrayValue"in t}function xP(t){return!!t&&"nullValue"in t}function TP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vg(t){return!!t&&"mapValue"in t}function yv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ld(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var FO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function e5(t){return"nullValue"in t?gg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fa(es.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?yv(t)?FO:{mapValue:{}}:ne()}function t5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fa(es.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?FO:"mapValue"in t?yv(t)?{mapValue:{}}:Qo:ne()}function SP(t,e){let n=ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function AP(t,e){let n=ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Cn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!vg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(n)}setAll(e){let n=jt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=Ld(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());vg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];vg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ia(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Ld(this.value))}};function LO(t){let e=[];return Ia(t.fields,(n,i)=>{let r=new jt([n]);if(vg(i)){let o=LO(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new oi(e)}var Kt=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),Cn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,he.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hr=class{constructor(e,n){this.position=e,this.inclusive=n}};function MP(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=Z.comparator(Z.fromName(s.referenceValue),n.key):i=ts(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function RP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}var pa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function n5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Sg=class{},Be=class t extends Sg{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new RE(e,n,i):n==="array-contains"?new PE(e,i):n==="in"?new Ag(e,i):n==="not-in"?new OE(e,i):n==="array-contains-any"?new FE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new NE(e,i):new kE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ts(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},it=class t extends Sg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return dl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function dl(t){return t.op==="and"}function AE(t){return t.op==="or"}function _D(t){return VO(t)&&dl(t)}function VO(t){for(let e of t.filters)if(e instanceof it)return!1;return!0}function ME(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(_D(t))return t.filters.map(e=>ME(e)).join(",");{let e=t.filters.map(n=>ME(n)).join(",");return`${t.op}(${e})`}}function jO(t,e){return t instanceof Be?function(i,r){return r instanceof Be&&i.op===r.op&&i.field.isEqual(r.field)&&dr(i.value,r.value)}(t,e):t instanceof it?function(i,r){return r instanceof it&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&jO(s,r.filters[a]),!0):!1}(t,e):void ne()}function BO(t,e){let n=t.filters.concat(e);return it.create(n,t.op)}function UO(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof it?function(n){return n.op.toString()+" {"+n.getFilters().map(UO).join(" ,")+"}"}(t):"Filter"}var RE=class extends Be{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},NE=class extends Be{constructor(e,n){super(e,"in",n),this.keys=zO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},kE=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=zO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function zO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}var PE=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Wd(n)&&Gd(n.arrayValue,this.value)}},Ag=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}},OE=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Gd(this.value.arrayValue,n)}},FE=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Gd(this.value.arrayValue,i))}};var LE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function VE(t,e=null,n=[],i=[],r=null,o=null,s=null){return new LE(t,e,n,i,r,o,s)}function ma(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ME(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ul(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ul(i)).join(",")),e.ue=n}return e.ue}function hh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RP(t.startAt,e.startAt)&&RP(t.endAt,e.endAt)}function Mg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Rg(t,e){return t.filters.filter(n=>n instanceof Be&&n.field.isEqual(e))}function NP(t,e,n){let i=gg,r=!0;for(let o of Rg(t,e)){let s=gg,a=!0;switch(o.op){case"<":case"<=":s=e5(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=gg}SP({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];SP({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function kP(t,e,n){let i=Qo,r=!0;for(let o of Rg(t,e)){let s=Qo,a=!0;switch(o.op){case">=":case">":s=t5(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Qo}AP({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];AP({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var Li=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function $O(t,e,n,i,r,o,s,a){return new Li(t,e,n,i,r,o,s,a)}function xl(t){return new Li(t)}function PP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bD(t){return t.collectionGroup!==null}function sl(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new pa(o,i))}),n.has(jt.keyField().canonicalString())||e.ce.push(new pa(jt.keyField(),i))}return e.ce}function On(t){let e=Y(t);return e.le||(e.le=i5(e,sl(t))),e.le}function i5(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new pa(r.field,o)});let n=t.endAt?new hr(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hr(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function jE(t,e){let n=t.filters.concat([e]);return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return hh(On(t),On(e))&&t.limitType===e.limitType}function HO(t){return`${ma(On(t))}|lt:${t.limitType}`}function el(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>UO(r)).join(", ")}]`),dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ul(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ul(r)).join(",")),`Target(${i})`}(On(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Z.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of sl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let u=MP(s,a,c);return s.inclusive?u<=0:u<0}(i.startAt,sl(i),r)||i.endAt&&!function(s,a,c){let u=MP(s,a,c);return s.inclusive?u>=0:u>0}(i.endAt,sl(i),r))}(t,e)}function qO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GO(t){return(e,n)=>{let i=!1;for(let r of sl(t)){let o=r5(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function r5(t,e,n){let i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ts(c,u):ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne()}}var fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return kO(this.inner)}size(){return this.innerSize}};var o5=new It(Z.comparator);function Gn(){return o5}var WO=new It(Z.comparator);function Od(...t){let e=WO;for(let n of t)e=e.insert(n.key,n);return e}function KO(t){let e=WO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ar(){return Vd()}function QO(){return Vd()}function Vd(){return new fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var s5=new It(Z.comparator),a5=new dt(Z.comparator);function ke(...t){let e=a5;for(let n of t)e=e.add(n);return e}var c5=new dt(Ae);function wD(){return c5}function ED(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function YO(t){return{integerValue:""+t}}function ZO(t,e){return SO(e)?YO(e):ED(t,e)}var hl=class{constructor(){this._=void 0}};function l5(t,e,n){return t instanceof ns?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&vv(o)&&(o=yD(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Yr?JO(t,e):t instanceof Zr?e1(t,e):function(r,o){let s=XO(r,o),a=OP(s)+OP(r.Pe);return SE(s)&&SE(r.Pe)?YO(a):ED(r.serializer,a)}(t,e)}function u5(t,e,n){return t instanceof Yr?JO(t,e):t instanceof Zr?e1(t,e):n}function XO(t,e){return t instanceof is?function(i){return SE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ns=class extends hl{},Yr=class extends hl{constructor(e){super(),this.elements=e}};function JO(t,e){let n=t1(e);for(let i of t.elements)n.some(r=>dr(r,i))||n.push(i);return{arrayValue:{values:n}}}var Zr=class extends hl{constructor(e){super(),this.elements=e}};function e1(t,e){let n=t1(e);for(let i of t.elements)n=n.filter(r=>!dr(r,i));return{arrayValue:{values:n}}}var is=class extends hl{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function OP(t){return Ct(t.integerValue||t.doubleValue)}function t1(t){return Wd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ga=class{constructor(e,n){this.field=e,this.transform=n}};function d5(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Yr&&r instanceof Yr||i instanceof Zr&&r instanceof Zr?cl(i.elements,r.elements,dr):i instanceof is&&r instanceof is?dr(i.Pe,r.Pe):i instanceof ns&&r instanceof ns}(t.transform,e.transform)}var BE=class{constructor(e,n){this.version=e,this.transformResults=n}},Pt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var fl=class{};function n1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new os(t.key,Pt.none()):new rs(t.key,t.data,Pt.none());{let n=t.data,i=Cn.empty(),r=new dt(jt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Vi(t.key,i,new oi(r.toArray()),Pt.none())}}function h5(t,e,n){t instanceof rs?function(r,o,s){let a=r.value.clone(),c=LP(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,o,s){if(!yg(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LP(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(i1(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,i){return t instanceof rs?function(o,s,a,c){if(!yg(o.precondition,s))return a;let u=o.value.clone(),d=VP(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Vi?function(o,s,a,c){if(!yg(o.precondition,s))return a;let u=VP(o.fieldTransforms,c,s),d=s.data;return d.setAll(i1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(o,s,a){return yg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function f5(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=XO(i.transform,r||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(i.field,o))}return n||null}function FP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&cl(i,r,(o,s)=>d5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var rs=class extends fl{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Vi=class extends fl{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function i1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function LP(t,e,n){let i=new Map;ue(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,u5(s,a,n[r]))}return i}function VP(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,l5(o,s,e))}return i}var os=class extends fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Kd=class extends fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qd=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&h5(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=jd(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=jd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=QO();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=n1(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(n,i)=>FP(n,i))&&cl(this.baseMutations,e.baseMutations,(n,i)=>FP(n,i))}},UE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ue(e.mutations.length===i.length);let r=function(){return s5}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var Yd=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ht,$e;function r1(t){switch(t){default:return ne();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function o1(t){if(t===void 0)return Vt("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ht.OK:return O.OK;case Ht.CANCELLED:return O.CANCELLED;case Ht.UNKNOWN:return O.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return O.INTERNAL;case Ht.UNAVAILABLE:return O.UNAVAILABLE;case Ht.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ht.NOT_FOUND:return O.NOT_FOUND;case Ht.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ht.ABORTED:return O.ABORTED;case Ht.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ht.DATA_LOSS:return O.DATA_LOSS;default:return ne()}}($e=Ht||(Ht={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";var jP=null;function s1(){return new TextEncoder}var p5=new Ho([4294967295,4294967295],0);function BP(t){let e=s1().encode(t),n=new iE;return n.update(e),new Uint8Array(n.digest())}function UP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ho([n,i],0),new Ho([r,o],0)]}var $E=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ho.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Ho.fromNumber(i)));return r.compare(p5)===1&&(r=new Ho([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=BP(e),[i,r]=UP(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=BP(e),[i,r]=UP(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ua=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Zd=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(he.min(),r,new It(Ae),Gn(),ke())}},Xd=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ke(),ke(),ke())}};var al=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},kg=class{constructor(e,n){this.targetId=e,this.me=n}},Pg=class{constructor(e,n,i=Ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Og=class{constructor(){this.fe=0,this.ge=$P(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),i=ke();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ne()}}),new Xd(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=$P()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},HE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gn(),this.qe=zP(),this.Qe=new It(Ae)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if(Mg(o))if(i===0){let s=new Z(o.path);this.Ue(n,s,Kt.newNoDocument(s,he.min()))}else ue(i===1);else{let s=this.Ye(n);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}jP?.et(function(d,f,m,g,y){var I,D,k,P,V,K;let ce={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},ie=f.unchangedNames;return ie&&(ce.bloomFilter={applied:y===0,hashCount:(I=ie?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(P=(k=(D=ie?.bits)===null||D===void 0?void 0:D.bitmap)===null||k===void 0?void 0:k.length)!==null&&P!==void 0?P:0,padding:(K=(V=ie?.bits)===null||V===void 0?void 0:V.padding)!==null&&K!==void 0?K:0,mightContain:E=>{var _;return(_=g?.mightContain(E))!==null&&_!==void 0&&_}}),ce}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Jo(i).toUint8Array()}catch(c){if(c instanceof Tg)return gi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $E(s,r,o)}catch(c){return gi(c instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Mg(a.target)){let c=new Z(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Kt.newNoDocument(c,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let i=ke();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Zd(e,n,this.Qe,this.ke,i);return this.ke=Gn(),this.qe=zP(),this.Qe=new It(Ae),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Og,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Og),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zP(){return new It(Z.comparator)}function $P(){return new It(Z.comparator)}var m5={asc:"ASCENDING",desc:"DESCENDING"},g5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v5={and:"AND",or:"OR"},qE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function GE(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function pl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y5(t,e){return pl(t,e.toTimestamp())}function Bt(t){return ue(!!t),he.fromTimestamp(function(n){let i=Qr(n);return new Mt(i.seconds,i.nanos)}(t))}function ID(t,e){return WE(t,e).canonicalString()}function WE(t,e){let n=function(r){return new He(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function c1(t){let e=He.fromString(t);return ue(y1(e)),e}function Jd(t,e){return ID(t.databaseId,e.path)}function lr(t,e){let n=c1(e);if(n.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(d1(n))}function l1(t,e){return ID(t.databaseId,e)}function u1(t){let e=c1(t);return e.length===4?He.emptyPath():d1(e)}function KE(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function d1(t){return ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HP(t,e,n){return{name:Jd(t,e),fields:n.value.mapValue.fields}}function h1(t,e,n){let i=lr(t,e.name),r=Bt(e.updateTime),o=e.createTime?Bt(e.createTime):he.min(),s=new Cn({mapValue:{fields:e.fields}}),a=Kt.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _5(t,e){return"found"in e?function(i,r){ue(!!r.found),r.found.name,r.found.updateTime;let o=lr(i,r.found.name),s=Bt(r.found.updateTime),a=r.found.createTime?Bt(r.found.createTime):he.min(),c=new Cn({mapValue:{fields:r.found.fields}});return Kt.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){ue(!!r.missing),ue(!!r.readTime);let o=lr(i,r.missing),s=Bt(r.readTime);return Kt.newNoDocument(o,s)}(t,e):ne()}function b5(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(ue(d===void 0||typeof d=="string"),Ut.fromBase64String(d||"")):(ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ut.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let d=u.code===void 0?O.UNKNOWN:o1(u.code);return new H(d,u.message||"")}(s);n=new Pg(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=lr(t,i.document.name),o=Bt(i.document.updateTime),s=i.document.createTime?Bt(i.document.createTime):he.min(),a=new Cn({mapValue:{fields:i.document.fields}}),c=Kt.newFoundDocument(r,o,s,a),u=i.targetIds||[],d=i.removedTargetIds||[];n=new al(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=lr(t,i.document),o=i.readTime?Bt(i.readTime):he.min(),s=Kt.newNoDocument(r,o),a=i.removedTargetIds||[];n=new al([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=lr(t,i.document),o=i.removedTargetIds||[];n=new al([],o,r,null)}else{if(!("filter"in e))return ne();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new zE(r,o),a=i.targetId;n=new kg(a,s)}}return n}function eh(t,e){let n;if(e instanceof rs)n={update:HP(t,e.key,e.value)};else if(e instanceof os)n={delete:Jd(t,e.key)};else if(e instanceof Vi)n={update:HP(t,e.key,e.data),updateMask:x5(e.fieldMask)};else{if(!(e instanceof Kd))return ne();n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof ns)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof is)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:y5(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function QE(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?Pt.updateTime(Bt(o.updateTime)):o.exists!==void 0?Pt.exists(o.exists):Pt.none()}(e.currentDocument):Pt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)ue(a.setToServerValue==="REQUEST_TIME"),c=new ns;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Yr(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Zr(d)}else"increment"in a?c=new is(s,a.increment):ne();let u=jt.fromServerFormat(a.fieldPath);return new ga(u,c)}(t,r)):[];if(e.update){e.update.name;let r=lr(t,e.update.name),o=new Cn({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let u=c.fieldPaths||[];return new oi(u.map(d=>jt.fromServerFormat(d)))}(e.updateMask);return new Vi(r,o,s,n,i)}return new rs(r,o,n,i)}if(e.delete){let r=lr(t,e.delete);return new os(r,n)}if(e.verify){let r=lr(t,e.verify);return new Kd(r,n)}return ne()}function w5(t,e){return t&&t.length>0?(ue(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?Bt(r.updateTime):Bt(o);return s.isEqual(he.min())&&(s=Bt(o)),new BE(s,r.transformResults||[])}(n,e))):[]}function f1(t,e){return{documents:[l1(t,e.path)]}}function p1(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=l1(t,r);let o=function(u){if(u.length!==0)return v1(it.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:tl(m.field),direction:I5(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=GE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function m1(t){let e=u1(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){ue(i===1);let d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){let m=g1(f);return m instanceof it&&_D(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(y){return new pa(nl(y.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,dh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new hr(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,g=f.values||[];return new hr(g,m)}(n.endAt)),$O(e,r,s,o,a,"F",c,u)}function E5(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=nl(n.unaryFilter.field);return Be.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=nl(n.unaryFilter.field);return Be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=nl(n.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=nl(n.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(nl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return it.create(n.compositeFilter.filters.map(i=>g1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function I5(t){return m5[t]}function D5(t){return g5[t]}function C5(t){return v5[t]}function tl(t){return{fieldPath:t.canonicalString()}}function nl(t){return jt.fromServerFormat(t.fieldPath)}function v1(t){return t instanceof Be?function(n){if(n.op==="=="){if(TP(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NAN"}};if(xP(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TP(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NAN"}};if(xP(n.value))return{unaryFilter:{field:tl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(n.field),op:D5(n.op),value:n.value}}}(t):t instanceof it?function(n){let i=n.getFilters().map(r=>v1(r));return i.length===1?i[0]:{compositeFilter:{op:C5(n.op),filters:i}}}(t):ne()}function x5(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ml=class t{constructor(e,n,i,r,o=he.min(),s=he.min(),a=Ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Fg=class{constructor(e){this.ct=e}};function T5(t,e){let n;if(e.document)n=h1(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=Z.fromSegments(e.noDocument.path),r=ya(e.noDocument.readTime);n=Kt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ne();{let i=Z.fromSegments(e.unknownDocument.path),r=ya(e.unknownDocument.version);n=Kt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new Mt(r[0],r[1]);return he.fromTimestamp(o)}(e.readTime)),n}function qP(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Jd(o,s.key),fields:s.data.value.mapValue.fields,updateTime:pl(o,s.version.toTimestamp()),createTime:pl(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:va(e.version)};else{if(!e.isUnknownDocument())return ne();i.unknownDocument={path:n.path.toArray(),version:va(e.version)}}return i}function Lg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function va(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(t){let e=new Mt(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function aa(t,e){let n=(e.baseMutations||[]).map(o=>QE(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>QE(t.ct,o)),r=Mt.fromMillis(e.localWriteTimeMs);return new Qd(e.batchId,r,n,i)}function Fd(t){let e=ya(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ya(t.lastLimboFreeSnapshotVersion):he.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return ue(o.documents.length===1),On(xl(u1(o.documents[0])))}(t.query):function(o){return On(m1(o))}(t.query),new ml(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ut.fromBase64String(t.resumeToken))}function _1(t,e){let n=va(e.snapshotVersion),i=va(e.lastLimboFreeSnapshotVersion),r;r=Mg(e.target)?f1(t.ct,e.target):p1(t.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ma(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function DD(t){let e=m1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ng(e,e.limit,"L"):e}function uE(t,e){return new Yd(e.largestBatchId,QE(t.ct,e.overlayMutation))}function GP(t,e){let n=e.path.lastSegment();return[t,Pn(e.path.popLast()),n]}function WP(t,e,n,i){return{indexId:t,uid:e,sequenceNumber:n,readTime:va(i.readTime),documentKey:Pn(i.documentKey.path),largestBatchId:i.largestBatchId}}var YE=class{getBundleMetadata(e,n){return KP(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:ya(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return KP(e).put(function(r){return{bundleId:r.id,createTime:va(Bt(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return QP(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:DD(o.bundledQuery),readTime:ya(o.readTime)}}(i)})}saveNamedQuery(e,n){return QP(e).put(function(r){return{name:r.name,readTime:va(Bt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function KP(t){return Jt(t,"bundles")}function QP(t){return Jt(t,"namedQueries")}var Vg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return Rd(e).get(GP(this.userId,n)).next(i=>i?uE(this.serializer,i):null)}getOverlays(e,n){let i=ar();return N.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new Yd(n,s);r.push(this.ht(e,a))}),N.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(Pn(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Rd(e).j("collectionPathOverlayIndex",a))}),N.waitFor(o)}getOverlaysForCollection(e,n,i){let r=ar(),o=Pn(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Rd(e).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let u=uE(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=ar(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Rd(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=uE(this.serializer,u);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(e,n){return Rd(e).put(function(r,o,s){let[a,c,u]=GP(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:eh(r.ct,s.mutation)}}(this.serializer,this.userId,n))}};function Rd(t){return Jt(t,"documentOverlays")}var ZE=class{Pt(e){return Jt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{let i=n?.value;return i?Ut.fromUint8Array(i):Ut.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}};var Wr=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ct(e.integerValue));else if("doubleValue"in e){let i=Ct(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),$d(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Qr(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Jo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?OO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):yv(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",a=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(Ct(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Wr.vt=new Wr;function S5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function YP(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=S5(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var XE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ft(i.value),i=n.next();this.Mt()}xt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ot(i.value),i=n.next();this.Nt()}Lt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=n.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{let r=n.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(e){let n=this.qt(e),i=YP(n);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Kt(e){let n=this.qt(e),i=YP(n);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Ft(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){let n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},JE=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},eI=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},ca=class{constructor(){this.jt=new XE,this.Ht=new JE(this.jt),this.Jt=new eI(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var la=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Zt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function qo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=ZP(t.arrayValue,e.arrayValue),n!==0?n:(n=ZP(t.directionalValue,e.directionalValue),n!==0?n:Z.comparator(t.documentKey,e.documentKey)))}function ZP(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var jg=class{constructor(e){this.Xt=new dt((n,i)=>jt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let n of e.filters){let i=n;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(e){if(ue(e.collectionGroup===this.collectionId),this.nn)return!1;let n=wE(e);if(n!==void 0&&!this.sn(n))return!1;let i=oa(e),r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new dt(jt.comparator),n=[];for(let i of this.tn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new ol(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new ol(i.field,0))}for(let i of this.en)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new ol(i.field,i.dir==="asc"?0:1)));return new ll(ll.UNKNOWN_ID,this.collectionId,n,zd.empty())}sn(e){for(let n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function b1(t){var e,n;if(ue(t instanceof Be||t instanceof it),t instanceof Be){if(t instanceof Ag){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Be.create(t.field,"==",o)))||[];return it.create(r,"or")}return t}let i=t.filters.map(r=>b1(r));return it.create(i,t.op)}function A5(t){if(t.getFilters().length===0)return[];let e=iI(b1(t));return ue(w1(e)),tI(e)||nI(e)?[e]:e.getFilters()}function tI(t){return t instanceof Be}function nI(t){return t instanceof it&&_D(t)}function w1(t){return tI(t)||nI(t)||function(n){if(n instanceof it&&AE(n)){for(let i of n.getFilters())if(!tI(i)&&!nI(i))return!1;return!0}return!1}(t)}function iI(t){if(ue(t instanceof Be||t instanceof it),t instanceof Be)return t;if(t.filters.length===1)return iI(t.filters[0]);let e=t.filters.map(i=>iI(i)),n=it.create(e,t.op);return n=Bg(n),w1(n)?n:(ue(n instanceof it),ue(dl(n)),ue(n.filters.length>1),n.filters.reduce((i,r)=>CD(i,r)))}function CD(t,e){let n;return ue(t instanceof Be||t instanceof it),ue(e instanceof Be||e instanceof it),n=t instanceof Be?e instanceof Be?function(r,o){return it.create([r,o],"and")}(t,e):XP(t,e):e instanceof Be?XP(e,t):function(r,o){if(ue(r.filters.length>0&&o.filters.length>0),dl(r)&&dl(o))return BO(r,o.getFilters());let s=AE(r)?r:o,a=AE(r)?o:r,c=s.filters.map(u=>CD(u,a));return it.create(c,"or")}(t,e),Bg(n)}function XP(t,e){if(dl(e))return BO(e,t.getFilters());{let n=e.filters.map(i=>CD(t,i));return it.create(n,"or")}}function Bg(t){if(ue(t instanceof Be||t instanceof it),t instanceof Be)return t;let e=t.getFilters();if(e.length===1)return Bg(e[0]);if(VO(t))return t;let n=e.map(r=>Bg(r)),i=[];return n.forEach(r=>{r instanceof Be?i.push(r):r instanceof it&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:it.create(i,t.op)}var rI=class{constructor(){this.un=new th}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(vi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(vi.min())}updateCollectionGroup(e,n,i){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},th=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new dt(He.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new dt(He.comparator)).toArray()}};var dg=new Uint8Array(0),oI=class{constructor(e,n){this.databaseId=n,this.cn=new th,this.ln=new fr(i=>ma(i),(i,r)=>hh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});let o={collectionId:i,parent:Pn(r)};return JP(e).put(o)}return N.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[IO(n),""],!1,!0);return JP(e).U(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(sr(s.parent))}return i})}addFieldIndex(e,n){let i=Nd(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=Zc(e);return o.next(a=>{s.put(WP(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=Nd(e),r=Zc(e),o=Yc(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Nd(e),i=Yc(e),r=Zc(e);return n.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(e,n){return N.forEach(this.hn(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new jg(i).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Yc(e),r=!0,o=new Map;return N.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ke(),a=[];return N.forEach(o,(c,u)=>{G("IndexedDbIndexManager",`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`}(c)} to execute ${ma(n)}`);let d=function(V,K){let ce=wE(K);if(ce===void 0)return null;for(let ie of Rg(V,ce.fieldPath))switch(ie.op){case"array-contains-any":return ie.value.arrayValue.values||[];case"array-contains":return[ie.value]}return null}(u,c),f=function(V,K){let ce=new Map;for(let ie of oa(K))for(let E of Rg(V,ie.fieldPath))switch(E.op){case"==":case"in":ce.set(ie.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return ce.set(ie.fieldPath.canonicalString(),E.value),Array.from(ce.values())}return null}(u,c),m=function(V,K){let ce=[],ie=!0;for(let E of oa(K)){let _=E.kind===0?NP(V,E.fieldPath,V.startAt):kP(V,E.fieldPath,V.startAt);ce.push(_.value),ie&&(ie=_.inclusive)}return new hr(ce,ie)}(u,c),g=function(V,K){let ce=[],ie=!0;for(let E of oa(K)){let _=E.kind===0?kP(V,E.fieldPath,V.endAt):NP(V,E.fieldPath,V.endAt);ce.push(_.value),ie&&(ie=_.inclusive)}return new hr(ce,ie)}(u,c),y=this.In(c,u,m),I=this.In(c,u,g),D=this.Tn(c,u,f),k=this.En(c.indexId,d,y,m.inclusive,I,g.inclusive,D);return N.forEach(k,P=>i.G(P,n.limit).next(V=>{V.forEach(K=>{let ce=Z.fromSegments(K.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return N.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=A5(it.create(e.filters,"and")).map(i=>VE(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let m=n?this.dn(n[f/u]):dg,g=this.An(e,m,i[f%u],r),y=this.Rn(e,m,o[f%u],s),I=a.map(D=>this.An(e,m,D,!0));d.push(...this.createRange(g,y,I))}return d}An(e,n,i,r){let o=new la(e,Z.empty(),n,i);return r?o:o.Zt()}Rn(e,n,i,r){let o=new la(e,Z.empty(),n,i);return r?o.Zt():o}Pn(e,n){let i=new jg(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.hn(n);return N.forEach(r,o=>this.Pn(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let u=new dt(jt.comparator),d=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}Vn(e,n){let i=new ca;for(let r of oa(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.Yt(r.kind);Wr.vt.It(o,s)}return i.zt()}dn(e){let n=new ca;return Wr.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){let i=new ca;return Wr.vt.It(fa(this.databaseId,n),i.Yt(function(o){let s=oa(o);return s.length===0?0:s[s.length-1].kind}(e))),i.zt()}Tn(e,n,i){if(i===null)return[];let r=[];r.push(new ca);let o=0;for(let s of oa(e)){let a=i[o++];for(let c of r)if(this.fn(n,s.fieldPath)&&Wd(a))r=this.gn(r,s,a);else{let u=c.Yt(s.kind);Wr.vt.It(a,u)}}return this.pn(r)}In(e,n,i){return this.Tn(e,n,i.position)}pn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].zt();return n}gn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new ca;c.seed(a.zt()),Wr.vt.It(s,c.Yt(n.kind)),o.push(c)}return o}fn(e,n){return!!e.filters.find(i=>i instanceof Be&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=Nd(e),r=Zc(e);return(n?i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.U()).next(o=>{let s=[];return N.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,f){let m=f?new zd(f.sequenceNumber,new vi(ya(f.readTime),new Z(sr(f.documentKey)),f.largestBatchId)):zd.empty(),g=d.fields.map(([y,I])=>new ol(jt.fromServerFormat(y),I));return new ll(d.indexId,d.collectionGroup,g,m)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:Ae(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=Nd(e),o=Zc(e);return this.yn(e).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,c=>o.put(WP(c.indexId,this.uid,s,i)))))}updateIndexEntries(e,n){let i=new Map;return N.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?N.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),N.forEach(a,c=>this.wn(e,r,c).next(u=>{let d=this.Sn(o,c);return u.isEqual(d)?N.resolve():this.bn(e,o,c,u,d)}))))})}Dn(e,n,i,r){return Yc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,n.key),documentKey:n.key.path.toArray()})}vn(e,n,i,r){return Yc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,n.key),n.key.path.toArray()])}wn(e,n,i){let r=Yc(e),o=new dt(qo);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,n)])},(s,a)=>{o=o.add(new la(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let i=new dt(qo),r=this.Vn(n,e);if(r==null)return i;let o=wE(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Wd(s))for(let a of s.arrayValue.values||[])i=i.add(new la(n.indexId,e.key,this.dn(a),r))}else i=i.add(new la(n.indexId,e.key,dg,r));return i}bn(e,n,i,r,o){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,u,d,f,m){let g=c.getIterator(),y=u.getIterator(),I=Qc(g),D=Qc(y);for(;I||D;){let k=!1,P=!1;if(I&&D){let V=d(I,D);V<0?P=!0:V>0&&(k=!0)}else I!=null?P=!0:k=!0;k?(f(D),D=Qc(y)):P?(m(I),I=Qc(g)):(I=Qc(g),D=Qc(y))}}(r,o,qo,a=>{s.push(this.Dn(e,n,i,a))},a=>{s.push(this.vn(e,n,i,a))}),N.waitFor(s)}yn(e){let n=1;return Zc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>qo(s,a)).filter((s,a,c)=>!a||qo(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=qo(s,e),c=qo(s,n);if(a===0)r[0]=e.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,dg,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,dg,[]];o.push(IDBKeyRange.bound(a,c))}return o}Cn(e,n){return qo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(eO)}getMinOffset(e,n){return N.mapArray(this.hn(n),i=>this.Pn(e,i).next(r=>r||ne())).next(eO)}};function JP(t){return Jt(t,"collectionParents")}function Yc(t){return Jt(t,"indexEntries")}function Nd(t){return Jt(t,"indexConfiguration")}function Zc(t){return Jt(t,"indexState")}function eO(t){ue(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;mD(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new vi(e.readTime,e.documentKey,n)}var tO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function E1(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.J({range:s},(d,f,m)=>(a++,m.delete()));o.push(c.next(()=>{ue(a===1)}));let u=[];for(let d of n.mutations){let f=AO(e,d.key.path,n.batchId);o.push(r.delete(f)),u.push(d.key)}return N.waitFor(o).next(()=>u)}function Ug(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ne();e=t.noDocument}return JSON.stringify(e).length}mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(41943040,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);var zg=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(e,n,i,r){ue(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Go(e).J({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=il(e),s=Go(e);return s.add({}).next(a=>{ue(typeof a=="number");let c=new Qd(a,n,i,r),u=function(g,y,I){let D=I.baseMutations.map(P=>eh(g.ct,P)),k=I.mutations.map(P=>eh(g.ct,P));return{userId:y,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:D,mutations:k}}(this.serializer,this.userId,c),d=[],f=new dt((m,g)=>Ae(m.canonicalString(),g.canonicalString()));for(let m of r){let g=AO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(s.put(u)),d.push(o.put(g,O3))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),N.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Go(e).get(n).next(i=>i?(ue(i.userId===this.userId),aa(this.serializer,i)):null)}Mn(e,n){return this.Fn[n]?N.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Fn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Go(e).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ue(a.batchId>=i),o=aa(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Go(e).J({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Go(e).U("userMutationsIndex",n).next(i=>i.map(r=>aa(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=mg(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return il(e).J({range:r},(s,a,c)=>{let[u,d,f]=s,m=sr(d);if(u===this.userId&&n.path.isEqual(m))return Go(e).get(f).next(g=>{if(!g)throw ne();ue(g.userId===this.userId),o.push(aa(this.serializer,g))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dt(Ae),r=[];return n.forEach(o=>{let s=mg(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=il(e).J({range:a},(u,d,f)=>{let[m,g,y]=u,I=sr(g);m===this.userId&&o.path.isEqual(I)?i=i.add(y):f.done()});r.push(c)}),N.waitFor(r).next(()=>this.xn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=mg(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new dt(Ae);return il(e).J({range:s},(c,u,d)=>{let[f,m,g]=c,y=sr(m);f===this.userId&&i.isPrefixOf(y)?y.length===r&&(a=a.add(g)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(Go(e).get(o).next(s=>{if(s===null)throw ne();ue(s.userId===this.userId),i.push(aa(this.serializer,s))}))}),N.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return E1(e._e,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),N.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return il(e).J({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=sr(o[1]);r.push(c)}else a.done()}).next(()=>{ue(r.length===0)})})}containsKey(e,n){return I1(e,this.userId,n)}Nn(e){return D1(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function I1(t,e,n){let i=mg(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return il(t).J({range:o,H:!0},(a,c,u)=>{let[d,f,m]=a;d===e&&f===r&&(s=!0),u.done()}).next(()=>s)}function Go(t){return Jt(t,"mutations")}function il(t){return Jt(t,"documentMutations")}function D1(t){return Jt(t,"mutationQueues")}var gl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var sI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{let i=new gl(n.highestTargetId);return n.highestTargetId=i.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new Mt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.qn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Qn(e,r)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(i=>(i.targetCount+=1,this.$n(n,i),this.Qn(e,i))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Xc(e).delete(n.targetId)).next(()=>this.qn(e)).next(i=>(ue(i.targetCount>0),i.targetCount-=1,this.Qn(e,i)))}removeTargets(e,n,i){let r=0,o=[];return Xc(e).J((s,a)=>{let c=Fd(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>N.waitFor(o)).next(()=>r)}forEachTarget(e,n){return Xc(e).J((i,r)=>{let o=Fd(r);n(o)})}qn(e){return nO(e).get("targetGlobalKey").next(n=>(ue(n!==null),n))}Qn(e,n){return nO(e).put("targetGlobalKey",n)}Kn(e,n){return Xc(e).put(_1(this.serializer,n))}$n(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=ma(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Xc(e).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let u=Fd(a);hh(n,u.target)&&(o=u,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=Wo(e);return n.forEach(s=>{let a=Pn(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),N.waitFor(r)}removeMatchingKeys(e,n,i){let r=Wo(e);return N.forEach(n,o=>{let s=Pn(o.path);return N.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=Wo(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=Wo(e),o=ke();return r.J({range:i,H:!0},(s,a,c)=>{let u=sr(s[1]),d=new Z(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){let i=Pn(n.path),r=IDBKeyRange.bound([i],[IO(i)],!1,!0),o=0;return Wo(e).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return Xc(e).get(n).next(i=>i?Fd(i):null)}};function Xc(t){return Jt(t,"targets")}function nO(t){return Jt(t,"targetGlobal")}function Wo(t){return Jt(t,"targetDocuments")}function iO([t,e],[n,i]){let r=Ae(t,n);return r===0?Ae(e,i):r}var aI=class{constructor(e){this.Un=e,this.buffer=new dt(iO),this.Wn=0}Gn(){return++this.Wn}zn(e){let n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();iO(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},cI=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>L(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){cs(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield as(n)}yield this.Hn(3e5)}))}},lI=class{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return N.resolve(ri.oe);let i=new aI(n);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(tO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tO):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let i,r,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(u=Date.now(),Jc()<=$i.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function M5(t,e){return new lI(t,e)}var uI=class{constructor(e,n){this.db=e,this.garbageCollector=M5(this,n)}Yn(e){let n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}er(e){let n=0;return this.Zn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(i,r)=>n(r))}addReference(e,n,i){return hg(e,i)}removeReference(e,n,i){return hg(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return hg(e,n)}nr(e,n){return function(r,o){let s=!1;return D1(r).Y(a=>I1(r,a,o).next(c=>(c&&(s=!0),N.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.tr(e,(s,a)=>{if(a<=n){let c=this.nr(e,s).next(u=>{if(!u)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,he.min()),Wo(e).delete(function(f){return[0,Pn(f.path)]}(s))))});r.push(c)}}).next(()=>N.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return hg(e,n)}tr(e,n){let i=Wo(e),r,o=ri.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:u})=>{s===0?(o!==ri.oe&&n(new Z(sr(r)),o),o=u,r=c):o=ri.oe}).next(()=>{o!==ri.oe&&n(new Z(sr(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function hg(t,e){return Wo(t).put(function(i,r){return{targetId:0,path:Pn(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var $g=class{constructor(){this.changes=new fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return ra(e).put(i)}removeEntry(e,n,i){return ra(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Lg(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.rr(e,i)))}getEntry(e,n){let i=Kt.newInvalidDocument(n);return ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kd(n))},(r,o)=>{i=this.ir(n,o)}).next(()=>i)}sr(e,n){let i={size:0,document:Kt.newInvalidDocument(n)};return ra(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(kd(n))},(r,o)=>{i={document:this.ir(n,o),size:Ug(o)}}).next(()=>i)}getEntries(e,n){let i=Gn();return this._r(e,n,(r,o)=>{let s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(e,n){let i=Gn(),r=new It(Z.comparator);return this._r(e,n,(o,s)=>{let a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,Ug(s))}).next(()=>({documents:i,ur:r}))}_r(e,n,i){if(n.isEmpty())return N.resolve();let r=new dt(sO);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(kd(r.first()),kd(r.last())),s=r.getIterator(),a=s.getNext();return ra(e).J({index:"documentKeyIndex",range:o},(c,u,d)=>{let f=Z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&sO(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,u),a=s.hasNext()?s.getNext():null),a?d.$(kd(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Lg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ra(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let d=Gn();for(let f of u){let m=this.ir(Z.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(ph(n,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,i,r){let o=Gn(),s=oO(n,i),a=oO(n,vi.max());return ra(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,u,d)=>{let f=this.ir(Z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(e){return new hI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return rO(e).get("remoteDocumentGlobalKey").next(n=>(ue(!!n),n))}rr(e,n){return rO(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){let i=T5(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual(he.min())))return i}return Kt.newInvalidDocument(e)}};function C1(t){return new dI(t)}var hI=class extends $g{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new fr(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new dt((o,s)=>Ae(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=qP(this.cr.serializer,s);r=r.add(o.path.popLast());let u=Ug(c);i+=u-a.size,n.push(this.cr.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=qP(this.cr.serializer,s.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,i)),N.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(i=>(this.lr.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function rO(t){return Jt(t,"remoteDocumentGlobal")}function ra(t){return Jt(t,"remoteDocumentsV14")}function kd(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oO(t,e){let n=e.documentKey.path.toArray();return[t,Lg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sO(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=Ae(n[o],i[o]),r)return r;return r=Ae(n.length,i.length),r||(r=Ae(n[n.length-2],i[i.length-2]),r||Ae(n[n.length-1],i[i.length-1]))}var fI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Hg=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&jd(i.mutation,r,oi.empty(),Mt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ke()){let r=ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Od();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ke()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=Gn(),s=Vd(),a=function(){return Vd()}();return n.forEach((c,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Vi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),jd(d.mutation,u,d.mutation.getFieldMask(),Mt.now())):s.set(u.key,oi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new fI(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Vd(),r=new It((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=i.get(c)||oi.empty();d=a.applyToLocalView(u,d),i.set(c,d);let f=(r.get(a.batchId)||ke()).add(c);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=QO();d.forEach(m=>{if(!o.has(m)){let g=n1(n.get(m),i.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return N.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):N.resolve(ar()),a=-1,c=o;return s.next(u=>N.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?N.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ke())).next(d=>({batchId:a,changes:KO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let r=Od();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Od();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,c=>{let u=function(f,m){return new Li(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,Kt.newInvalidDocument(d)))});let a=Od();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&jd(d.mutation,u,oi.empty(),Mt.now()),ph(n,u)&&(a=a.insert(c,u))}),a})}};var pI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Bt(r.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:DD(r.bundledQuery),readTime:Bt(r.readTime)}}(n)),N.resolve()}};var mI=class{constructor(){this.overlays=new It(Z.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ar();return N.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),N.resolve()}getOverlaysForCollection(e,n,i){let r=ar(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return N.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new It((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let d=o.get(u.largestBatchId);d===null&&(d=ar(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=ar(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return N.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Yd(n,i));let o=this.Ir.get(n);o===void 0&&(o=ke(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}};var gI=class{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var nh=class{constructor(){this.Tr=new dt(qt.Er),this.dr=new dt(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new qt(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new Z(new He([])),i=new qt(n,e),r=new qt(n,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new He([])),i=new qt(n,e),r=new qt(n,e+1),o=ke();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new qt(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},qt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||Ae(e.wr,n.wr)}static Ar(e,n){return Ae(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var vI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dt(qt.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Qd(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.br=this.br.add(new qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new qt(n,0),r=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let a=this.Dr(s.wr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dt(Ae);return n.forEach(r=>{let o=new qt(r,0),s=new qt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),N.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Z.isDocumentKey(o)||(o=o.child(""));let s=new qt(new Z(o),0),a=new dt(Ae);return this.br.forEachWhile(c=>{let u=c.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(c.wr)),!0)},s),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return N.forEach(n.mutations,r=>{let o=new qt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new qt(n,0),r=this.br.firstAfterOrEqual(i);return N.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yI=class{constructor(e){this.Mr=e,this.docs=function(){return new It(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let i=Gn();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kt.newInvalidDocument(r))}),N.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Gn(),s=n.path,a=new Z(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||mD(CO(d),i)<=0||(r.has(d.key)||ph(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,i,r){ne()}Or(e,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _I(this)}getSize(e){return N.resolve(this.size)}},_I=class extends $g{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var bI=class{constructor(e){this.persistence=e,this.Nr=new fr(n=>ma(n),hh),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nh,this.targetCount=0,this.kr=gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return N.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),N.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return N.resolve(i)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var qg=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ri(0),this.Kr=!1,this.Kr=!0,this.$r=new gI,this.referenceDelegate=e(this),this.Ur=new bI(this),this.indexManager=new rI,this.remoteDocumentCache=function(r){return new yI(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Fg(n),this.Gr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new vI(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);let r=new wI(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},wI=class extends Dg{constructor(e){super(),this.currentSequenceNumber=e}},Gg=class t{constructor(e){this.persistence=e,this.Jr=new nh,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),N.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,i=>{let r=Z.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var EI=class{constructor(e){this.serializer=e}O(e,n,i,r){let o=new Cg("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EP,{unique:!0}),c.createObjectStore("documentMutations")}(e),aO(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=N.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),aO(e)),s=s.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",EP,{unique:!0});let f=u.store("mutations"),m=d.map(g=>f.put(g));return N.waitFor(m)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:W3});u.createIndex("collectionPathOverlayIndex",K3,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Q3,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:F3});u.createIndex("documentKeyIndex",L3),u.createIndex("collectionGroupIndex",V3)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:$3}).createIndex("sequenceNumberIndex",H3,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:q3}).createIndex("documentKeyIndex",G3,{unique:!1})}(e))),i<16&&r>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((i,r)=>{n+=Ug(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.U().next(r=>N.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>N.forEach(a,c=>{ue(c.userId===o.userId);let u=aa(this.serializer,c);return E1(e,o.userId,u).next(()=>{})}))}))}ii(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.J((s,a)=>{let c=new He(s),u=function(f){return[0,Pn(f)]}(c);o.push(n.get(u).next(d=>d?N.resolve():(f=>n.put({targetId:0,path:Pn(f),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>N.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:z3});let i=n.store("collectionParents"),r=new th,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Pn(c)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new He(s);return o(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,c],u)=>{let d=sr(a);return o(d.popLast())}))}oi(e){let n=e.store("targets");return n.J((i,r)=>{let o=Fd(r),s=_1(this.serializer,o);return n.put(s)})}_i(e,n){let i=n.store("remoteDocuments"),r=[];return i.J((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new Z(He.fromString(f.document.name).popFirst(5)):f.noDocument?Z.fromSegments(f.noDocument.path):f.unknownDocument?Z.fromSegments(f.unknownDocument.path):ne()}(s).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(u))}).next(()=>N.waitFor(r))}ai(e,n){let i=n.store("mutations"),r=C1(this.serializer),o=new qg(Gg.Zr,this.serializer.ct);return i.U().next(s=>{let a=new Map;return s.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:ke();aa(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),N.forEach(a,(c,u)=>{let d=new Gt(u),f=Vg.lt(this.serializer,d),m=o.getIndexManager(d),g=zg.lt(d,this.serializer,m,o.referenceDelegate);return new Hg(r,g,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Hd(n,ri.oe),c).next()})})}};function aO(t){t.createObjectStore("targetDocuments",{keyPath:B3}).createIndex("documentTargetsIndex",U3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j3,{unique:!0}),t.createObjectStore("targetGlobal")}var dE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",II=class t{constructor(e,n,i,r,o,s,a,c,u,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!t.D())throw new H(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uI(this,r),this.Ai=n+"main",this.serializer=new Fg(c),this.Ri=new Xo(this.Ai,this.hi,new EI(this.serializer)),this.$r=new ZE,this.Ur=new sI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=C1(this.serializer),this.Gr=new YE,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(O.FAILED_PRECONDITION,dE);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ri(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=n=>L(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(n=>L(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>L(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(cs(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Pd(e).get("owner").next(n=>N.resolve(this.vi(n)))}Ci(e){return fg(e).delete(this.clientId)}Fi(){return L(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=Jt(n,"clientMetadata");return i.U().next(r=>{let o=this.xi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return N.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(let n of e)this.Vi.removeItem(this.Oi(n.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?N.resolve(!0):Pd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new H(O.FAILED_PRECONDITION,dE);return!1}}return!(!this.networkEnabled||!this.inForeground)||fg(e).U().next(i=>this.xi(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return L(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Hd(e,ri.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()})}xi(e,n){return e.filter(i=>this.Mi(i.updateTimeMs,n)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>fg(e).U().next(n=>this.xi(n,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return zg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Vg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,i){G("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===17?X3:c===16?Z3:c===15?vD:c===14?NO:c===13?RO:c===12?Y3:c===11?MO:void ne()}(this.hi),s;return this.Ri.runTransaction(e,r,o,a=>(s=new Hd(a,this.Qr?this.Qr.next():ri.oe),n==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw Vt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new H(O.FAILED_PRECONDITION,xO);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return Pd(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new H(O.FAILED_PRECONDITION,dE)})}Di(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pd(e).put("owner",n)}static D(){return Xo.D()}bi(e){let n=Pd(e);return n.get("owner").next(i=>this.vi(i)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):N.resolve())}Mi(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(Vt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let n=/(?:Version|Mobile)\/1[456]/;cy()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{let i=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Vt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Pd(t){return Jt(t,"owner")}function fg(t){return Jt(t,"clientMetadata")}function xD(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var DI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ke(),r=ke();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var CI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Wg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cy()?8:TO(ou())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new CI;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Jc()<=$i.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",el(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Jc()<=$i.DEBUG&&G("QueryEngine","Query:",el(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Jc()<=$i.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",el(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):N.resolve())}Yi(e,n){if(PP(n))return N.resolve(null);let i=On(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ng(n,null,"F"),i=On(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ke(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,Ng(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,i,r){return PP(n)||r.isEqual(he.min())?N.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(n,o);return this.ns(n,s,i,r)?N.resolve(null):(Jc()<=$i.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(n)),this.rs(e,s,n,DO(r,-1)).next(a=>a))})}ts(e,n){let i=new dt(GO(e));return n.forEach((r,o)=>{ph(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return Jc()<=$i.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",el(n)),this.Ji.getDocumentsMatchingQuery(e,n,vi.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var xI=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new It(Ae),this._s=new fr(o=>ma(o),hh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function x1(t,e,n,i){return new xI(t,e,n,i)}function T1(t,e){return L(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=ke();for(let u of r){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(i,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function R5(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),g=N.resolve();return m.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(I=>{let D=u.docVersions.get(y);ue(D!==null),I.version.compareTo(D)<0&&(f.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ke();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function S1(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function N5(t,e){let n=Y(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let m=r.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ut.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,i)),r=r.insert(f,g),function(I,D,k){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(o,g))});let c=Gn(),u=ke();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(A1(o,s,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!i.isEqual(he.min())){let d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=r,o))}function A1(t,e,n){let i=ke(),r=ke();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Gn();return n.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function k5(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vl(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,N.resolve(r)):n.Ur.allocateTargetId(i).next(s=>(r=new ml(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function yl(t,e,n){return L(this,null,function*(){let i=Y(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!cs(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function Kg(t,e,n){let i=Y(t),r=he.min(),o=ke();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,d){let f=Y(c),m=f._s.get(d);return m!==void 0?N.resolve(f.os.get(m)):f.Ur.getTargetData(u,d)}(i,s,On(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,n?r:he.min(),n?o:ke())).next(a=>(N1(i,qO(e),a),{documents:a,Ts:o})))}function M1(t,e){let n=Y(t),i=Y(n.Ur),r=n.os.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,e).next(s=>s?s.target:null))}function R1(t,e){let n=Y(t),i=n.us.get(e)||he.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.cs.getAllFromCollectionGroup(r,e,DO(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(N1(n,e,r),r))}function N1(t,e,n){let i=t.us.get(e)||he.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}function P5(t,e,n,i){return L(this,null,function*(){let r=Y(t),o=ke(),s=Gn();for(let u of n){let d=e.Es(u.metadata.name);u.document&&(o=o.add(d));let f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(d,f)}let a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield vl(r,function(d){return On(xl(He.fromString(`__bundle__/docs/${d}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",u=>A1(u,a,s).next(d=>(a.apply(u),d)).next(d=>r.Ur.removeMatchingKeysForTargetId(u,c.targetId).next(()=>r.Ur.addMatchingKeys(u,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,d.Ps,d.Is)).next(()=>d.Ps)))})}function O5(i,r){return L(this,arguments,function*(t,e,n=ke()){let o=yield vl(t,On(DD(e.bundledQuery))),s=Y(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=Bt(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Gr.saveNamedQuery(a,e);let u=o.withResumeToken(Ut.EMPTY_BYTE_STRING,c);return s.os=s.os.insert(u.targetId,u),s.Ur.updateTargetData(a,u).next(()=>s.Ur.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Ur.addMatchingKeys(a,n,o.targetId)).next(()=>s.Gr.saveNamedQuery(a,e))})})}function cO(t,e){return`firestore_clients_${t}_${e}`}function lO(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function hE(t,e){return`firestore_targets_${t}_${e}`}var Qg=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Rs(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new H(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(Vt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Bd=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Rs(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new H(i.error.code,i.error.message))),o?new t(e,i.state,r):(Vt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Yg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=wD();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=SO(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(Vt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},TI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Vt("SharedClientState",`Failed to parse online state: ${e}`),null)}},ih=class{constructor(){this.activeTargetIds=wD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Ud=class{constructor(e,n,i,r,o){this.window=e,this.ui=n,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new It(Ae),this.started=!1,this.bs=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=cO(this.persistenceKey,this.ps),this.vs=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new ih),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return L(this,null,function*(){let e=yield this.syncEngine.Qi();for(let i of e){if(i===this.ps)continue;let r=this.getItem(cO(this.persistenceKey,i));if(r){let o=Yg.Rs(i,r);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();let n=this.storage.getItem(this.xs);if(n){let i=this.Ls(n);i&&this.Bs(i)}for(let i of this.bs)this.ws(i);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,i){this.qs(e,n,i),this.Qs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(hE(this.persistenceKey,e));if(i){let r=Bd.Rs(e,i);r&&(n=r.state)}}return this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hE(this.persistenceKey,e))}updateQueryState(e,n,i){this.$s(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Qs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>L(this,null,function*(){if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){let i=this.Gs(n.key);return this.zs(i,null)}{let i=this.js(n.key,n.newValue);if(i)return this.zs(i.clientId,i)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){let i=this.Hs(n.key,n.newValue);if(i)return this.Js(i)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){let i=this.Ys(n.key,n.newValue);if(i)return this.Zs(i)}}else if(n.key===this.xs){if(n.newValue!==null){let i=this.Ls(n.newValue);if(i)return this.Bs(i)}}else if(n.key===this.vs){let i=function(o){let s=ri.oe;if(o!=null)try{let a=JSON.parse(o);ue(typeof a=="number"),s=a}catch(a){Vt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==ri.oe&&this.sequenceNumberHandler(i)}else if(n.key===this.Os){let i=this.Xs(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.eo(r)))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,i){let r=new Qg(this.currentUser,e,n,i),o=lO(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Vs())}Qs(e){let n=lO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){let n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,i){let r=hE(this.persistenceKey,e),o=new Bd(e,n,i);this.setItem(r,o.Vs())}Ws(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){let n=this.Cs.exec(e);return n?n[1]:null}js(e,n){let i=this.Gs(e);return Yg.Rs(i,n)}Hs(e,n){let i=this.Fs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Qg.Rs(new Gt(o),r,n)}Ys(e,n){let i=this.Ms.exec(e),r=Number(i[1]);return Bd.Rs(r,n)}Ls(e){return TI.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return L(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){let i=n?this.Ss.insert(e,n):this.Ss.remove(e),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=wD();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Zg=class{constructor(){this.so=new ih,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ih,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var SI=class{_o(e){}shutdown(){}};var Xg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pg=null;function fE(){return pg===null?pg=function(){return 268435456+Math.round(2147483648*Math.random())}():pg++,"0x"+pg.toString(16)}var F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var AI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Dn="WebChannelConnection",MI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,s){let a=fE(),c=this.xo(n,i.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,c,u,r).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw gi("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Lo(n,i,r,o,s,a){return this.Mo(n,i,r,o,s)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}xo(n,i){let r=F5[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let o=fE();return new Promise((s,a)=>{let c=new rE;c.setWithCredentials(!0),c.listenOnce(sE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Md.NO_ERROR:let d=c.getResponseJson();G(Dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Md.TIMEOUT:G(Dn,`RPC '${e}' ${o} timed out`),a(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:let f=c.getStatus();if(G(Dn,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let g=m?.error;if(g&&g.status&&g.message){let y=function(D){let k=D.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(k)>=0?k:O.UNKNOWN}(g.status);a(new H(y,g.message))}else a(new H(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new H(O.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(Dn,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);G(Dn,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",u,i,15)})}Bo(e,n,i){let r=fE(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lE(),a=cE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new oE({})),this.Oo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let d=o.join("");G(Dn,`Creating RPC '${e}' stream ${r}: ${d}`,c);let f=s.createWebChannel(d,c),m=!1,g=!1,y=new AI({Io:D=>{g?G(Dn,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(m||(G(Dn,`Opening RPC '${e}' stream ${r} transport.`),f.open(),m=!0),G(Dn,`RPC '${e}' stream ${r} sending:`,D),f.send(D))},To:()=>f.close()}),I=(D,k,P)=>{D.listen(k,V=>{try{P(V)}catch(K){setTimeout(()=>{throw K},0)}})};return I(f,Kc.EventType.OPEN,()=>{g||(G(Dn,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),I(f,Kc.EventType.CLOSE,()=>{g||(g=!0,G(Dn,`RPC '${e}' stream ${r} transport closed`),y.So())}),I(f,Kc.EventType.ERROR,D=>{g||(g=!0,gi(Dn,`RPC '${e}' stream ${r} transport errored:`,D),y.So(new H(O.UNAVAILABLE,"The operation could not be completed")))}),I(f,Kc.EventType.MESSAGE,D=>{var k;if(!g){let P=D.data[0];ue(!!P);let V=P,K=V.error||((k=V[0])===null||k===void 0?void 0:k.error);if(K){G(Dn,`RPC '${e}' stream ${r} received error:`,K);let ce=K.status,ie=function(w){let C=Ht[w];if(C!==void 0)return o1(C)}(ce),E=K.message;ie===void 0&&(ie=O.INTERNAL,E="Unknown error status: "+ce+" with message "+K.message),g=!0,y.So(new H(ie,E)),f.close()}else G(Dn,`RPC '${e}' stream ${r} received:`,P),y.bo(P)}}),I(a,aE.STAT_EVENT,D=>{D.stat===ug.PROXY?G(Dn,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===ug.NOPROXY&&G(Dn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}};function k1(){return typeof window<"u"?window:null}function _g(){return typeof document<"u"?document:null}function mh(t){return new qE(t,!0)}var rh=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Jg=class{constructor(e,n,i,r,o,s,a,c){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return L(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return L(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return L(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Vt(n.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new H(O.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>L(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},RI=class extends Jg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=b5(this.serializer,e),i=function(o){if(!("targetChange"in o))return he.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?he.min():s.readTime?Bt(s.readTime):he.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=KE(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=Mg(c)?{documents:f1(o,c)}:{query:p1(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=a1(o,s.resumeToken);let u=GE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(he.min())>0){a.readTime=pl(o,s.snapshotVersion.toTimestamp());let u=GE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=E5(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=KE(this.serializer),n.removeTarget=e,this.a_(n)}},NI=class extends Jg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ue(!!e.streamToken),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=w5(e.writeResults,e.commitTime),i=Bt(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=KE(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>eh(this.serializer,i))};this.a_(n)}};var kI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,WE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,WE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},PI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vt(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var OI=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>L(this,null,function*(){ls(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(c){return L(this,null,function*(){let u=Y(c);u.L_.add(4),yield Tl(u),u.q_.set("Unknown"),u.L_.delete(4),yield gh(u)})}(this))}))}),this.q_=new PI(i,r)}};function gh(t){return L(this,null,function*(){if(ls(t))for(let e of t.B_)yield e(!0)})}function Tl(t){return L(this,null,function*(){for(let e of t.B_)yield e(!1)})}function _v(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),AD(n)?SD(n):Al(n).r_()&&TD(n,e))}function _l(t,e){let n=Y(t),i=Al(n);n.N_.delete(e),i.r_()&&P1(n,e),n.N_.size===0&&(i.r_()?i.o_():ls(n)&&n.q_.set("Unknown"))}function TD(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).A_(e)}function P1(t,e){t.Q_.xe(e),Al(t).R_(e)}function SD(t){t.Q_=new HE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.q_.v_()}function AD(t){return ls(t)&&!Al(t).n_()&&t.N_.size>0}function ls(t){return Y(t).L_.size===0}function O1(t){t.Q_=void 0}function L5(t){return L(this,null,function*(){t.q_.set("Online")})}function V5(t){return L(this,null,function*(){t.N_.forEach((e,n)=>{TD(t,e)})})}function j5(t,e){return L(this,null,function*(){O1(t),AD(t)?(t.q_.M_(e),SD(t)):t.q_.set("Unknown")})}function B5(t,e,n){return L(this,null,function*(){if(t.q_.set("Online"),e instanceof Pg&&e.state===2&&e.cause)try{yield function(r,o){return L(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.N_.delete(a),r.Q_.removeTarget(a))})}(t,e)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ev(t,i)}else if(e instanceof al?t.Q_.Ke(e):e instanceof kg?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{let i=yield S1(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Ut.EMPTY_BYTE_STRING,d.snapshotVersion)),P1(o,c);let f=new ml(d.target,c,u,d.sequenceNumber);TD(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){G("RemoteStore","Failed to raise snapshot:",i),yield ev(t,i)}})}function ev(t,e,n){return L(this,null,function*(){if(!cs(e))throw e;t.L_.add(1),yield Tl(t),t.q_.set("Offline"),n||(n=()=>S1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>L(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield gh(t)}))})}function F1(t,e){return e().catch(n=>ev(t,n,e))}function Sl(t){return L(this,null,function*(){let e=Y(t),n=ss(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;U5(e);)try{let r=yield k5(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,z5(e,r)}catch(r){yield ev(e,r)}L1(e)&&V1(e)})}function U5(t){return ls(t)&&t.O_.length<10}function z5(t,e){t.O_.push(e);let n=ss(t);n.r_()&&n.V_&&n.m_(e.mutations)}function L1(t){return ls(t)&&!ss(t).n_()&&t.O_.length>0}function V1(t){ss(t).start()}function $5(t){return L(this,null,function*(){ss(t).p_()})}function H5(t){return L(this,null,function*(){let e=ss(t);for(let n of t.O_)e.m_(n.mutations)})}function q5(t,e,n){return L(this,null,function*(){let i=t.O_.shift(),r=UE.from(i,e,n);yield F1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Sl(t)})}function G5(t,e){return L(this,null,function*(){e&&ss(t).V_&&(yield function(i,r){return L(this,null,function*(){if(function(s){return r1(s)&&s!==O.ABORTED}(r.code)){let o=i.O_.shift();ss(i).s_(),yield F1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Sl(i)}})}(t,e)),L1(t)&&V1(t)})}function uO(t,e){return L(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let i=ls(n);n.L_.add(3),yield Tl(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield gh(n)})}function FI(t,e){return L(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield gh(n)):e||(n.L_.add(2),yield Tl(n),n.q_.set("Unknown"))})}function Al(t){return t.K_||(t.K_=function(n,i,r){let o=Y(n);return o.w_(),new RI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:L5.bind(null,t),Ro:V5.bind(null,t),mo:j5.bind(null,t),d_:B5.bind(null,t)}),t.B_.push(e=>L(this,null,function*(){e?(t.K_.s_(),AD(t)?SD(t):t.q_.set("Unknown")):(yield t.K_.stop(),O1(t))}))),t.K_}function ss(t){return t.U_||(t.U_=function(n,i,r){let o=Y(n);return o.w_(),new NI(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$5.bind(null,t),mo:G5.bind(null,t),f_:H5.bind(null,t),g_:q5.bind(null,t)}),t.B_.push(e=>L(this,null,function*(){e?(t.U_.s_(),yield Sl(t)):(yield t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var LI=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ml(t,e){if(Vt("AsyncQueue",`${e}: ${t}`),cs(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}var tv=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Od(),this.sortedSet=new It(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var nv=class{constructor(){this.W_=new It(Z.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},bl=class t{constructor(e,n,i,r,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,tv.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var VI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jI=class{constructor(){this.queries=dO(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=Y(n),o=r.queries;r.queries=dO(),o.forEach((s,a)=>{for(let c of a.j_)c.onError(i)})})(this,new H(O.ABORTED,"Firestore shutting down"))}};function dO(){return new fr(t=>HO(t),fh)}function MD(t,e){return L(this,null,function*(){let n=Y(t),i=3,r=e.query,o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new VI,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield n.onListen(r,!0);break;case 1:o.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=Ml(s,`Initialization of query '${el(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ND(n)})}function RD(t,e){return L(this,null,function*(){let n=Y(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function W5(t,e){let n=Y(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&ND(n)}function K5(t,e,n){let i=Y(t),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(n);i.queries.delete(e)}function ND(t){t.Y_.forEach(e=>{e.next()})}var BI,hO;(hO=BI||(BI={})).ea="default",hO.Cache="cache";var oh=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==BI.Cache}};var UI=class{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}};var iv=class{constructor(e){this.serializer=e}Es(e){return lr(this.serializer,e)}ds(e){return e.metadata.exists?h1(this.serializer,e.document,!1):Kt.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Bt(e)}},zI=class{constructor(e,n,i){this.ca=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=j1(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;let i=He.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){let n=new Map,i=new iv(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.Es(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||ke()).add(o);n.set(s,a)}}return n}complete(){return L(this,null,function*(){let e=yield P5(this.localStore,new iv(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(let i of this.queries)yield O5(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function j1(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var rv=class{constructor(e){this.key=e}},ov=class{constructor(e){this.key=e}},sv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=GO(e),this.Ra=new tv(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new nv,r=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{let m=r.get(d),g=ph(this.query,f)?f:null,y=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),D=!1;m&&g?m.data.isEqual(g.data)?y!==I&&(i.track({type:3,doc:g}),D=!0):this.ga(m,g)||(i.track({type:2,doc:g}),D=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),D=!0):m&&!g&&(i.track({type:1,doc:m}),D=!0,(c||u)&&(a=!0)),D&&(g?(s=s.add(g),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((d,f)=>function(g,y){let I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return I(g)-I(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(i),r=r!=null&&r;let a=n&&!r?this.ya():[],c=this.da.size===0&&this.current&&!r?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new bl(this.query,e.Ra,o,s,e.mutatedKeys,c===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ke(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new ov(i))}),this.da.forEach(i=>{e.has(i)||n.push(new rv(i))}),n}ba(e){this.Ta=e.Ts,this.da=ke();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$I=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},HI=class{constructor(e){this.key=e,this.va=!1}},qI=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new fr(a=>HO(a),fh),this.Ma=new Map,this.xa=new Set,this.Oa=new It(Z.comparator),this.Na=new Map,this.La=new nh,this.Ba={},this.ka=new Map,this.qa=gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Q5(t,e,n=!0){return L(this,null,function*(){let i=bv(t),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield B1(i,e,n,!0),r})}function Y5(t,e){return L(this,null,function*(){let n=bv(t);yield B1(n,e,!0,!1)})}function B1(t,e,n,i){return L(this,null,function*(){let r=yield vl(t.localStore,On(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield kD(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&_v(t.remoteStore,r),a})}function kD(t,e,n,i,r){return L(this,null,function*(){t.Ka=(f,m,g)=>function(I,D,k,P){return L(this,null,function*(){let V=D.view.ma(k);V.ns&&(V=yield Kg(I.localStore,D.query,!1).then(({documents:E})=>D.view.ma(E,V)));let K=P&&P.targetChanges.get(D.targetId),ce=P&&P.targetMismatches.get(D.targetId)!=null,ie=D.view.applyChanges(V,I.isPrimaryClient,K,ce);return GI(I,D.targetId,ie.wa),ie.snapshot})}(t,f,m,g);let o=yield Kg(t.localStore,e,!0),s=new sv(e,o.Ts),a=s.ma(o.documents),c=Xd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=s.applyChanges(a,t.isPrimaryClient,c);GI(t,n,u.wa);let d=new $I(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot})}function Z5(t,e,n){return L(this,null,function*(){let i=Y(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!fh(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yl(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&_l(i.remoteStore,r.targetId),wl(i,r.targetId)}).catch(as))):(wl(i,r.targetId),yield yl(i.localStore,r.targetId,!0))})}function X5(t,e){return L(this,null,function*(){let n=Y(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_l(n.remoteStore,i.targetId))})}function J5(t,e,n){return L(this,null,function*(){let i=LD(t);try{let r=yield function(s,a){let c=Y(s),u=Mt.now(),d=a.reduce((g,y)=>g.add(y.key),ke()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Gn(),I=ke();return c.cs.getEntries(g,d).next(D=>{y=D,y.forEach((k,P)=>{P.isValidDocument()||(I=I.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(D=>{f=D;let k=[];for(let P of a){let V=f5(P,f.get(P.key).overlayedDocument);V!=null&&k.push(new Vi(P.key,V,LO(V.value.mapValue),Pt.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,k,a)}).next(D=>{m=D;let k=D.applyToLocalDocumentSet(f,I);return c.documentOverlayCache.saveOverlays(g,D.batchId,k)})}).then(()=>({batchId:m.batchId,changes:KO(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new It(Ae)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(i,r.batchId,n),yield eo(i,r.changes),yield Sl(i.remoteStore)}catch(r){let o=Ml(r,"Failed to persist write");n.reject(o)}})}function U1(t,e){return L(this,null,function*(){let n=Y(t);try{let i=yield N5(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Na.get(o);s&&(ue(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?ue(s.va):r.removedDocuments.size>0&&(ue(s.va),s.va=!1))}),yield eo(n,i,e)}catch(i){yield as(i)}})}function fO(t,e,n){let i=Y(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=Y(s);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.j_)m.Z_(a)&&(u=!0)}),u&&ND(c)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function e9(t,e,n){return L(this,null,function*(){let i=Y(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new It(Z.comparator);s=s.insert(o,Kt.newNoDocument(o,he.min()));let a=ke().add(o),c=new Zd(he.min(),new Map,new It(Ae),s,a);yield U1(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(e),FD(i)}else yield yl(i.localStore,e,!1).then(()=>wl(i,e,n)).catch(as)})}function t9(t,e){return L(this,null,function*(){let n=Y(t),i=e.batch.batchId;try{let r=yield R5(n.localStore,e);OD(n,i,null),PD(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield eo(n,r)}catch(r){yield as(r)}})}function n9(t,e,n){return L(this,null,function*(){let i=Y(t);try{let r=yield function(s,a){let c=Y(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(ue(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(i.localStore,e);OD(i,e,n),PD(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield eo(i,r)}catch(r){yield as(r)}})}function i9(t,e){return L(this,null,function*(){let n=Y(t);ls(n.remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=Y(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.ka.get(i)||[];r.push(e),n.ka.set(i,r)}catch(i){let r=Ml(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function PD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OD(t,e,n){let i=Y(t),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function wl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||z1(t,i)})}function z1(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(_l(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),FD(t))}function GI(t,e,n){for(let i of n)i instanceof rv?(t.La.addReference(i.key,e),r9(t,i)):i instanceof ov?(G("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||z1(t,i.key)):ne()}function r9(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(i),FD(t))}function FD(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Z(He.fromString(e)),i=t.qa.next();t.Na.set(i,new HI(n)),t.Oa=t.Oa.insert(n,i),_v(t.remoteStore,new ml(On(xl(n.path)),i,"TargetPurposeLimboResolution",ri.oe))}}function eo(t,e,n){return L(this,null,function*(){let i=Y(t),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,e,n).then(u=>{var d;if((u||n)&&i.isPrimaryClient){let f=u?!u.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){r.push(u);let f=DI.Wi(c.targetId,u);o.push(f)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(c,u){return L(this,null,function*(){let d=Y(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>N.forEach(u,m=>N.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>N.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!cs(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let g=d.os.get(m),y=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(m,I)}}})}(i.localStore,o))})}function o9(t,e){return L(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let i=yield T1(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(c=>{c.reject(new H(O.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield eo(n,i.hs)}})}function s9(t,e){let n=Y(t),i=n.Na.get(e);if(i&&i.va)return ke().add(i.key);{let r=ke(),o=n.Ma.get(e);if(!o)return r;for(let s of o){let a=n.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function a9(t,e){return L(this,null,function*(){let n=Y(t),i=yield Kg(n.localStore,e.query,!0),r=e.view.ba(i);return n.isPrimaryClient&&GI(n,e.targetId,r.wa),r})}function c9(t,e){return L(this,null,function*(){let n=Y(t);return R1(n.localStore,e).then(i=>eo(n,i))})}function l9(t,e,n,i){return L(this,null,function*(){let r=Y(t),o=yield function(a,c){let u=Y(a),d=Y(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):N.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield Sl(r.remoteStore):n==="acknowledged"||n==="rejected"?(OD(r,e,i||null),PD(r,e),function(a,c){Y(Y(a).mutationQueue).On(c)}(r.localStore,e)):ne(),yield eo(r,o)):G("SyncEngine","Cannot apply mutation batch with id: "+e)})}function u9(t,e){return L(this,null,function*(){let n=Y(t);if(bv(n),LD(n),e===!0&&n.Qa!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield pO(n,i.toArray());n.Qa=!0,yield FI(n.remoteStore,!0);for(let o of r)_v(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){let i=[],r=Promise.resolve();n.Ma.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(wl(n,s),yl(n.localStore,s,!0))),_l(n.remoteStore,s)}),yield r,yield pO(n,i),function(s){let a=Y(s);a.Na.forEach((c,u)=>{_l(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new It(Z.comparator)}(n),n.Qa=!1,yield FI(n.remoteStore,!1)}})}function pO(t,e,n){return L(this,null,function*(){let i=Y(t),r=[],o=[];for(let s of e){let a,c=i.Ma.get(s);if(c&&c.length!==0){a=yield vl(i.localStore,On(c[0]));for(let u of c){let d=i.Fa.get(u),f=yield a9(i,d);f.snapshot&&o.push(f.snapshot)}}else{let u=yield M1(i.localStore,s);a=yield vl(i.localStore,u),yield kD(i,$1(u),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})}function $1(t){return $O(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function d9(t){return function(n){return Y(Y(n).persistence).Qi()}(Y(t).localStore)}function h9(t,e,n,i){return L(this,null,function*(){let r=Y(t);if(r.Qa)return void G("SyncEngine","Ignoring unexpected query state notification.");let o=r.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield R1(r.localStore,qO(o[0])),a=Zd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ut.EMPTY_BYTE_STRING);yield eo(r,s,a);break}case"rejected":yield yl(r.localStore,e,!0),wl(r,e,i);break;default:ne()}})}function f9(t,e,n){return L(this,null,function*(){let i=bv(t);if(i.Qa){for(let r of e){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){G("SyncEngine","Adding an already active target "+r);continue}let o=yield M1(i.localStore,r),s=yield vl(i.localStore,o);yield kD(i,$1(o),s.targetId,!1,s.resumeToken),_v(i.remoteStore,s)}for(let r of n)i.Ma.has(r)&&(yield yl(i.localStore,r,!1).then(()=>{_l(i.remoteStore,r),wl(i,r)}).catch(as))}})}function bv(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e9.bind(null,e),e.Ca.d_=W5.bind(null,e.eventManager),e.Ca.$a=K5.bind(null,e.eventManager),e}function LD(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n9.bind(null,e),e}function p9(t,e,n){let i=Y(t);(function(o,s,a){return L(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(g,y){let I=Y(g),D=Bt(y.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",k=>I.Gr.getBundleMetadata(k,y.id)).then(k=>!!k&&k.createTime.compareTo(D)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(j1(c));let u=new zI(c,o.localStore,s.serializer),d=yield s.Ua();for(;d;){let m=yield u.la(d);m&&a._updateProgress(m),d=yield s.Ua()}let f=yield u.complete();return yield eo(o,f.Ia,void 0),yield function(g,y){let I=Y(g);return I.persistence.runTransaction("Save bundle","readwrite",D=>I.Gr.saveBundleMetadata(D,y))}(o.localStore,c),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(c){return gi("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var sh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return L(this,null,function*(){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return x1(this.persistence,new Wg,e.initialUser,this.serializer)}createPersistence(e){return new qg(Gg.Zr,this.serializer)}createSharedClientState(e){return new Zg}terminate(){return L(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var av=class t extends sh{constructor(e,n,i){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return L(this,null,function*(){yield sy(t.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield LD(this.Wa.syncEngine),yield Sl(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return x1(this.persistence,new Wg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new cI(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new CE(n,this.persistence);return new DE(e.asyncQueue,i)}createPersistence(e){let n=xD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new II(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,k1(),_g(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Zg}},WI=class t extends av{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return L(this,null,function*(){yield sy(t.prototype,this,"initialize").call(this,e);let n=this.Wa.syncEngine;this.sharedClientState instanceof Ud&&(this.sharedClientState.syncEngine={no:l9.bind(null,n),ro:h9.bind(null,n),io:f9.bind(null,n),Qi:d9.bind(null,n),eo:c9.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.yi(i=>L(this,null,function*(){yield u9(this.Wa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=k1();if(!Ud.D(n))throw new H(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=xD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ud(n,e.asyncQueue,i,e.clientId,e.initialUser)}},ah=class{initialize(e,n){return L(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o9.bind(null,this.syncEngine),yield FI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new jI}()}createDatastore(e){let n=mh(e.databaseInfo.databaseId),i=function(o){return new MI(o)}(e.databaseInfo);return function(o,s,a,c){return new kI(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new OI(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fO(this.syncEngine,n,0),function(){return Xg.D()?new Xg:new SI}())}createSyncEngine(e,n){return function(r,o,s,a,c,u,d){let f=new qI(r,o,s,a,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return L(this,null,function*(){var e,n;yield function(r){return L(this,null,function*(){let o=Y(r);G("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Tl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};function mO(t,e=10240){let n=0;return{read(){return L(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return L(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var El=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Vt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var KI=class{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new Wt,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){return L(this,null,function*(){return this.metadata.promise})}Ua(){return L(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return L(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let n=this.Ha.decode(e),i=Number(n);isNaN(i)&&this.Za(`length string (${n}) is not valid number`);let r=yield this.Xa(i);return new UI(JSON.parse(r),e.length+i)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return L(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Xa(e){return L(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return L(this,null,function*(){let e=yield this.ja.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var QI=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return L(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new H(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(r,o){return L(this,null,function*(){let s=Y(r),a={documents:o.map(f=>Jd(s.serializer,f))},c=yield s.Lo("BatchGetDocuments",s.serializer.databaseId,He.emptyPath(),a,o.length),u=new Map;c.forEach(f=>{let m=_5(s.serializer,f);u.set(m.key.toString(),m)});let d=[];return o.forEach(f=>{let m=u.get(f.toString());ue(!!m),d.push(m)}),d})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new os(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return L(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=Z.fromPath(i);this.mutations.push(new Kd(r,this.precondition(r)))}),yield function(i,r){return L(this,null,function*(){let o=Y(i),s={writes:r.map(a=>eh(o.serializer,a))};yield o.Mo("Commit",o.serializer.databaseId,He.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ne();n=he.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new H(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?Pt.exists(!1):Pt.updateTime(n):Pt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new H(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pt.updateTime(n)}return Pt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var YI=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.nu=i.maxAttempts,this.t_=new rh(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>L(this,null,function*(){let e=new QI(this.datastore),n=this.su(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ou(r)}))}).catch(i=>{this.ou(i)})}))}su(e){try{let n=this.updateFunction(e);return!dh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!r1(n)}return!1}};var ZI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Gt.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>L(this,null,function*(){G("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=Ml(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function bg(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>L(this,null,function*(){i.isEqual(r)||(yield T1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function XI(t,e){return L(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield VD(t);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>uO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>uO(e.remoteStore,r)),t._onlineComponents=e})}function H1(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function VD(t){return L(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!H1(n))throw n;gi("Error using user provided cache. Falling back to memory cache: "+n),yield bg(t,new sh)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield bg(t,new sh);return t._offlineComponents})}function wv(t){return L(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield XI(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield XI(t,new ah))),t._onlineComponents})}function q1(t){return VD(t).then(e=>e.persistence)}function jD(t){return VD(t).then(e=>e.localStore)}function G1(t){return wv(t).then(e=>e.remoteStore)}function BD(t){return wv(t).then(e=>e.syncEngine)}function m9(t){return wv(t).then(e=>e.datastore)}function Il(t){return L(this,null,function*(){let e=yield wv(t),n=e.eventManager;return n.onListen=Q5.bind(null,e.syncEngine),n.onUnlisten=Z5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Y5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X5.bind(null,e.syncEngine),n})}function g9(t){return t.asyncQueue.enqueue(()=>L(this,null,function*(){let e=yield q1(t),n=yield G1(t);return e.setNetworkEnabled(!0),function(r){let o=Y(r);return o.L_.delete(0),gh(o)}(n)}))}function v9(t){return t.asyncQueue.enqueue(()=>L(this,null,function*(){let e=yield q1(t),n=yield G1(t);return e.setNetworkEnabled(!1),function(r){return L(this,null,function*(){let o=Y(r);o.L_.add(0),yield Tl(o),o.q_.set("Offline")})}(n)}))}function y9(t,e){let n=new Wt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(r,o,s){return L(this,null,function*(){try{let a=yield function(u,d){let f=Y(u);return f.persistence.runTransaction("read document","readonly",m=>f.localDocuments.getDocument(m,d))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new H(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=Ml(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield jD(t),e,n)})),n.promise}function W1(t,e,n={}){let i=new Wt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(o,s,a,c,u){let d=new El({next:m=>{s.enqueueAndForget(()=>RD(o,f));let g=m.docs.has(a);!g&&m.fromCache?u.reject(new H(O.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new H(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new oh(xl(a.path),d,{includeMetadataChanges:!0,_a:!0});return MD(o,f)}(yield Il(t),t.asyncQueue,e,n,i)})),i.promise}function _9(t,e){let n=new Wt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(r,o,s){return L(this,null,function*(){try{let a=yield Kg(r,o,!0),c=new sv(o,a.Ts),u=c.ma(a.documents),d=c.applyChanges(u,!1);s.resolve(d.snapshot)}catch(a){let c=Ml(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield jD(t),e,n)})),n.promise}function K1(t,e,n={}){let i=new Wt;return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(o,s,a,c,u){let d=new El({next:m=>{s.enqueueAndForget(()=>RD(o,f)),m.fromCache&&c.source==="server"?u.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new oh(a,d,{includeMetadataChanges:!0,_a:!0});return MD(o,f)}(yield Il(t),t.asyncQueue,e,n,i)})),i.promise}function b9(t,e){let n=new El(e);return t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(r,o){Y(r).Y_.add(o),o.next()}(yield Il(t),n)})),()=>{n.za(),t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return function(r,o){Y(r).Y_.delete(o)}(yield Il(t),n)}))}}function w9(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?s1().encode(s):s,function(d,f){return new KI(d,f)}(function(d,f){if(d instanceof Uint8Array)return mO(d,f);if(d instanceof ArrayBuffer)return mO(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,mh(e));t.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){p9(yield BD(t),r,i)}))}function E9(t,e){return t.asyncQueue.enqueue(()=>L(this,null,function*(){return function(i,r){let o=Y(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield jD(t),e)}))}function Q1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gO=new Map;function UD(t,e,n){if(!n)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zD(t,e,n,i){if(e===!0&&i===!0)throw new H(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vO(t){if(!Z.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yO(t){if(Z.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function qe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ev(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Y1(t,e){if(e<=0)throw new H(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var cv=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_a=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pE;switch(i.type){case"firstParty":return new yE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=gO.get(n);i&&(G("ComponentProvider","Removing Datastore"),gO.delete(n),i.terminate())}(this),Promise.resolve()}};function $D(t,e,n,i={}){var r;let o=(t=qe(t,_a))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=Gt.MOCK_USER;else{a=wx(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gt(u)}t._authCredentials=new mE(new wg(a,c))}}var fn=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ur=class t extends fn{constructor(e,n,i){super(e,n,xl(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function HD(t,e,...n){if(t=St(t),UD("collection","path",e),t instanceof _a){let i=He.fromString(e,...n);return yO(i),new ur(t,null,i)}{if(!(t instanceof yt||t instanceof ur))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(He.fromString(e,...n));return yO(i),new ur(t.firestore,null,i)}}function Z1(t,e){if(t=qe(t,_a),UD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fn(t,null,function(i){return new Li(He.emptyPath(),i)}(e))}function vh(t,e,...n){if(t=St(t),arguments.length===1&&(e=Eg.newId()),UD("doc","path",e),t instanceof _a){let i=He.fromString(e,...n);return vO(i),new yt(t,null,new Z(i))}{if(!(t instanceof yt||t instanceof ur))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(He.fromString(e,...n));return vO(i),new yt(t.firestore,t instanceof ur?t.converter:null,new Z(i))}}function qD(t,e){return t=St(t),e=St(e),(t instanceof yt||t instanceof ur)&&(e instanceof yt||e instanceof ur)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function GD(t,e){return t=St(t),e=St(e),t instanceof fn&&e instanceof fn&&t.firestore===e.firestore&&fh(t._query,e._query)&&t.converter===e.converter}var JI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new rh(this,"async_queue_retry"),this.Eu=()=>{let n=_g();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=_g();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=_g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Wt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return L(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!cs(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Vt("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(e,n,i){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let r=LI.createAndSchedule(this,e,n,i,o=>this.Vu(o));return this.lu.push(r),r}du(){this.hu&&ne()}verifyOperationInProgress(){}mu(){return L(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function eD(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var tD=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var X1=-1,xt=class extends _a{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new JI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||J1(this),this._firestoreClient.terminate()}};function Goe(t,e){let n=typeof t=="object"?t:Kh(),i=typeof t=="string"?t:e||"(default)",r=uy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=bx("firestore");o&&$D(r,...o)}return r}function en(t){return t._firestoreClient||J1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function J1(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,u,d){return new xE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Q1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new ZI(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function eF(t,e){lF(t=qe(t,xt));let n=en(t);if(n._uninitializedComponentsProvider)throw new H(O.FAILED_PRECONDITION,"SDK cache is already specified.");gi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new ah;return nF(n,r,new av(r,i.cacheSizeBytes,e?.forceOwnership))}function tF(t){lF(t=qe(t,xt));let e=en(t);if(e._uninitializedComponentsProvider)throw new H(O.FAILED_PRECONDITION,"SDK cache is already specified.");gi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new ah;return nF(e,i,new WI(i,n.cacheSizeBytes))}function nF(t,e,n){let i=new Wt;return t.asyncQueue.enqueue(()=>L(this,null,function*(){try{yield bg(t,n),yield XI(t,e),i.resolve()}catch(r){let o=r;if(!H1(o))throw o;gi("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function iF(t){if(t._initialized&&!t._terminated)throw new H(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Wt;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>L(this,null,function*(){try{yield function(i){return L(this,null,function*(){if(!Xo.D())return Promise.resolve();let r=i+"main";yield Xo.delete(r)})}(xD(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function rF(t){return function(n){let i=new Wt;return n.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return i9(yield BD(n),i)})),i.promise}(en(t=qe(t,xt)))}function oF(t){return g9(en(t=qe(t,xt)))}function sF(t){return v9(en(t=qe(t,xt)))}function aF(t,e){let n=en(t=qe(t,xt)),i=new tD;return w9(n,t._databaseId,e,i),i}function cF(t,e){return E9(en(t=qe(t,xt)),e).then(n=>n?new fn(t,null,n.query):null)}function lF(t){if(t._initialized||t._terminated)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var pr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ut.fromBase64String(e))}catch(n){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ji=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xr=class{constructor(e){this._methodName=e}};var ba=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var ch=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var I9=/^__.*__$/,nD=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new rs(e,this.data,n,this.fieldTransforms)}},lv=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function uF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var uv=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return dv(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uF(this.wu)&&I9.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},iD=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||mh(e)}Nu(e,n,i,r=!1){return new uv({wu:e,methodName:n,Ou:i,path:jt.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Da(t){let e=t._freezeSettings(),n=mh(t._databaseId);return new iD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Iv(t,e,n,i,r,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,r);QD("Data must be an object, but it was:",s,i);let a=fF(i,s),c,u;if(o.merge)c=new oi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=cD(e,f,n);if(!s.contains(m))throw new H(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mF(d,m)||d.push(m)}c=new oi(d),u=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=s.fieldTransforms;return new nD(new Cn(a),c,u)}var lh=class t extends Xr{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function dF(t,e,n){return new uv({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var rD=class t extends Xr{_toFieldTransform(e){return new ga(e.path,new ns)}isEqual(e){return e instanceof t}},oD=class t extends Xr{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=dF(this,e,!0),i=this.Lu.map(o=>Ca(o,n)),r=new Yr(i);return new ga(e.path,r)}isEqual(e){return e instanceof t&&ly(this.Lu,e.Lu)}},sD=class t extends Xr{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=dF(this,e,!0),i=this.Lu.map(o=>Ca(o,n)),r=new Zr(i);return new ga(e.path,r)}isEqual(e){return e instanceof t&&ly(this.Lu,e.Lu)}},aD=class t extends Xr{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){let n=new is(e.serializer,ZO(e.serializer,this.Bu));return new ga(e.path,n)}isEqual(e){return e instanceof t&&this.Bu===e.Bu}};function WD(t,e,n,i){let r=t.Nu(1,e,n);QD("Data must be an object, but it was:",r,i);let o=[],s=Cn.empty();Ia(i,(c,u)=>{let d=YD(e,c,n);u=St(u);let f=r.Cu(d);if(u instanceof lh)o.push(d);else{let m=Ca(u,f);m!=null&&(o.push(d),s.set(d,m))}});let a=new oi(o);return new lv(s,a,r.fieldTransforms)}function KD(t,e,n,i,r,o){let s=t.Nu(1,e,n),a=[cD(e,i,n)],c=[r];if(o.length%2!=0)throw new H(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(cD(e,o[m])),c.push(o[m+1]);let u=[],d=Cn.empty();for(let m=a.length-1;m>=0;--m)if(!mF(u,a[m])){let g=a[m],y=c[m];y=St(y);let I=s.Cu(g);if(y instanceof lh)u.push(g);else{let D=Ca(y,I);D!=null&&(u.push(g),d.set(g,D))}}let f=new oi(u);return new lv(d,f,s.fieldTransforms)}function hF(t,e,n,i=!1){return Ca(n,t.Nu(i?4:3,e))}function Ca(t,e){if(pF(t=St(t)))return QD("Unsupported field value:",e,t),fF(t,e);if(t instanceof Xr)return function(i,r){if(!uF(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=Ca(a,r.Fu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=St(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Mt.fromDate(i);return{timestampValue:pl(r.serializer,o)}}if(i instanceof Mt){let o=new Mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pl(r.serializer,o)}}if(i instanceof ba)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pr)return{bytesValue:a1(r.serializer,i._byteString)};if(i instanceof yt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ID(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ch)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Mu("VectorValues must only contain numeric values.");return ED(a.serializer,c)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Ev(i)}`)}(t,e)}function fF(t,e){let n={};return kO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(i,r)=>{let o=Ca(r,e.bu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function pF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof ba||t instanceof pr||t instanceof yt||t instanceof Xr||t instanceof ch)}function QD(t,e,n){if(!pF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Ev(n);throw i==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+i)}}function cD(t,e,n){if((e=St(e))instanceof ji)return e._internalPath;if(typeof e=="string")return YD(t,e);throw dv("Field path arguments must be of type string or ",t,!1,void 0,n)}var D9=new RegExp("[~\\*/\\[\\]]");function YD(t,e,n){if(e.search(D9)>=0)throw dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ji(...e.split("."))._internalPath}catch{throw dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dv(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new H(O.INVALID_ARGUMENT,a+t+c)}function mF(t,e){return t.some(n=>n.isEqual(e))}var wa=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},lD=class extends wa{data(){return super.data()}};function Dv(t,e){return typeof e=="string"?YD(t,e):e instanceof ji?e._internalPath:e._delegate._internalPath}function gF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uh=class{},Ea=class extends uh{};function to(t,e,...n){let i=[];e instanceof uh&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof uD).length,a=o.filter(c=>c instanceof hv).length;if(s>1||s>0&&a>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var hv=class t extends Ea{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return xF(e._query,n),new fn(e.firestore,e.converter,jE(e._query,n))}_parse(e){let n=Da(e.firestore);return function(o,s,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bO(f,d);let g=[];for(let y of f)g.push(_O(c,o,y));m={arrayValue:{values:g}}}else m=_O(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bO(f,d),m=hF(a,s,f,d==="in"||d==="not-in");return Be.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function vF(t,e,n){let i=e,r=Dv("where",t);return hv._create(r,i,n)}var uD=class t extends uh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:it.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)xF(s,c),s=jE(s,c)}(e._query,n),new fn(e.firestore,e.converter,jE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var dD=class t extends Ea{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pa(o,s)}(e._query,this._field,this._direction);return new fn(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Li(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function yF(t,e="asc"){let n=e,i=Dv("orderBy",t);return dD._create(i,n)}var fv=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new fn(e.firestore,e.converter,Ng(e._query,this._limit,this._limitType))}};function _F(t){return Y1("limit",t),fv._create("limit",t,"F")}function bF(t){return Y1("limitToLast",t),fv._create("limitToLast",t,"L")}var pv=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=CF(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(r,o){return new Li(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function wF(...t){return pv._create("startAt",t,!0)}function EF(...t){return pv._create("startAfter",t,!1)}var mv=class t extends Ea{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=CF(e,this.type,this._docOrFields,this._inclusive);return new fn(e.firestore,e.converter,function(r,o){return new Li(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function IF(...t){return mv._create("endBefore",t,!1)}function DF(...t){return mv._create("endAt",t,!0)}function CF(t,e,n,i){if(n[0]=St(n[0]),n[0]instanceof wa)return function(o,s,a,c,u){if(!c)throw new H(O.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of sl(o))if(f.field.isKeyField())d.push(fa(s,c.key));else{let m=c.data.field(f.field);if(vv(m))throw new H(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){let g=f.field.canonicalString();throw new H(O.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(m)}return new hr(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=Da(t.firestore);return function(s,a,c,u,d,f){let m=s.explicitOrderBy;if(d.length>m.length)throw new H(O.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let g=[];for(let y=0;y<d.length;y++){let I=d[y];if(m[y].field.isKeyField()){if(typeof I!="string")throw new H(O.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof I}`);if(!bD(s)&&I.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${I}' contains a slash.`);let D=s.path.child(He.fromString(I));if(!Z.isDocumentKey(D))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let k=new Z(D);g.push(fa(a,k))}else{let D=hF(c,u,I);g.push(D)}}return new hr(g,f)}(t._query,t.firestore._databaseId,r,e,n,i)}}function _O(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bD(e)&&n.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(He.fromString(n));if(!Z.isDocumentKey(i))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fa(t,new Z(i))}if(n instanceof yt)return fa(t,n._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ev(n)}.`)}function bO(t,e){if(!Array.isArray(t)||t.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xF(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Dl=class{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return Ia(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;let o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Ct(s.doubleValue));return new ch(o)}convertGeoPoint(e){return new ba(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=yD(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){let n=Qr(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=He.fromString(e);ue(y1(i));let r=new es(i.get(1),i.get(3)),o=new Z(i.popFirst(5));return r.isEqual(n)||Vt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Cv(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var hD=class extends Dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}};var Kr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},yi=class extends wa{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(Dv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Yo=class extends yi{data(e={}){return super.data(e)}},Bi=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Kr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Yo(this._firestore,this._userDataWriter,i.key,i,new Kr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Yo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Kr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Yo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Kr(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:C9(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function C9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function ZD(t,e){return t instanceof yi&&e instanceof yi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bi&&e instanceof Bi&&t._firestore===e._firestore&&GD(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function TF(t){t=qe(t,yt);let e=qe(t.firestore,xt);return W1(en(e),t._key).then(n=>tC(e,t,n))}var Jr=class extends Dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}};function SF(t){t=qe(t,yt);let e=qe(t.firestore,xt),n=en(e),i=new Jr(e);return y9(n,t._key).then(r=>new yi(e,i,t._key,r,new Kr(r!==null&&r.hasLocalMutations,!0),t.converter))}function AF(t){t=qe(t,yt);let e=qe(t.firestore,xt);return W1(en(e),t._key,{source:"server"}).then(n=>tC(e,t,n))}function MF(t){t=qe(t,fn);let e=qe(t.firestore,xt),n=en(e),i=new Jr(e);return gF(t._query),K1(n,t._query).then(r=>new Bi(e,i,t,r))}function RF(t){t=qe(t,fn);let e=qe(t.firestore,xt),n=en(e),i=new Jr(e);return _9(n,t._query).then(r=>new Bi(e,i,t,r))}function NF(t){t=qe(t,fn);let e=qe(t.firestore,xt),n=en(e),i=new Jr(e);return K1(n,t._query,{source:"server"}).then(r=>new Bi(e,i,t,r))}function XD(t,e,n){t=qe(t,yt);let i=qe(t.firestore,xt),r=Cv(t.converter,e,n);return Rl(i,[Iv(Da(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Pt.none())])}function JD(t,e,n,...i){t=qe(t,yt);let r=qe(t.firestore,xt),o=Da(r),s;return s=typeof(e=St(e))=="string"||e instanceof ji?KD(o,"updateDoc",t._key,e,n,i):WD(o,"updateDoc",t._key,e),Rl(r,[s.toMutation(t._key,Pt.exists(!0))])}function kF(t){return Rl(qe(t.firestore,xt),[new os(t._key,Pt.none())])}function PF(t,e){let n=qe(t.firestore,xt),i=vh(t),r=Cv(t.converter,e);return Rl(n,[Iv(Da(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Pt.exists(!1))]).then(()=>i)}function eC(t,...e){var n,i,r;t=St(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||eD(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eD(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let c,u,d;if(t instanceof yt)u=qe(t.firestore,xt),d=xl(t._key.path),c={next:f=>{e[s]&&e[s](tC(u,t,f))},error:e[s+1],complete:e[s+2]};else{let f=qe(t,fn);u=qe(f.firestore,xt),d=f._query;let m=new Jr(u);c={next:g=>{e[s]&&e[s](new Bi(u,m,f,g))},error:e[s+1],complete:e[s+2]},gF(t._query)}return function(m,g,y,I){let D=new El(I),k=new oh(g,D,y);return m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return MD(yield Il(m),k)})),()=>{D.za(),m.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return RD(yield Il(m),k)}))}}(en(u),d,a,c)}function OF(t,e){return b9(en(t=qe(t,xt)),eD(e)?e:{next:e})}function Rl(t,e){return function(i,r){let o=new Wt;return i.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){return J5(yield BD(i),r,o)})),o.promise}(en(t),e)}function tC(t,e,n){let i=n.docs.get(e._key),r=new Jr(t);return new yi(t,r,e._key,i,new Kr(n.hasPendingWrites,n.fromCache),e.converter)}var x9={maxAttempts:5};var gv=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Da(e)}set(e,n,i){this._verifyNotCommitted();let r=Ko(e,this._firestore),o=Cv(r.converter,n,i),s=Iv(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,Pt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=Ko(e,this._firestore),s;return s=typeof(n=St(n))=="string"||n instanceof ji?KD(this._dataReader,"WriteBatch.update",o._key,n,i,r):WD(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Pt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Ko(e,this._firestore);return this._mutations=this._mutations.concat(new os(n._key,Pt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ko(t,e){if((t=St(t)).firestore!==e)throw new H(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var fD=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=Da(n)}get(n){let i=Ko(n,this._firestore),r=new hD(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return ne();let s=o[0];if(s.isFoundDocument())return new wa(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new wa(this._firestore,r,i._key,null,i.converter);throw ne()})}set(n,i,r){let o=Ko(n,this._firestore),s=Cv(o.converter,i,r),a=Iv(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=Ko(n,this._firestore),a;return a=typeof(i=St(i))=="string"||i instanceof ji?KD(this._dataReader,"Transaction.update",s._key,i,r,o):WD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=Ko(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Ko(e,this._firestore),i=new Jr(this._firestore);return super.get(e).then(r=>new yi(this._firestore,i,n._key,r._document,new Kr(!1,!1),n.converter))}};function FF(t,e,n){t=qe(t,xt);let i=Object.assign(Object.assign({},x9),n);return function(o){if(o.maxAttempts<1)throw new H(O.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new Wt;return o.asyncQueue.enqueueAndForget(()=>L(this,null,function*(){let u=yield m9(o);new YI(o.asyncQueue,u,a,s,c).ru()})),c.promise}(en(t),r=>e(new fD(t,r)),i)}function LF(){return new lh("deleteField")}function VF(){return new rD("serverTimestamp")}function jF(...t){return new oD("arrayUnion",t)}function BF(...t){return new sD("arrayRemove",t)}function UF(t){return new aD("increment",t)}(function(e,n=!0){(function(r){Cl=r})(Dx),su(new bs("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new xt(new gE(i.getProvider("auth-internal")),new bE(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new es(u.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),br(_P,"4.7.1",e),br(_P,"4.7.1","esm2017")})();var T9="@firebase/firestore-compat",S9="0.3.36";function aC(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new H("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function zF(){if(typeof Uint8Array>"u")throw new H("unimplemented","Uint8Arrays are not available in this environment.")}function $F(){if(!PO())throw new H("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xv=class t{constructor(e){this._delegate=e}static fromBase64String(e){return $F(),new t(pr.fromBase64String(e))}static fromUint8Array(e){return zF(),new t(pr.fromUint8Array(e))}toBase64(){return $F(),this._delegate.toBase64()}toUint8Array(){return zF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function nC(t){return A9(t,["next","error","complete"])}function A9(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var iC=class{enableIndexedDbPersistence(e,n){return eF(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return tF(e._delegate)}clearIndexedDbPersistence(e){return iF(e._delegate)}},Tv=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof es||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){$D(this._delegate,e,n,i)}enableNetwork(){return oF(this._delegate)}disableNetwork(){return sF(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zD("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rF(this._delegate)}onSnapshotsInSync(e){return OF(this._delegate,e)}get app(){if(!this._appCompat)throw new H("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pl(this,HD(this._delegate,e))}catch(n){throw Fn(n,"collection()","Firestore.collection()")}}doc(e){try{return new mr(this,vh(this._delegate,e))}catch(n){throw Fn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Aa(this,Z1(this._delegate,e))}catch(n){throw Fn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return FF(this._delegate,n=>e(new Sv(this,n)))}batch(){return en(this._delegate),new Av(new gv(this._delegate,e=>Rl(this._delegate,e)))}loadBundle(e){return aF(this._delegate,e)}namedQuery(e){return cF(this._delegate,e).then(n=>n?new Aa(this,n):null)}},Nl=class extends Dl{constructor(e){super(),this.firestore=e}convertBytes(e){return new xv(new pr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return mr.forKey(n,this.firestore,null)}};function M9(t){wO(t)}var Sv=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Nl(e)}get(e){let n=xa(e);return this._delegate.get(n).then(i=>new Ta(this._firestore,new yi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=xa(e);return i?(aC("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=xa(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=xa(e);return this._delegate.delete(n),this}},Av=class{constructor(e){this._delegate=e}set(e,n,i){let r=xa(e);return i?(aC("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=xa(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=xa(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},kl=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Yo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sa(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new Nl(e),n),r.set(n,o)),o}};kl.INSTANCES=new WeakMap;var mr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Nl(e)}static forPath(e,n,i){if(e.length%2!==0)throw new H("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new yt(n._delegate,i,new Z(e)))}static forKey(e,n,i){return new t(n,new yt(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Pl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pl(this.firestore,HD(this._delegate,e))}catch(n){throw Fn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=St(e),e instanceof yt?qD(this._delegate,e):!1}set(e,n){n=aC("DocumentReference.set",n);try{return n?XD(this._delegate,e,n):XD(this._delegate,e)}catch(i){throw Fn(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?JD(this._delegate,e):JD(this._delegate,e,n,...i)}catch(r){throw Fn(r,"updateDoc()","DocumentReference.update()")}}delete(){return kF(this._delegate)}onSnapshot(...e){let n=HF(e),i=qF(e,r=>new Ta(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eC(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=SF(this._delegate):e?.source==="server"?n=AF(this._delegate):n=TF(this._delegate),n.then(i=>new Ta(this.firestore,new yi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Fn(t,e,n){return t.message=t.message.replace(e,n),t}function HF(t){for(let e of t)if(typeof e=="object"&&!nC(e))return e;return{}}function qF(t,e){var n,i;let r;return nC(t[0])?r=t[0]:nC(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var Ta=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new mr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ZD(this._delegate,e._delegate)}},Sa=class extends Ta{data(e){let n=this._delegate.data(e);return this._delegate._converter||EO(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Aa=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Nl(e)}where(e,n,i){try{return new t(this.firestore,to(this._delegate,vF(e,n,i)))}catch(r){throw Fn(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,to(this._delegate,yF(e,n)))}catch(i){throw Fn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,to(this._delegate,_F(e)))}catch(n){throw Fn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,to(this._delegate,bF(e)))}catch(n){throw Fn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,to(this._delegate,wF(...e)))}catch(n){throw Fn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,to(this._delegate,EF(...e)))}catch(n){throw Fn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,to(this._delegate,IF(...e)))}catch(n){throw Fn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,to(this._delegate,DF(...e)))}catch(n){throw Fn(n,"endAt()","Query.endAt()")}}isEqual(e){return GD(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=RF(this._delegate):e?.source==="server"?n=NF(this._delegate):n=MF(this._delegate),n.then(i=>new yh(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=HF(e),i=qF(e,r=>new yh(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eC(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},rC=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Sa(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},yh=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sa(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new rC(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Sa(this._firestore,i))})}isEqual(e){return ZD(this._delegate,e._delegate)}},Pl=class t extends Aa{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new mr(this.firestore,e):null}doc(e){try{return e===void 0?new mr(this.firestore,vh(this._delegate)):new mr(this.firestore,vh(this._delegate,e))}catch(n){throw Fn(n,"doc()","CollectionReference.doc()")}}add(e){return PF(this._delegate,e).then(n=>new mr(this.firestore,n))}isEqual(e){return qD(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(kl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function xa(t){return qe(t,yt)}var oC=class t{constructor(...e){this._delegate=new ji(...e)}static documentId(){return new t(jt.keyField().canonicalString())}isEqual(e){return e=St(e),e instanceof ji?this._delegate._internalPath.isEqual(e._internalPath):!1}};var sC=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=VF();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=LF();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=jF(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=BF(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=UF(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var R9={Firestore:Tv,GeoPoint:ba,Timestamp:Mt,Blob:xv,Transaction:Sv,WriteBatch:Av,DocumentReference:mr,DocumentSnapshot:Ta,Query:Aa,QueryDocumentSnapshot:Sa,QuerySnapshot:yh,CollectionReference:Pl,FieldPath:oC,FieldValue:sC,setLogLevel:M9,CACHE_SIZE_UNLIMITED:X1};function N9(t,e){t.INTERNAL.registerComponent(new bs("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},R9)))}function k9(t){N9(t,(e,n)=>new Tv(e,n,new iC)),t.registerVersion(T9,S9)}k9(wi);function P9(t,e=Hi){return new pe(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function GF(t,e){return P9(t,e)}function O9(t,e){return GF(t,e).pipe(Yn(void 0),nc(),ee(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function uC(t,e){return GF(t,e).pipe(ee(n=>({payload:n,type:"query"})))}var Mv=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=QF(i,n);return new Nv(r,o,this.afs)}snapshotChanges(){return O9(this.ref,this.afs.schedulers.outsideAngular).pipe(kn)}valueChanges(e={}){return this.snapshotChanges().pipe(ee(({payload:n})=>e.idField?Me(z({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return Ue(this.ref.get(e)).pipe(kn)}};function Rv(t,e){return uC(t,e).pipe(Yn(void 0),nc(),ee(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let u=o.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function WF(t,e,n){return Rv(t,n).pipe(xs((i,r)=>F9(i,r.map(o=>o.payload),e),[]),fo(),ee(i=>i.map(r=>({type:r.type,payload:r}))))}function F9(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=L9(t,i))}),t}function cC(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function L9(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return cC(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return cC(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cC(t,e.oldIndex,1);break}return t}function KF(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var Nv=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=Rv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(ee(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Yn(void 0),nc(),Ke(([i,r])=>r.length>0||!i),ee(([,i])=>i),kn)}auditTrail(e){return this.stateChanges(e).pipe(xs((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=KF(e);return WF(this.query,n,this.afs.schedulers.outsideAngular).pipe(kn)}valueChanges(e={}){return uC(this.query,this.afs.schedulers.outsideAngular).pipe(ee(n=>n.payload.docs.map(i=>e.idField?Me(z({},i.data()),{[e.idField]:i.id}):i.data())),kn)}get(e){return Ue(this.query.get(e)).pipe(kn)}add(e){return this.ref.add(e)}doc(e){return new Mv(this.ref.doc(e),this.afs)}},lC=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?Rv(this.query,this.afs.schedulers.outsideAngular).pipe(kn):Rv(this.query,this.afs.schedulers.outsideAngular).pipe(ee(n=>n.filter(i=>e.indexOf(i.type)>-1)),Ke(n=>n.length>0),kn)}auditTrail(e){return this.stateChanges(e).pipe(xs((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=KF(e);return WF(this.query,n,this.afs.schedulers.outsideAngular).pipe(kn)}valueChanges(e={}){return uC(this.query,this.afs.schedulers.outsideAngular).pipe(ee(i=>i.payload.docs.map(r=>e.idField?z({[e.idField]:r.id},r.data()):r.data())),kn)}get(e){return Ue(this.query.get(e)).pipe(kn)}},V9=new $("angularfire2.enableFirestorePersistence"),j9=new $("angularfire2.firestore.persistenceSettings"),B9=new $("angularfire2.firestore.settings"),U9=new $("angularfire2.firestore.use-emulator");function QF(t,e=n=>n){return{query:e(t),ref:t}}var YF=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,u,d,f,m,g,y,I,D,k,P){this.schedulers=c;let V=sg(n,a,i),K=d;f&&nE(V,a,m,y,I,D,g,k),[this.firestore,this.persistenceEnabled$]=ag(`${V.name}.firestore`,"AngularFirestore",V.name,()=>{let ce=a.runOutsideAngular(()=>V.firestore());if(o&&ce.settings(o),K&&ce.useEmulator(...K),r&&!Ao(s)){let ie=()=>{try{return Ue(ce.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(E){return typeof console<"u"&&console.warn(E),le(!1)}};return[ce,a.runOutsideAngular(ie)]}else return[ce,le(!1)]},[o,K,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=QF(r,i),a=this.schedulers.ngZone.run(()=>o);return new Nv(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new lC(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new Mv(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(A(rg),A(og,8),A(V9,8),A(B9,8),A(dn),A(te),A(ig),A(j9,8),A(U9,8),A(Ad,8),A(Y0,8),A(Z0,8),A(X0,8),A(J0,8),A(eE,8),A(tE,8),A(ia,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var _se=mx(dC());function _h(t){try{return Reflect.metadata("label",{libelle:t})}catch(e){console.log(e)}}var Ese=mx(dC()),kv=class{getPropertyLibelle(e,n){try{let i=Reflect.getMetadata("label",this,e);if(Gc(i)){let r=i.libelle;if(Kk(n)&&(n="label"),Qk(r)){if(n==="label")return r.label;if(n==="label2")return r.label2;if(n==="label3")return r.label3;if(n==="label4")return r.label4;if(n==="info")return r.info;if(n==="question"&&r.question==!0)return"?";if(n==="unite")return r.unite;if(n==="uniteInfo")return Gc(r.unite)?"en "+r.unite:""}else if(n==="label"||n==="label2"||n==="label3")return r}return null}catch(i){return console.error("Impossible de lire la propri\xE9t\xE9 "+n+" pour : "+this.constructor.name+".",e,i),null}}getPropertyInstance(e){try{let n=Reflect.getMetadata("dataType",this,e)?.libelle;return n||null}catch{return null}}};var us=class extends kv{id;nom;prenom;droit;constructor(e,n,i,r){super(),this.id=e||null,this.nom=n||null,this.prenom=i||null,this.droit=r||null}getId(){return this.id}setId(e){this.id=e}getNom(){return this.nom}setNom(e){this.nom=e}getPrenom(){return this.prenom}setPrenom(e){this.prenom=e}getDroit(){return this.droit}setDroit(e){this.droit=e}};ru([_h("Identifiant")],us.prototype,"id",2),ru([_h("Nom")],us.prototype,"nom",2),ru([_h("Pr\xE9nom")],us.prototype,"prenom",2),ru([_h("Droit")],us.prototype,"droit",2);var XF=class t{constructor(e,n){this.afAuth=e;this.firestore=n}basePathUser="/user";signIn(e,n){return this.afAuth.signInWithEmailAndPassword(e,n)}signUp(e,n){return this.afAuth.createUserWithEmailAndPassword(e,n)}signOut(){return this.afAuth.signOut()}getCurrentUser(){return this.afAuth.authState}getUser(){let e=this.firestore.collection(this.basePathUser).valueChanges();return Ir([this.afAuth.authState,e]).pipe(ee(([n,i])=>{let r=i.find(o=>o.id==n.uid);return Gc(r)?Xk(us,r):null}))}static \u0275fac=function(n){return new(n||t)(A(Ad),A(YF))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var hC=class{constructor(e){this._box=e,this._destroyed=new se,this._resizeSubject=new se,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new pe(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ke(n=>n.some(i=>i.target===e)),Ts({bufferSize:1,refCount:!0}),Qe(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},JF=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=j(te),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new hC(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ui=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Ui||{}),jse="*";function bh(t,e){return{type:Ui.Trigger,name:t,definitions:e,options:{}}}function wh(t,e=null){return{type:Ui.Animate,styles:e,timings:t}}function Bse(t,e=null){return{type:Ui.Group,steps:t,options:e}}function Use(t,e=null){return{type:Ui.Sequence,steps:t,options:e}}function Ma(t){return{type:Ui.Style,styles:t,offset:null}}function Pv(t,e,n){return{type:Ui.State,name:t,styles:e,options:n}}function zse(t){return{type:Ui.Keyframes,steps:t}}function Ol(t,e,n=null){return{type:Ui.Transition,expr:t,animation:e,options:n}}function nL(t=null){return{type:Ui.AnimateChild,options:t}}function iL(t,e,n=null){return{type:Ui.Query,selector:t,animation:e,options:n}}var eL=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},tL=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},$se="!";var $9=["notch"],H9=["matFormFieldNotchedOutline",""],q9=["*"],G9=["textField"],W9=["iconPrefixContainer"],K9=["textPrefixContainer"],Q9=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Y9=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Z9(t,e){t&1&&ut(0,"span",19)}function X9(t,e){if(t&1&&(ve(0,"label",18),Dt(1,1),at(2,Z9,1,0,"span",19),Se()),t&2){let n=tt(2);ft("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),ct("for",n._control.disableAutomaticLabeling?null:n._control.id),De(2),lt(!n.hideRequiredMarker&&n._control.required?2:-1)}}function J9(t,e){if(t&1&&at(0,X9,3,5,"label",18),t&2){let n=tt();lt(n._hasFloatingLabel()?0:-1)}}function e6(t,e){t&1&&ut(0,"div",5)}function t6(t,e){}function n6(t,e){if(t&1&&at(0,t6,0,0,"ng-template",11),t&2){tt(2);let n=qs(1);ft("ngTemplateOutlet",n)}}function i6(t,e){if(t&1&&(ve(0,"div",7),at(1,n6,1,1,null,11),Se()),t&2){let n=tt();ft("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),De(),lt(n._forceDisplayInfixLabel()?-1:1)}}function r6(t,e){t&1&&(ve(0,"div",8,2),Dt(2,2),Se())}function o6(t,e){t&1&&(ve(0,"div",9,3),Dt(2,3),Se())}function s6(t,e){}function a6(t,e){if(t&1&&at(0,s6,0,0,"ng-template",11),t&2){tt();let n=qs(1);ft("ngTemplateOutlet",n)}}function c6(t,e){t&1&&(ve(0,"div",12),Dt(1,4),Se())}function l6(t,e){t&1&&(ve(0,"div",13),Dt(1,5),Se())}function u6(t,e){t&1&&ut(0,"div",14)}function d6(t,e){if(t&1&&(ve(0,"div",16),Dt(1,6),Se()),t&2){let n=tt();ft("@transitionMessages",n._subscriptAnimationState)}}function h6(t,e){if(t&1&&(ve(0,"mat-hint",20),Hn(1),Se()),t&2){let n=tt(2);ft("id",n._hintLabelId),De(),nr(n.hintLabel)}}function f6(t,e){if(t&1&&(ve(0,"div",17),at(1,h6,2,2,"mat-hint",20),Dt(2,7),ut(3,"div",21),Dt(4,8),Se()),t&2){let n=tt();ft("@transitionMessages",n._subscriptAnimationState),De(),lt(n.hintLabel?1:-1)}}var rL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})(),p6=0,fL=new $("MatError"),hae=(()=>{let e=class e{constructor(i,r){this.id=`mat-mdc-error-${p6++}`,i||r.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(r){return new(r||e)(Dc("aria-live"),B(we))},e.\u0275dir=ge({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&Tc("id",o.id)},inputs:{id:"id"},standalone:!0,features:[zt([{provide:fL,useExisting:e}])]});let t=e;return t})(),m6=0,oL=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${m6++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(Tc("id",o.id),ct("align",null),pt("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),g6=new $("MatPrefix");var v6=new $("MatSuffix");var pL=new $("FloatingLabelParent"),sL=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=j(JF),this._ngZone=j(te),this._parent=j(pL),this._resizeSubscription=new ze}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return y6(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(B(we))},e.\u0275dir=ge({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&pt("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function y6(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var aL="mdc-line-ripple--active",Ov="mdc-line-ripple--deactivating",cL=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(Ov);o.propertyName==="opacity"&&a&&s.remove(aL,Ov)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Ov),i.add(aL)}deactivate(){this._elementRef.nativeElement.classList.add(Ov)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(B(we),B(te))},e.\u0275dir=ge({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),lL=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(B(we),B(te))},e.\u0275cmp=Zt({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&hn($9,5),r&2){let s;gt(s=vt())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&pt("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Xt],attrs:H9,ngContentSelectors:q9,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(hi(),ut(0,"div",1),ve(1,"div",2,0),Dt(3),Se(),ut(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),_6={transitionMessages:bh("transitionMessages",[Pv("enter",Ma({opacity:1,transform:"translateY(0%)"})),Ol("void => enter",[Ma({opacity:0,transform:"translateY(-5px)"}),wh("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},fC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e});let t=e;return t})();var pC=new $("MatFormField"),b6=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),uL=0,dL="fill",w6="auto",hL="fixed",E6="translateY(-50%)",mL=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=$c(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||w6}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||dL;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||hL}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||hL}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,a,c,u,d){this._elementRef=i,this._changeDetectorRef=r,this._dir=s,this._platform=a,this._defaults=c,this._animationMode=u,this._labelChild=xM(rL),this._hideRequiredMarker=!1,this.color="primary",this._appearance=dL,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${uL++}`,this._hintLabelId=`mat-mdc-hint-${uL++}`,this._subscriptAnimationState="",this._destroyed=new se,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=j(At),this.getLabelId=Lr(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Lr(()=>!!this._labelChild()),c&&(c.appearance&&(this.appearance=c.appearance),this._hideRequiredMarker=!!c?.hideRequiredMarker,c.color&&(this.color=c.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let r=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Qe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ii(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Ou(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Qe(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=o?.getBoundingClientRect().width??0,c=this._dir.value==="rtl"?"-1":"1",u=`${s+a}px`,f=`calc(${c} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${E6} translateX(${f})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(B(we),B($t),B(te),B(Oi),B(nt),B(b6,8),B(ei,8),B(Ee))},e.\u0275cmp=Zt({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(QM(s,o._labelChild,rL,5),Ri(s,fC,5),Ri(s,g6,5),Ri(s,v6,5),Ri(s,fL,5),Ri(s,oL,5)),r&2){YM();let a;gt(a=vt())&&(o._formFieldControl=a.first),gt(a=vt())&&(o._prefixChildren=a),gt(a=vt())&&(o._suffixChildren=a),gt(a=vt())&&(o._errorChildren=a),gt(a=vt())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(hn(G9,5),hn(W9,5),hn(K9,5),hn(sL,5),hn(lL,5),hn(cL,5)),r&2){let s;gt(s=vt())&&(o._textField=s.first),gt(s=vt())&&(o._iconPrefixContainer=s.first),gt(s=vt())&&(o._textPrefixContainer=s.first),gt(s=vt())&&(o._floatingLabel=s.first),gt(s=vt())&&(o._notchedOutline=s.first),gt(s=vt())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&pt("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[zt([{provide:pC,useExisting:e},{provide:pL,useExisting:e}]),Xt],ngContentSelectors:Y9,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Mi();hi(Q9),at(0,J9,1,1,"ng-template",null,0,eR),ve(2,"div",4,1),mt("click",function(c){return bn(s),wn(o._control.onContainerClick(c))}),at(4,e6,1,0,"div",5),ve(5,"div",6),at(6,i6,2,2,"div",7)(7,r6,3,0,"div",8)(8,o6,3,0,"div",9),ve(9,"div",10),at(10,a6,1,1,null,11),Dt(11),Se(),at(12,c6,2,0,"div",12)(13,l6,2,0,"div",13),Se(),at(14,u6,1,0,"div",14),Se(),ve(15,"div",15),at(16,d6,2,1,"div",16)(17,f6,5,2,"div",17),Se()}if(r&2){let s;De(2),pt("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),De(2),lt(!o._hasOutline()&&!o._control.disabled?4:-1),De(2),lt(o._hasOutline()?6:-1),De(),lt(o._hasIconPrefix?7:-1),De(),lt(o._hasTextPrefix?8:-1),De(2),lt(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),De(2),lt(o._hasTextSuffix?12:-1),De(),lt(o._hasIconSuffix?13:-1),De(),lt(o._hasOutline()?-1:14),De(),pt("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),De(),lt((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[sL,lL,_R,cL,oL],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[_6.transitionMessages]},changeDetection:0});let t=e;return t})(),gL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[on,Ws,Vm,on]});let t=e;return t})();var vL=class{};function vae(t){return t&&typeof t.connect=="function"&&!(t instanceof ao)}var Fv=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(Fv||{}),yae=new $("_ViewRepeater"),yL=class{applyChanges(e,n,i,r,o){e.forEachOperation((s,a,c)=>{let u,d;if(s.previousIndex==null){let f=i(s,a,c);u=n.createEmbeddedView(f.templateRef,f.context,f.index),d=Fv.INSERTED}else c==null?(n.remove(a),d=Fv.REMOVED):(u=n.get(a),n.move(u,c),d=Fv.MOVED);o&&o({context:u?.context,operation:d,record:s})})}detach(){}};var Lv=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new se,n&&n.length&&(e?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),n.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}else return e}};var _ae=(()=>{let e=class e{constructor(){this._listeners=[]}notify(i,r){for(let o of this._listeners)o(i,r)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(r=>i!==r)}}ngOnDestroy(){this._listeners=[]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var I6=20,Ll=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=I6){return this._platform.isBrowser?new pe(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(xf(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):le()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(Ke(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=Hr(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return ec(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(A(te),A(nt),A(Ee,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D6=(()=>{let e=class e{constructor(i,r,o,s){this.elementRef=i,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new se,this._elementScrolled=new pe(a=>this.ngZone.runOutsideAngular(()=>ec(this.elementRef.nativeElement,"scroll").pipe(Qe(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=o?i.end:i.start),i.right==null&&(i.right=o?i.start:i.end),i.bottom!=null&&(i.top=r.scrollHeight-r.clientHeight-i.bottom),o&&zc()!=ki.NORMAL?(i.left!=null&&(i.right=r.scrollWidth-r.clientWidth-i.left),zc()==ki.INVERTED?i.left=i.right:zc()==ki.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=r.scrollWidth-r.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let r=this.elementRef.nativeElement;Lm()?r.scrollTo(i):(i.top!=null&&(r.scrollTop=i.top),i.left!=null&&(r.scrollLeft=i.left))}measureScrollOffset(i){let r="left",o="right",s=this.elementRef.nativeElement;if(i=="top")return s.scrollTop;if(i=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return i=="start"?i=a?o:r:i=="end"&&(i=a?r:o),a&&zc()==ki.INVERTED?i==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&zc()==ki.NEGATED?i==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:i==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(B(we),B(Ll),B(te),B(Oi,8))},e.\u0275dir=ge({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),C6=20,Vl=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new se,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=C6){return i>0?this._change.pipe(xf(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(A(nt),A(te),A(Ee,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})(),mC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({imports:[zo,Fl,zo,Fl]});let t=e;return t})();var Eh=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ih=class extends Eh{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Dh=class extends Eh{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},gC=class extends Eh{constructor(e){super(),this.element=e instanceof we?e.nativeElement:e}},Vv=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ih)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Dh)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof gC)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var jv=class extends Vv{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||At.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Fae=(()=>{let e=class e extends Vv{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(B(Ji),B(En),B(Ee))},e.\u0275dir=ge({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ft]});let t=e;return t})();var bL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({});let t=e;return t})();var wL=Lm(),vC=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Lt(-this._previousScrollPosition.left),e.style.top=Lt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),wL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wL&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var yC=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ke(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Bv=class{enable(){}disable(){}attach(){}};function _C(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function EL(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var bC=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_C(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},x6=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Bv,this.close=a=>new yC(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new vC(this._viewportRuler,this._document),this.reposition=a=>new bC(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(A(Ll),A(Vl),A(te),A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uv=class{constructor(e){if(this.scrollStrategy=new Bv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var wC=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var SL=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(A(Ee))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T6=(()=>{let e=class e extends SL{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(te,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S6=(()=>{let e=class e extends SL{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ii(s)},this._clickListener=s=>{let a=ii(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){let f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(IL(f.overlayElement,a)||IL(f.overlayElement,c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(nt),A(te,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IL(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===t)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var AL=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Ed()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),Ed()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(A(Ee),A(nt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EC=class{constructor(e,n,i,r,o,s,a,c,u,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new se,this._attachments=new se,this._detachments=new se,this._locationChanges=ze.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new se,this._outsidePointerEvents=new se,this._renders=new se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=qn(()=>Ou(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Fr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=z(z({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Me(z({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Lt(this._config.width),e.height=Lt(this._config.height),e.minWidth=Lt(this._config.minWidth),e.minHeight=Lt(this._config.minHeight),e.maxWidth=Lt(this._config.maxWidth),e.maxHeight=Lt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=Hc(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Qe(Ii(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},DL="cdk-overlay-connected-position-bounding-box",A6=/([A-Za-z%]+)$/,IC=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new se,this._resizeSubscription=ze.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(DL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),u=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(u,n,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,i)){o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ra(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=xL(n),{x:s,y:a}=e,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(s+=c),u&&(a+=u);let d=0-s,f=s+o.width-i.width,m=0-a,g=a+o.height-i.height,y=this._subtractOverflows(o.width,d,f),I=this._subtractOverflows(o.height,m,g),D=y*I;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:I===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=CL(this._overlayRef.getConfig().minHeight),a=CL(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=r,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=xL(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),u=Math.max(o.left-i.left-e.x,0),d=0,f=0;return r.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?f=c||-a:f=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!M6(this._lastScrollVisibility,i)){let r=new wC(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),y=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-y/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,u=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,d,f,m;if(u)m=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),y=this._lastBoundingBoxSize.width;d=g*2,f=e.x-g,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-y/2)}return{top:s,left:f,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Lt(i.height),r.top=Lt(i.top),r.bottom=Lt(i.bottom),r.width=Lt(i.width),r.left=Lt(i.left),r.right=Lt(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Lt(o)),s&&(r.maxWidth=Lt(s))}this._lastBoundingBoxSize=i,Ra(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ra(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ra(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Ra(i,this._getExactOverlayY(n,e,d)),Ra(i,this._getExactOverlayX(n,e,d))}else i.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Lt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Lt(s.maxWidth):o&&(i.maxWidth="")),Ra(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Lt(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Lt(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EL(e,i),isOriginOutsideView:_C(e,i),isOverlayClipped:EL(n,i),isOverlayOutsideView:_C(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Hc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof we)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Ra(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function CL(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(A6);return!n||n==="px"?parseFloat(e):null}return t||null}function xL(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function M6(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var TL="cdk-global-overlay-wrapper",DC=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",y="",I="";c?I="flex-start":d==="center"?(I="center",m?y=f:g=f):m?d==="left"||d==="end"?(I="flex-end",g=f):(d==="right"||d==="start")&&(I="flex-start",y=f):d==="left"||d==="start"?(I="flex-start",g=f):(d==="right"||d==="end")&&(I="flex-end",y=f),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":y,n.justifyContent=I,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(TL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},R6=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new DC}flexibleConnectedTo(i){return new IC(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(A(Vl),A(Ee),A(nt),A(AL))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N6=0,_i=(()=>{let e=class e{constructor(i,r,o,s,a,c,u,d,f,m,g,y){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=d,this._directionality=f,this._location=m,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Uv(i);return a.direction=a.direction||this._directionality.value,new EC(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ln))}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${N6++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(ir)),new jv(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(A(x6),A(AL),A(Ji),A(R6),A(T6),A(At),A(te),A(Ee),A(Oi),A(So),A(S6),A(ei,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ML=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(_i);return()=>t.scrollStrategies.reposition()}}),Ch=(()=>{let e=class e{constructor(i){this.elementRef=i}};e.\u0275fac=function(r){return new(r||e)(B(we))},e.\u0275dir=ge({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),xC=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}constructor(i,r,o,s,a){this._overlay=i,this._dir=a,this._backdropSubscription=ze.EMPTY,this._attachSubscription=ze.EMPTY,this._detachSubscription=ze.EMPTY,this._positionSubscription=ze.EMPTY,this._disposeOnNavigation=!1,this._ngZone=j(te),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Re,this.positionChange=new Re,this.attach=new Re,this.detach=new Re,this.overlayKeydown=new Re,this.overlayOutsideClick=new Re,this._templatePortal=new Dh(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=k6);let i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Pi(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=ii(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let i=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Uv({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(i){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof Ch?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ch?this.origin.elementRef.nativeElement:this.origin instanceof we?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Py(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(B(_i),B(Ti),B(En),B(ML),B(Oi,8))},e.\u0275dir=ge({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Ge],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Ge],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Ge],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Ge],push:[2,"cdkConnectedOverlayPush","push",Ge],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Ge]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[In,_n]});let t=e;return t})();function P6(t){return()=>t.scrollStrategies.reposition()}var O6={provide:ML,deps:[_i],useFactory:P6},zv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[_i,O6],imports:[zo,bL,mC,mC]});let t=e;return t})();var L6=["trigger"],V6=["panel"],j6=[[["mat-select-trigger"]],"*"],B6=["mat-select-trigger","*"];function U6(t,e){if(t&1&&(ve(0,"span",4),Hn(1),Se()),t&2){let n=tt();De(),nr(n.placeholder)}}function z6(t,e){t&1&&Dt(0)}function $6(t,e){if(t&1&&(ve(0,"span",11),Hn(1),Se()),t&2){let n=tt(2);De(),nr(n.triggerValue)}}function H6(t,e){if(t&1&&(ve(0,"span",5),at(1,z6,1,0)(2,$6,2,1,"span",11),Se()),t&2){let n=tt();De(),lt(n.customTrigger?1:2)}}function q6(t,e){if(t&1){let n=Mi();ve(0,"div",12,1),mt("@transformPanel.done",function(r){bn(n);let o=tt();return wn(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){bn(n);let o=tt();return wn(o._handleKeydown(r))}),Dt(2,1),Se()}if(t&2){let n=tt();zM("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme(),""),ft("ngClass",n.panelClass)("@transformPanel","showing"),ct("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var G6={transformPanelWrap:bh("transformPanelWrap",[Ol("* => void",iL("@transformPanel",[nL()],{optional:!0}))]),transformPanel:bh("transformPanel",[Pv("void",Ma({opacity:0,transform:"scale(1, 0.8)"})),Ol("void => showing",wh("120ms cubic-bezier(0, 0, 0.2, 1)",Ma({opacity:1,transform:"scale(1, 1)"}))),Ol("* => void",wh("100ms linear",Ma({opacity:0})))])};var RL=0,NL=new $("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(_i);return()=>t.scrollStrategies.reposition()}});function W6(t){return()=>t.scrollStrategies.reposition()}var K6=new $("MAT_SELECT_CONFIG"),Q6={provide:NL,deps:[_i],useFactory:W6},Y6=new $("MatSelectTrigger"),TC=class{constructor(e,n){this.source=e,this.value=n}},kL=(()=>{let e=class e{_scrollOptionIntoView(i){let r=this.options.toArray()[i];if(r){let o=this.panel.nativeElement,s=Uk(i,this.options,this.optionGroups),a=r._getHostElement();i===0&&s===1?o.scrollTop=0:o.scrollTop=zk(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new TC(this,i)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Im.required)??!1}set required(i){this._required=i,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._selectionModel,this._multiple=i}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,a,c,u,d,f,m,g,y,I,D){this._viewportRuler=i,this._changeDetectorRef=r,this._elementRef=a,this._dir=c,this._parentFormField=f,this.ngControl=m,this._liveAnnouncer=I,this._defaultOptions=D,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(k,P)=>k===P,this._uid=`mat-select-${RL++}`,this._triggerAriaLabelledBy=null,this._destroy=new se,this.stateChanges=new se,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${RL++}`,this._panelDoneAnimatingStream=new se,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new se,this.optionSelectionChanges=Ja(()=>{let k=this.options;return k?k.changes.pipe(Yn(k),et(()=>Ii(...k.map(P=>P.onSelectionChange)))):this._initialized.pipe(et(()=>this.optionSelectionChanges))}),this.openedChange=new Re,this._openedStream=this.openedChange.pipe(Ke(k=>k),ee(()=>{})),this._closedStream=this.openedChange.pipe(Ke(k=>!k),ee(()=>{})),this.selectionChange=new Re,this.valueChange=new Re,this._trackedModal=null,this._skipPredicate=k=>this.panelOpen?!1:k.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),D?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=D.typeaheadDebounceInterval),this._errorStateTracker=new Qm(s,m,d,u,this.stateChanges),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Lv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(fo(),Qe(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Qe(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Qe(this._destroy)).subscribe(i=>{i.added.forEach(r=>r.select()),i.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Yn(null),Qe(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let i=this._getTriggerAriaLabelledby(),r=this.ngControl;if(i!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?o.setAttribute("aria-labelledby",i):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let r=`${this.id}-panel`;this._trackedModal&&Wm(this._trackedModal,"aria-owns",r),C0(i,"aria-owns",r),this._trackedModal=i}_clearFromModal(){if(!this._trackedModal)return;let i=`${this.id}-panel`;Wm(this._trackedModal,"aria-owns",i),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let i=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){let r=i.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!Pi(i)||(this.multiple||i.altKey)&&o)i.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;a.onKeydown(i);let u=this.selected;u&&c!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(i){let r=this._keyManager,o=i.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&i.altKey)i.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!Pi(i))i.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&i.ctrlKey){i.preventDefault();let c=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(c?u.select():u.deselect())})}else{let c=r.activeItemIndex;r.onKeydown(i),this._multiple&&s&&i.shiftKey&&r.activeItem&&r.activeItemIndex!==c&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Bn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(i);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,i)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(i){return i!==this._value||this._multiple&&Array.isArray(i)?(this.options&&this._setSelectionByValue(i),this._value=i,!0):!1}_getOverlayWidth(i){return this.panelWidth==="auto"?(i instanceof Ch?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Hm(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let i=Ii(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Qe(i)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ii(...this.options.map(r=>r._stateChanges)).pipe(Qe(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,r){let o=this._selectionModel.isSelected(i);i.value==null&&!this._multiple?(i.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(i.value)):(o!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),r&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let i=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,i):i.indexOf(r)-i.indexOf(o)),this.stateChanges.next()}}_propagateChanges(i){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:i,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){i=r;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=i?i+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let i=this._parentFormField?.getLabelId(),r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(B(Vl),B($t),B(te),B(Vk),B(we),B(Oi,8),B(f0,8),B(p0,8),B(pC,8),B(Zs,10),Dc("tabindex"),B(NL),B(Tk),B(K6,8))},e.\u0275cmp=Zt({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(Ri(s,Y6,5),Ri(s,Jm,5),Ri(s,j0,5)),r&2){let a;gt(a=vt())&&(o.customTrigger=a.first),gt(a=vt())&&(o.options=a),gt(a=vt())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(hn(L6,5),hn(V6,5),hn(xC,5)),r&2){let s;gt(s=vt())&&(o.trigger=s.first),gt(s=vt())&&(o.panel=s.first),gt(s=vt())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&mt("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(ct("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),pt("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Ge],disableRipple:[2,"disableRipple","disableRipple",Ge],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:rr(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ge],placeholder:"placeholder",required:[2,"required","required",Ge],multiple:[2,"multiple","multiple",Ge],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Ge],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",rr],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[zt([{provide:fC,useExisting:e},{provide:V0,useExisting:e}]),In,_n,Xt],ngContentSelectors:B6,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=Mi();hi(j6),ve(0,"div",2,0),mt("click",function(){return bn(s),wn(o.open())}),ve(3,"div",3),at(4,U6,2,1,"span",4)(5,H6,3,1,"span",5),Se(),ve(6,"div",6)(7,"div",7),$s(),ve(8,"svg",8),ut(9,"path",9),Se()()()(),at(10,q6,3,9,"ng-template",10),mt("backdropClick",function(){return bn(s),wn(o.close())})("attach",function(){return bn(s),wn(o._onAttached())})("detach",function(){return bn(s),wn(o.close())})}if(r&2){let s=qs(1);De(3),ct("id",o._valueId),De(),lt(o.empty?4:5),De(6),ft("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[Ch,xC,Yp],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[G6.transformPanel]},changeDetection:0});let t=e;return t})();var PL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[Q6],imports:[Ws,zv,B0,on,Fl,gL,B0,on]});let t=e;return t})();var Z6=["tooltip"],LL=20;var VL=new $("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=j(_i);return()=>t.scrollStrategies.reposition({scrollThrottle:LL})}});function X6(t){return()=>t.scrollStrategies.reposition({scrollThrottle:LL})}var J6={provide:VL,deps:[_i],useFactory:X6};function eW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var tW=new $("mat-tooltip-default-options",{providedIn:"root",factory:eW});var OL="tooltip-panel",FL=Bo({passive:!0}),nW=8,iW=8,rW=24,oW=200,jL=(()=>{let e=class e{get position(){return this._position}set position(i){i!==this._position&&(this._position=i,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(i){this._positionAtOrigin=$c(i),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(i){let r=$c(i);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(i){this._showDelay=Id(i)}get hideDelay(){return this._hideDelay}set hideDelay(i){this._hideDelay=Id(i),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(i){let r=this._message;this._message=i!=null?String(i).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}get tooltipClass(){return this._tooltipClass}set tooltipClass(i){this._tooltipClass=i,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(i,r,o,s,a,c,u,d,f,m,g,y){this._overlay=i,this._elementRef=r,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=c,this._ariaDescriber=u,this._focusMonitor=d,this._dir=m,this._defaultOptions=g,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=sW,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new se,this._injector=j(At),this._scrollStrategy=f,this._document=y,g&&(this._showDelay=g.showDelay,this._hideDelay=g.hideDelay,g.position&&(this.position=g.position),g.positionAtOrigin&&(this.positionAtOrigin=g.positionAtOrigin),g.touchGestures&&(this.touchGestures=g.touchGestures),g.tooltipClass&&(this.tooltipClass=g.tooltipClass)),m.change.pipe(Qe(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=nW}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Qe(this._destroyed)).subscribe(i=>{i?i==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let i=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,o])=>{i.removeEventListener(r,o,FL)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(i,this.message,"tooltip"),this._focusMonitor.stopMonitoring(i)}show(i=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(r);this._detach(),this._portal=this._portal||new Ih(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Qe(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(i)}hide(i=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(i):(r._cancelPendingAnimations(),this._detach()))}toggle(i){this._isTooltipVisible()?this.hide():this.show(void 0,i)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(i){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!i)&&s._origin instanceof we)return this._overlayRef;this._detach()}let r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?i||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return o.positionChanges.pipe(Qe(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${OL}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Qe(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Qe(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Qe(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Pi(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(i){let r=i.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();r.withPositions([this._addOffset(z(z({},o.main),s.main)),this._addOffset(z(z({},o.fallback),s.fallback))])}_addOffset(i){let r=iW,o=!this._dir||this._dir.value=="ltr";return i.originY==="top"?i.offsetY=-r:i.originY==="bottom"?i.offsetY=r:i.originX==="start"?i.offsetX=o?-r:r:i.originX==="end"&&(i.offsetX=o?r:-r),i}_getOrigin(){let i=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"||r=="below"?o={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&i||r=="right"&&!i?o={originX:"start",originY:"center"}:(r=="after"||r=="right"&&i||r=="left"&&!i)&&(o={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let i=!this._dir||this._dir.value=="ltr",r=this.position,o;r=="above"?o={overlayX:"center",overlayY:"bottom"}:r=="below"?o={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&i||r=="right"&&!i?o={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&i||r=="left"&&!i)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Fr(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(i){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=i,this._tooltipInstance._markForCheck())}_invertPosition(i,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):i==="end"?i="start":i==="start"&&(i="end"),{x:i,y:r}}_updateCurrentPositionClass(i){let{overlayY:r,originX:o,originY:s}=i,a;if(r==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=r==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let c=this._overlayRef;if(c){let u=`${this._cssClassPrefix}-${OL}-`;c.removePanelClass(u+this._currentPosition),c.addPanelClass(u+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",i=>{this._setupPointerExitEventsIfNeeded();let r;i.x!==void 0&&i.y!==void 0&&(r=i),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",i=>{let r=i.targetTouches?.[0],o=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let i=[];if(this._platformSupportsMouseEvents())i.push(["mouseleave",r=>{let o=r.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};i.push(["touchend",r],["touchcancel",r])}this._addListeners(i),this._passiveListeners.push(...i)}_addListeners(i){i.forEach(([r,o])=>{this._elementRef.nativeElement.addEventListener(r,o,FL)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(i){if(this._isTooltipVisible()){let r=this._document.elementFromPoint(i.clientX,i.clientY),o=this._elementRef.nativeElement;r!==o&&!o.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let i=this.touchGestures;if(i!=="off"){let r=this._elementRef.nativeElement,o=r.style;(i==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(i==="on"||!r.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(i){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,i,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};e.\u0275fac=function(r){return new(r||e)(B(_i),B(we),B(Ll),B(En),B(te),B(nt),B(Dk),B(Dd),B(VL),B(Oi),B(tW,8),B(Ee))},e.\u0275dir=ge({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,o){r&2&&pt("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let t=e;return t})(),sW=(()=>{let e=class e{constructor(i,r,o){this._changeDetectorRef=i,this._elementRef=r,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new se,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(i){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},i)}hide(i){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},i)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:i}){(!i||!this._triggerElement.contains(i))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let i=this._elementRef.nativeElement.getBoundingClientRect();return i.height>rW&&i.width>=oW}_handleAnimationEnd({animationName:i}){(i===this._showAnimation||i===this._hideAnimation)&&this._finalizeAnimation(i===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(i){i?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(i){let r=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(r.classList.remove(i?s:o),r.classList.add(i?o:s),this._isVisible!==i&&(this._isVisible=i,this._changeDetectorRef.markForCheck()),i&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(r);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}i&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(i))}};e.\u0275fac=function(r){return new(r||e)(B($t),B(we),B(ei,8))},e.\u0275cmp=Zt({type:e,selectors:[["mat-tooltip-component"]],viewQuery:function(r,o){if(r&1&&hn(Z6,7),r&2){let s;gt(s=vt())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,o){r&1&&mt("mouseleave",function(a){return o._handleMouseLeave(a)})},standalone:!0,features:[Xt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,o){if(r&1){let s=Mi();ve(0,"div",1,0),mt("animationend",function(c){return bn(s),wn(o._handleAnimationEnd(c))}),ve(2,"div",2),Hn(3),Se()()}r&2&&(pt("mdc-tooltip--multiline",o._isMultiline),ft("ngClass",o.tooltipClass),De(3),nr(o.message))},dependencies:[Yp],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let t=e;return t})();var BL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[J6],imports:[Sk,Ws,zv,on,on,Fl]});let t=e;return t})();function aW(t,e){if(t&1&&(ve(0,"mat-option",17),Hn(1),Se()),t&2){let n=e.$implicit;ft("value",n),De(),xo(" ",n," ")}}function cW(t,e){if(t&1){let n=Mi();ve(0,"mat-form-field",14)(1,"mat-select",16,0),mt("selectionChange",function(r){bn(n);let o=tt(2);return wn(o._changePageSize(r.value))}),HM(3,aW,2,2,"mat-option",17,$M),Se(),ve(5,"div",18),mt("click",function(){bn(n);let r=qs(2);return wn(r.open())}),Se()()}if(t&2){let n=tt(2);ft("appearance",n._formFieldAppearance)("color",n.color),De(),ft("value",n.pageSize)("disabled",n.disabled)("aria-labelledby",n._pageSizeLabelId)("panelClass",n.selectConfig.panelClass||"")("disableOptionCentering",n.selectConfig.disableOptionCentering),De(2),qM(n._displayedPageSizeOptions)}}function lW(t,e){if(t&1&&(ve(0,"div",15),Hn(1),Se()),t&2){let n=tt(2);De(),nr(n.pageSize)}}function uW(t,e){if(t&1&&(ve(0,"div",3)(1,"div",13),Hn(2),Se(),at(3,cW,6,7,"mat-form-field",14)(4,lW,2,1,"div",15),Se()),t&2){let n=tt();De(),ct("id",n._pageSizeLabelId),De(),xo(" ",n._intl.itemsPerPageLabel," "),De(),lt(n._displayedPageSizeOptions.length>1?3:-1),De(),lt(n._displayedPageSizeOptions.length<=1?4:-1)}}function dW(t,e){if(t&1){let n=Mi();ve(0,"button",19),mt("click",function(){bn(n);let r=tt();return wn(r.firstPage())}),$s(),ve(1,"svg",8),ut(2,"path",20),Se()()}if(t&2){let n=tt();ft("matTooltip",n._intl.firstPageLabel)("matTooltipDisabled",n._previousButtonsDisabled())("matTooltipPosition","above")("disabled",n._previousButtonsDisabled()),ct("aria-label",n._intl.firstPageLabel)}}function hW(t,e){if(t&1){let n=Mi();ve(0,"button",21),mt("click",function(){bn(n);let r=tt();return wn(r.lastPage())}),$s(),ve(1,"svg",8),ut(2,"path",22),Se()()}if(t&2){let n=tt();ft("matTooltip",n._intl.lastPageLabel)("matTooltipDisabled",n._nextButtonsDisabled())("matTooltipPosition","above")("disabled",n._nextButtonsDisabled()),ct("aria-label",n._intl.lastPageLabel)}}var $v=(()=>{let e=class e{constructor(){this.changes=new se,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(i,r,o)=>{if(o==0||r==0)return`0 of ${o}`;o=Math.max(o,0);let s=i*r,a=s<o?Math.min(s+r,o):s+r;return`${s+1} \u2013 ${a} of ${o}`}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fW(t){return t||new $v}var pW={provide:$v,deps:[[new wo,new bc,$v]],useFactory:fW},mW=50;var gW=new $("MAT_PAGINATOR_DEFAULT_OPTIONS"),vW=0,yW=(()=>{let e=class e{get pageIndex(){return this._pageIndex}set pageIndex(i){this._pageIndex=Math.max(i||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(i){this._length=i||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(i){this._pageSize=Math.max(i||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(i){this._pageSizeOptions=(i||[]).map(r=>rr(r,0)),this._updateDisplayedPageSizeOptions()}constructor(i,r,o){if(this._intl=i,this._changeDetectorRef=r,this._pageSizeLabelId=`mat-paginator-page-size-label-${vW++}`,this._isInitialized=!1,this._initializedStream=new Ds(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Re,this.initialized=this._initializedStream,this._intlChanges=i.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){let{pageSize:s,pageSizeOptions:a,hidePageSize:c,showFirstLastButtons:u}=o;s!=null&&(this._pageSize=s),a!=null&&(this._pageSizeOptions=a),c!=null&&(this.hidePageSize=c),u!=null&&(this.showFirstLastButtons=u)}this._formFieldAppearance=o?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let i=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(i)}previousPage(){if(!this.hasPreviousPage())return;let i=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(i)}firstPage(){if(!this.hasPreviousPage())return;let i=this.pageIndex;this.pageIndex=0,this._emitPageEvent(i)}lastPage(){if(!this.hasNextPage())return;let i=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(i)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let i=this.getNumberOfPages()-1;return this.pageIndex<i&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(i){let r=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(r/i)||0,this.pageSize=i,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:mW),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((i,r)=>i-r),this._changeDetectorRef.markForCheck())}_emitPageEvent(i){this.page.emit({previousPageIndex:i,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};e.\u0275fac=function(r){return new(r||e)(B($v),B($t),B(gW,8))},e.\u0275cmp=Zt({type:e,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",rr],length:[2,"length","length",rr],pageSize:[2,"pageSize","pageSize",rr],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ge],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ge],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ge]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[In,Xt],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,o){r&1&&(ve(0,"div",1)(1,"div",2),at(2,uW,5,4,"div",3),ve(3,"div",4)(4,"div",5),Hn(5),Se(),at(6,dW,3,5,"button",6),ve(7,"button",7),mt("click",function(){return o.previousPage()}),$s(),ve(8,"svg",8),ut(9,"path",9),Se()(),XS(),ve(10,"button",10),mt("click",function(){return o.nextPage()}),$s(),ve(11,"svg",8),ut(12,"path",11),Se()(),at(13,hW,3,5,"button",12),Se()()()),r&2&&(De(2),lt(o.hidePageSize?-1:2),De(3),xo(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),De(),lt(o.showFirstLastButtons?6:-1),De(),ft("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),ct("aria-label",o._intl.previousPageLabel),De(3),ft("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),ct("aria-label",o._intl.nextPageLabel),De(3),lt(o.showFirstLastButtons?13:-1))},dependencies:[mL,kL,Jm,qk,jL],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0});let t=e;return t})(),mle=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Te({type:e}),e.\u0275inj=xe({providers:[pW],imports:[Gk,PL,BL,yW]});let t=e;return t})();export{ze as a,pe as b,se as c,Yt as d,Ds as e,Ue as f,le as g,Za as h,Xa as i,ee as j,Ir as k,Ja as l,Sy as m,ec as n,Ii as o,Ke as p,Dr as q,HV as r,pu as s,Bn as t,fo as u,Cs as v,Qn as w,ky as x,Yn as y,et as z,Qe as A,kt as B,ae as C,Jn as D,q as E,xe as F,$ as G,A as H,j as I,wo as J,bc as K,Zt as L,Te as M,ge as N,wc as O,ln as P,_n as Q,bn as R,wn as S,$s as T,XS as U,di as V,Dc as W,At as X,Re as Y,te as Z,Zi as _,cee as $,we as aa,pc as ba,dn as ca,ei as da,tr as ea,lee as fa,uee as ga,De as ha,B as ia,Lp as ja,Ti as ka,yc as la,Co as ma,En as na,Ai as oa,Hs as pa,Ft as qa,pee as ra,In as sa,at as ta,Fr as ua,ct as va,ft as wa,Gb as xa,pt as ya,Wb as za,zM as Aa,lt as Ba,$M as Ca,HM as Da,qM as Ea,ve as Fa,Se as Ga,ut as Ha,GM as Ia,WM as Ja,Wz as Ka,Mi as La,Tc as Ma,Qz as Na,mt as Oa,Jz as Pa,tt as Qa,hi as Ra,Dt as Sa,i$ as Ta,Ri as Ua,hn as Va,gt as Wa,vt as Xa,qs as Ya,Hn as Za,nr as _a,xo as $a,s$ as ab,a$ as bb,mee as cb,c$ as db,zt as eb,Xt as fb,gee as gb,vee as hb,yee as ib,_ee as jb,bee as kb,wee as lb,eR as mb,Fu as nb,ir as ob,Eee as pb,$t as qb,Wp as rb,Zb as sb,Ge as tb,rr as ub,Xb as vb,Iee as wb,Ee as xb,So as yb,Yp as zb,qee as Ab,Gee as Bb,Wee as Cb,_R as Db,Kee as Eb,Ws as Fb,dw as Gb,Ao as Hb,J$ as Ib,cte as Jb,NR as Kb,Ste as Lb,F4 as Mb,pH as Nb,Po as Ob,Wte as Pb,Kte as Qb,z0 as Rb,Are as Sb,Q8 as Tb,ia as Ub,ig as Vb,Mre as Wb,kn as Xb,Rre as Yb,nP as Zb,iP as _b,Goe as $b,Gc as ac,Kk as bc,Zie as cc,Wk as dc,_h as ec,kv as fc,Xk as gc,rg as hc,og as ic,sg as jc,ag as kc,Roe as lc,YF as mc,XF as nc,$c as oc,Id as pc,xG as qc,Oi as rc,zo as sc,c0 as tc,UN as uc,jo as vc,Zs as wc,fne as xc,pne as yc,f0 as zc,cG as Ac,gne as Bc,uG as Cc,pG as Dc,gG as Ec,yG as Fc,bG as Gc,EG as Hc,vne as Ic,yne as Jc,nt as Kc,Bo as Lc,fk as Mc,Pi as Nc,Vm as Oc,gk as Pc,Lne as Qc,Dk as Rc,yk as Sc,qG as Tc,n8 as Uc,tie as Vc,Tk as Wc,Dd as Xc,nie as Yc,Sk as Zc,Nie as _c,kie as $c,on as ad,Ym as bd,x8 as cd,Pie as dd,Vk as ed,Oie as fd,Bk as gd,L0 as hd,k8 as id,P8 as jd,Jm as kd,B0 as ld,Fie as md,vL as nd,vae as od,Fv as pd,yae as qd,yL as rd,_ae as sd,D6 as td,Vl as ud,Fl as vd,mC as wd,Ih as xd,Dh as yd,Vv as zd,Fae as Ad,bL as Bd,Uv as Cd,AL as Dd,EC as Ed,_i as Fd,zv as Gd,Ui as Hd,jse as Id,bh as Jd,wh as Kd,Bse as Ld,Use as Md,Ma as Nd,Pv as Od,zse as Pd,Ol as Qd,nL as Rd,iL as Sd,eL as Td,tL as Ud,$se as Vd,hae as Wd,gL as Xd,Qie as Yd,qk as Zd,Gk as _d,kL as $d,PL as ae,jL as be,BL as ce,$v as de,yW as ee,mle as fe};
