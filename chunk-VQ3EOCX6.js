import{$ as yt,$b as k,A as oe,Aa as Dt,Ba as de,C as re,Ca as fe,D as X,Da as pe,E as vt,Ea as me,Ga as ge,I as K,K as I,L as z,La as _e,M as Nt,Q as W,Qa as Ie,R as p,Ra as Ee,Sa as xe,T as ae,Ta as Oe,U as ce,Ua as Ae,W as U,X as L,Xa as Se,Y as q,Ya as Pe,Za as Ne,_b as Ue,aa as le,ab as ot,b as ne,ba as Ut,bc as h,ca as E,cc as R,dc as C,ha as wt,p as ft,q as pt,r as mt,s as gt,sa as ue,t as _t,ta as he,u as Pt,v as Tt,wa as bt,x as ie,ya as Lt,z as se}from"./chunk-BZFXBW5Z.js";import{f as Te,h as ve,l as ye,o as S,p as we,s as be,t as ke,u as Re,v as Ce,x as st,y as Mt}from"./chunk-65CH3ZW6.js";import{a as St,k as it}from"./chunk-GV7GV3NK.js";var gn=(t,e,n,i,s,o,r,c)=>({alert:t,error:e,warn:n,success:i,info:s,bare:o,"rtl-mode":r,"has-icon":c}),_n=t=>({width:t});function Tn(t,e){t&1&&yt(0)}function vn(t,e){if(t&1&&(U(0,"div",9),W(1,Tn,1,0,"ng-container",10),L()),t&2){let n=E(2);I(),p("ngTemplateOutlet",n.title)("ngTemplateOutletContext",n.item.context)}}function yn(t,e){if(t&1&&q(0,"div",11),t&2){let n=E(2);p("innerHTML",n.title,K)}}function wn(t,e){t&1&&yt(0)}function bn(t,e){if(t&1&&(U(0,"div",12),W(1,wn,1,0,"ng-container",10),L()),t&2){let n=E(2);I(),p("ngTemplateOutlet",n.content)("ngTemplateOutletContext",n.item.context)}}function kn(t,e){if(t&1&&q(0,"div",13),t&2){let n=E(2);p("innerHTML",n.content,K)}}function Rn(t,e){if(t&1&&q(0,"div",14),t&2){let n=E(2);p("innerHTML",n.safeSvg,K)}}function Cn(t,e){if(t&1&&(U(0,"div"),W(1,vn,2,2,"div",6)(2,yn,1,1,"ng-template",null,0,bt)(4,bn,2,2,"div",7)(5,kn,1,1,"ng-template",null,1,bt)(7,Rn,1,1,"div",8),L()),t&2){let n=wt(3),i=wt(6),s=E();I(),p("ngIf",s.titleIsTemplate)("ngIfElse",n),I(3),p("ngIf",s.contentIsTemplate)("ngIfElse",i),I(3),p("ngIf",s.item.icon!=="bare")}}function In(t,e){t&1&&yt(0)}function En(t,e){if(t&1&&(U(0,"div",17),W(1,In,1,0,"ng-container",10),L()),t&2){let n=E(2);I(),p("ngTemplateOutlet",n.item.html)("ngTemplateOutletContext",n.item.context)}}function xn(t,e){if(t&1&&q(0,"div",13),t&2){let n=E(2);p("innerHTML",n.safeInputHtml,K)}}function On(t,e){if(t&1){let n=le();U(0,"div",18),Ut("click",function(s){se(n);let o=E(2);return oe(o.onClickIcon(s))}),L()}if(t&2){let n=E(2);ae("icon-hover",n.clickIconToClose),p("innerHTML",n.safeSvg,K)}}function An(t,e){if(t&1&&(U(0,"div"),W(1,En,2,2,"div",15)(2,xn,1,1,"ng-template",null,2,bt)(4,On,1,3,"div",16),L()),t&2){let n=wt(3),i=E();I(),p("ngIf",i.htmlIsTemplate)("ngIfElse",n),I(3),p("ngIf",i.item.icon)}}function Sn(t,e){if(t&1&&(U(0,"div",19),q(1,"span",20),L()),t&2){let n=E();I(),p("ngStyle",ue(1,_n,n.progressWidth+"%"))}}function Pn(t,e){if(t&1&&q(0,"simple-notification",2),t&2){let n=e.$implicit,i=e.index,s=E();p("item",n)("timeOut",s.timeOut)("clickToClose",s.clickToClose)("clickIconToClose",s.clickIconToClose)("maxLength",s.maxLength)("showProgressBar",s.showProgressBar)("pauseOnHover",s.pauseOnHover)("theClass",s.theClass)("rtl",s.rtl)("animate",s.animate)("position",i)}}var Me={alert:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
        </svg>
    `,error:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        </svg>
    `,info:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
        </svg>
    `,success:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
        </svg>
    `,warn:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="64" viewBox="0 0 64 64" height="64">
          <circle cx="32.086" cy="50.142" r="2.256"/>
          <path d="M30.08 25.012V42.32c0 1.107.897 2.005 2.006 2.005s2.006-.897 2.006-2.005V25.012c0-1.107-.897-2.006-2.006-2.006s-2.006.898-2.006 2.006z"/>
          <path d="M63.766 59.234L33.856 3.082c-.697-1.308-2.844-1.308-3.54 0L.407 59.234c-.331.622-.312 1.372.051 1.975.362.605 1.015.975 1.72.975h59.816c.705 0 1.357-.369 1.721-.975.361-.603.381-1.353.051-1.975zM5.519 58.172L32.086 8.291l26.568 49.881H5.519z"/>
        </svg>
    `},H=function(t){return t.Success="success",t.Error="error",t.Alert="alert",t.Info="info",t.Warn="warn",t.Bare="bare",t}(H||{}),j=(()=>{class t{globalOptions;constructor(n){this.globalOptions=n}emitter=new ne;icons=Me;set(n,i){return n.id=n.override&&n.override.id?n.override.id:Math.random().toString(36).substring(3),n.click=new X,n.clickIcon=new X,n.timeoutEnd=new X,this.emitter.next({command:"set",notification:n,add:i}),n}success(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Success,icon:this.icons.success,override:s,context:o},!0)}error(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Error,icon:this.icons.error,override:s,context:o},!0)}alert(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Alert,icon:this.icons.alert,override:s,context:o},!0)}info(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Info,icon:this.icons.info,override:s,context:o},!0)}warn(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Warn,icon:this.icons.warn,override:s,context:o},!0)}bare(n="",i="",s,o){return this.set({title:n,content:i||"",type:H.Bare,icon:"bare",override:s,context:o},!0)}create(n="",i="",s=H.Success,o,r){return this.set({title:n,content:i,type:s,icon:this.icons[s],override:o,context:r},!0)}html(n,i=H.Success,s,o="bare",r){return this.set({html:n,type:i,icon:this.icons[o],override:s,context:r},!0)}remove(n){n?this.emitter.next({command:"clean",id:n}):this.emitter.next({command:"cleanAll"})}static \u0275fac=function(i){return new(i||t)(gt("options"))};static \u0275prov=ft({token:t,factory:t.\u0275fac})}return t})(),Nn=(()=>{class t{notificationService;domSanitizer;cd;zone;timeOut;showProgressBar;pauseOnHover;clickToClose;clickIconToClose;maxLength;theClass;rtl;animate;position;item;title;content;titleIsTemplate=!1;contentIsTemplate=!1;htmlIsTemplate=!1;progressWidth=0;safeSvg;safeInputHtml;stopTime=!1;timer;framesPerSecond=40;sleepTime;startTime;endTime;pauseStart;icon;constructor(n,i,s,o){this.notificationService=n,this.domSanitizer=i,this.cd=s,this.zone=o}ngOnInit(){this.item.override&&this.attachOverrides(),this.animate&&(this.item.state=this.animate),this.timeOut!==0&&this.startTimeOut(),this.contentType(this.item.title,"title"),this.contentType(this.item.content,"content"),this.contentType(this.item.html,"html"),this.safeSvg=this.domSanitizer.bypassSecurityTrustHtml(this.icon||this.item.icon),this.safeInputHtml=this.domSanitizer.bypassSecurityTrustHtml(this.item.html)}ngOnDestroy(){clearTimeout(this.timer),this.cd.detach()}startTimeOut(){this.sleepTime=1e3/this.framesPerSecond,this.startTime=new Date().getTime(),this.endTime=this.startTime+this.timeOut,this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.sleepTime))}onEnter(){this.pauseOnHover&&(this.stopTime=!0,this.pauseStart=new Date().getTime())}onLeave(){this.pauseOnHover&&(this.stopTime=!1,this.startTime+=new Date().getTime()-this.pauseStart,this.endTime+=new Date().getTime()-this.pauseStart,this.zone.runOutsideAngular(()=>setTimeout(this.instance,this.sleepTime)))}onClick(n){this.item.click.emit(n),this.clickToClose&&this.remove()}onClickIcon(n){this.item.clickIcon.emit(n),this.clickIconToClose&&this.remove()}attachOverrides(){Object.keys(this.item.override).forEach(n=>{this.hasOwnProperty(n)&&(this[n]=this.item.override[n])})}instance=()=>{let n=new Date().getTime();this.endTime<n?(this.remove(),this.item.timeoutEnd.emit()):this.stopTime||(this.showProgressBar&&(this.progressWidth=Math.min((n-this.startTime+this.sleepTime)*100/this.timeOut,100)),this.timer=setTimeout(this.instance,this.sleepTime)),this.zone.run(()=>{this.cd.destroyed||this.cd.detectChanges()})};remove(){this.animate?(this.item.state=this.animate+"Out",setTimeout(()=>{this.notificationService.set(this.item,!1)},310)):this.notificationService.set(this.item,!1)}contentType(n,i){n instanceof Nt?this[i]=n:this[i]=this.domSanitizer.bypassSecurityTrustHtml(n),this[i+"IsTemplate"]=n instanceof Nt}static \u0275fac=function(i){return new(i||t)(z(j),z(_e),z(Lt),z(vt))};static \u0275cmp=Pt({type:t,selectors:[["simple-notification"]],inputs:{timeOut:"timeOut",showProgressBar:"showProgressBar",pauseOnHover:"pauseOnHover",clickToClose:"clickToClose",clickIconToClose:"clickIconToClose",maxLength:"maxLength",theClass:"theClass",rtl:"rtl",animate:"animate",position:"position",item:"item"},decls:4,vars:16,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],[1,"simple-notification",3,"click","mouseenter","mouseleave","ngClass"],[4,"ngIf"],["class","sn-progress-loader",4,"ngIf"],["class","sn-title",4,"ngIf","ngIfElse"],["class","sn-content",4,"ngIf","ngIfElse"],["class","icon",3,"innerHTML",4,"ngIf"],[1,"sn-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sn-title",3,"innerHTML"],[1,"sn-content"],[1,"sn-content",3,"innerHTML"],[1,"icon",3,"innerHTML"],["class","sn-html",4,"ngIf","ngIfElse"],["class","icon",3,"icon-hover","innerHTML","click",4,"ngIf"],[1,"sn-html"],[1,"icon",3,"click","innerHTML"],[1,"sn-progress-loader"],[3,"ngStyle"]],template:function(i,s){i&1&&(U(0,"div",3),Ut("click",function(r){return s.onClick(r)})("mouseenter",function(){return s.onEnter()})("mouseleave",function(){return s.onLeave()}),W(1,Cn,8,5,"div",4)(2,An,5,3,"div",4)(3,Sn,2,3,"div",5),L()),i&2&&(ce(s.theClass),p("@enterLeave",s.item.state)("ngClass",he(7,gn,s.item.type==="alert",s.item.type==="error",s.item.type==="warn",s.item.type==="success",s.item.type==="info",s.item.type==="bare",s.rtl,s.item.icon!=="bare")),I(),p("ngIf",!s.item.html),I(),p("ngIf",s.item.html),I(),p("ngIf",s.showProgressBar))},dependencies:[Dt,fe,me,pe],styles:[`.simple-notification{width:100%;padding:10px 20px;box-sizing:border-box;position:relative;float:left;margin-bottom:10px;color:#fff;cursor:pointer;transition:all .5s;min-height:70px}.simple-notification .sn-title,.simple-notification .sn-content,.simple-notification .sn-html{margin:0}.simple-notification .sn-title{line-height:30px;font-size:20px}.simple-notification .sn-content{font-size:16px;line-height:20px}.simple-notification.has-icon .sn-title,.simple-notification.has-icon .sn-content,.simple-notification.has-icon .sn-html{padding:0 50px 0 0}.simple-notification .icon{position:absolute;box-sizing:border-box;top:0;right:0;width:70px;height:70px;padding:10px}.simple-notification .icon.icon-hover:hover{opacity:.5}.simple-notification .icon svg{fill:#fff;width:100%;height:100%}.simple-notification .icon svg g{fill:#fff}.simple-notification.rtl-mode.has-icon .sn-title,.simple-notification.rtl-mode.has-icon .sn-content,.simple-notification.rtl-mode.has-icon .sn-html{padding:0 0 0 50px}.simple-notification.rtl-mode{direction:rtl}.simple-notification.rtl-mode .sn-content{padding:0 0 0 50px}.simple-notification.rtl-mode svg{left:0;right:auto}.simple-notification.error{background:#F44336}.simple-notification.success{background:#8BC34A}.simple-notification.alert{background:#ffdb5b}.simple-notification.info{background:#03A9F4}.simple-notification.warn{background:#ffdb5b}.simple-notification .sn-progress-loader{position:absolute;top:0;left:0;width:100%;height:5px}.simple-notification .sn-progress-loader span{float:left;height:100%}.simple-notification.success .sn-progress-loader span{background:#689F38}.simple-notification.error .sn-progress-loader span{background:#D32F2F}.simple-notification.alert .sn-progress-loader span{background:#edc242}.simple-notification.info .sn-progress-loader span{background:#0288D1}.simple-notification.warn .sn-progress-loader span{background:#edc242}.simple-notification.bare .sn-progress-loader span{background:#ccc}.simple-notification.warn div .sn-title,.simple-notification.warn div .sn-content,.simple-notification.warn div .sn-html{color:#444}
`],encapsulation:2,data:{animation:[Ue("enterLeave",[R("fade",h({opacity:1})),C("* => fade",[h({opacity:0}),k("400ms ease-in-out")]),R("fadeOut",h({opacity:0})),C("fade => fadeOut",[h({opacity:1}),k("300ms ease-in-out")]),R("fromTop",h({opacity:1,transform:"translateY(0)"})),C("* => fromTop",[h({opacity:0,transform:"translateY(-5%)"}),k("400ms ease-in-out")]),R("fromTopOut",h({opacity:0,transform:"translateY(5%)"})),C("fromTop => fromTopOut",[h({opacity:1,transform:"translateY(0)"}),k("300ms ease-in-out")]),R("fromRight",h({opacity:1,transform:"translateX(0)"})),C("* => fromRight",[h({opacity:0,transform:"translateX(5%)"}),k("400ms ease-in-out")]),R("fromRightOut",h({opacity:0,transform:"translateX(-5%)"})),C("fromRight => fromRightOut",[h({opacity:1,transform:"translateX(0)"}),k("300ms ease-in-out")]),R("fromBottom",h({opacity:1,transform:"translateY(0)"})),C("* => fromBottom",[h({opacity:0,transform:"translateY(5%)"}),k("400ms ease-in-out")]),R("fromBottomOut",h({opacity:0,transform:"translateY(-5%)"})),C("fromBottom => fromBottomOut",[h({opacity:1,transform:"translateY(0)"}),k("300ms ease-in-out")]),R("fromLeft",h({opacity:1,transform:"translateX(0)"})),C("* => fromLeft",[h({opacity:0,transform:"translateX(-5%)"}),k("400ms ease-in-out")]),R("fromLeftOut",h({opacity:0,transform:"translateX(5%)"})),C("fromLeft => fromLeftOut",[h({opacity:1,transform:"translateX(0)"}),k("300ms ease-in-out")]),R("scale",h({opacity:1,transform:"scale(1)"})),C("* => scale",[h({opacity:0,transform:"scale(0)"}),k("400ms ease-in-out")]),R("scaleOut",h({opacity:0,transform:"scale(0)"})),C("scale => scaleOut",[h({opacity:1,transform:"scale(1)"}),k("400ms ease-in-out")]),R("rotate",h({opacity:1,transform:"rotate(0deg)"})),C("* => rotate",[h({opacity:0,transform:"rotate(5deg)"}),k("400ms ease-in-out")]),R("rotateOut",h({opacity:0,transform:"rotate(-5deg)"})),C("rotate => rotateOut",[h({opacity:1,transform:"rotate(0deg)"}),k("400ms ease-in-out")])])]},changeDetection:0})}return t})(),Bt=function(t){return t.Fade="fade",t.FromTop="fromTop",t.FromRight="fromRight",t.FromBottom="fromBottom",t.FromLeft="fromLeft",t.Scale="scale",t.Rotate="rotate",t}(Bt||{}),po=(()=>{class t{service;cd;constructor(n,i){this.service=n,this.cd=i}set options(n){this.usingComponentOptions=!0,this.attachChanges(n)}create=new X;destroy=new X;notifications=[];position=["bottom","right"];lastNotificationCreated;listener;lastOnBottom=!0;maxStack=8;preventLastDuplicates=!1;preventDuplicates=!1;timeOut=0;maxLength=0;clickToClose=!0;clickIconToClose=!1;showProgressBar=!0;pauseOnHover=!0;theClass="";rtl=!1;animate=Bt.FromRight;usingComponentOptions=!1;ngOnInit(){this.usingComponentOptions||this.attachChanges(this.service.globalOptions),this.listener=this.service.emitter.subscribe(n=>{switch(n.command){case"cleanAll":this.notifications=[];break;case"clean":this.cleanSingle(n.id);break;case"set":n.add?this.add(n.notification):this.defaultBehavior(n);break;default:this.defaultBehavior(n);break}this.cd.destroyed||this.cd.detectChanges()})}ngOnDestroy(){this.listener&&this.listener.unsubscribe(),this.cd.detach()}defaultBehavior(n){this.notifications.splice(this.notifications.indexOf(n.notification),1),this.destroy.emit(this.buildEmit(n.notification,!1))}add(n){n.createdOn=new Date;let i=this.preventLastDuplicates||this.preventDuplicates?this.block(n):!1;this.lastNotificationCreated=n,n.override&&n.override.icons&&n.override.icons[n.type]&&(n.icon=n.override.icons[n.type]),i||(this.lastOnBottom?(this.notifications.length>=this.maxStack&&this.notifications.splice(0,1),this.notifications.push(n)):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,n)),this.create.emit(this.buildEmit(n,!0)))}block(n){let i=n.html?this.checkHtml:this.checkStandard;if(this.preventDuplicates&&this.notifications.length>0){for(let s of this.notifications)if(i(s,n))return!0}if(this.preventLastDuplicates){let s;if(this.preventLastDuplicates==="visible"&&this.notifications.length>0)this.lastOnBottom?s=this.notifications[this.notifications.length-1]:s=this.notifications[0];else if(this.preventLastDuplicates==="all"&&this.lastNotificationCreated)s=this.lastNotificationCreated;else return!1;return i(s,n)}return!1}checkStandard(n,i){return n.type===i.type&&n.title===i.title&&n.content===i.content}checkHtml(n,i){return n.html?n.type===i.type&&n.title===i.title&&n.content===i.content&&n.html===i.html:!1}attachChanges(n){for(let i in n)this.hasOwnProperty(i)?this[i]=n[i]:i==="icons"&&(this.service.icons=n[i])}buildEmit(n,i){let s={createdOn:n.createdOn,type:n.type,icon:n.icon,id:n.id};return n.html?s.html=n.html:(s.title=n.title,s.content=n.content),i||(s.destroyedOn=new Date),s}cleanSingle(n){let i=0,s=!1,o;this.notifications.forEach((r,c)=>{r.id===n&&(i=c,o=r,s=!0)}),s&&(this.notifications.splice(i,1),this.destroy.emit(this.buildEmit(o,!1)))}static \u0275fac=function(i){return new(i||t)(z(j),z(Lt))};static \u0275cmp=Pt({type:t,selectors:[["simple-notifications"]],inputs:{options:"options"},outputs:{create:"create",destroy:"destroy"},decls:2,vars:2,consts:[[1,"simple-notification-wrapper",3,"ngClass"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position",4,"ngFor","ngForOf"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position"]],template:function(i,s){i&1&&(U(0,"div",0),W(1,Pn,1,11,"simple-notification",1),L()),i&2&&(p("ngClass",s.position),I(),p("ngForOf",s.notifications))},dependencies:[Dt,de,Nn],styles:[`.simple-notification-wrapper{position:fixed;width:300px;z-index:1000}.simple-notification-wrapper.left{left:20px}.simple-notification-wrapper.top{top:20px}.simple-notification-wrapper.right{right:20px}.simple-notification-wrapper.bottom{bottom:20px}.simple-notification-wrapper.center{left:50%;transform:translate(-50%)}.simple-notification-wrapper.middle{top:50%;transform:translateY(-50%)}.simple-notification-wrapper.middle.center{transform:translate(-50%,-50%)}@media (max-width: 340px){.simple-notification-wrapper{width:auto;left:20px;right:20px}}
`],encapsulation:2,changeDetection:0})}return t})(),Un={position:["bottom","right"],timeOut:0,showProgressBar:!0,pauseOnHover:!0,lastOnBottom:!0,clickToClose:!0,clickIconToClose:!1,maxLength:0,maxStack:8,preventDuplicates:!1,preventLastDuplicates:!1,theClass:"",rtl:!1,animate:Bt.FromRight,icons:Me},Le=new mt("options");function Ln(t){return St(St({},Un),t)}var Be=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[j,{provide:Le,useValue:n},{provide:"options",useFactory:Ln,deps:[Le]}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Tt({type:t});static \u0275inj=pt({imports:[ge]})}return t})();var kt=class t{constructor(e){this.notificationsService=e}showNotificationError(e,n){this.notificationsService.error('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(ot(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important;font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationWarn(e,n){this.notificationsService.warn('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(ot(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important; font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationSuccess(e,n){this.notificationsService.success('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(ot(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationAlert(e,n){this.notificationsService.alert('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(ot(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}static \u0275fac=function(n){return new(n||t)(gt(j))};static \u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"})};var Fe=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Tt({type:t});static \u0275inj=pt({providers:[j,kt],imports:[Be.forRoot()]})};var He="auth",rt=class{constructor(e){return e}},Ft=class{constructor(){return xe(He)}};var Ht=new mt("angularfire2.auth-instances");function Di(t,e){let n=Ee(He,t,e);return n&&new rt(n)}function Mi(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new rt(i)}}var Bi={provide:Ft,deps:[[new _t,Ht]]},Fi={provide:rt,useFactory:Di,deps:[[new _t,Ht],Pe]};function hr(t,...e){return st("angularfire",Ie.full,"auth"),ie([Fi,Bi,{provide:Ht,useFactory:Mi(t),multi:!0,deps:[vt,re,Ae,Ne,[new _t,Oe],...e]}])}var dr=Se(Mt,!0);var Ke="firebasestorage.googleapis.com",Ye="storageBucket",Hi=2*60*1e3,Wi=10*60*1e3,$i=1e3;var f=class t extends ye{constructor(e,n,i=0){super(Wt(e),`Firebase Storage: ${n} (${Wt(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},d=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(d||{});function Wt(t){return"storage/"+t}function Zt(){let t="An unknown error occurred, please check the error payload for server response.";return new f(d.UNKNOWN,t)}function zi(t){return new f(d.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function qi(t){return new f(d.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ji(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new f(d.UNAUTHENTICATED,t)}function Vi(){return new f(d.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gi(t){return new f(d.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ze(){return new f(d.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Je(){return new f(d.CANCELED,"User canceled the upload/download.")}function Xi(t){return new f(d.INVALID_URL,"Invalid URL '"+t+"'.")}function Ki(t){return new f(d.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yi(){return new f(d.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ye+"' property when initializing the app?")}function Qe(){return new f(d.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zi(){return new f(d.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ji(){return new f(d.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Qi(t){return new f(d.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zt(t){return new f(d.INVALID_ARGUMENT,t)}function tn(){return new f(d.APP_DELETED,"The Firebase app was deleted.")}function ts(t){return new f(d.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ct(t,e){return new f(d.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function at(t){throw new f(d.INTERNAL_ERROR,"Internal error: "+t)}var O=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw Ki(e)}static makeFromUrl(e,n){let i=null,s="([A-Za-z0-9.\\-_]+)";function o(y){y.path.charAt(y.path.length-1)==="/"&&(y.path_=y.path_.slice(0,-1))}let r="(/(.*))?$",c=new RegExp("^gs://"+s+r,"i"),a={bucket:1,path:3};function l(y){y.path_=decodeURIComponent(y.path)}let u="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${m}/${u}/b/${s}/o${_}`,"i"),v={bucket:1,path:3},A=n===Ke?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",B=new RegExp(`^https?://${A}/${s}/${g}`,"i"),b=[{regex:c,indices:a,postModify:o},{regex:T,indices:v,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let y=0;y<b.length;y++){let V=b[y],G=V.regex.exec(e);if(G){let Ot=G[V.indices.bucket],nt=G[V.indices.path];nt||(nt=""),i=new t(Ot,nt),V.postModify(i);break}}if(i==null)throw Xi(e);return i}},qt=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function es(t,e,n){let i=1,s=null,o=null,r=!1,c=0;function a(){return c===2}let l=!1;function u(...g){l||(l=!0,e.apply(null,g))}function m(g){s=setTimeout(()=>{s=null,t(T,a())},g)}function _(){o&&clearTimeout(o)}function T(g,...B){if(l){_();return}if(g){_(),u.call(null,g,...B);return}if(a()||r){_(),u.call(null,g,...B);return}i<64&&(i*=2);let b;c===1?(c=2,b=0):b=(i+Math.random())*1e3,m(b)}let v=!1;function A(g){v||(v=!0,_(),!l&&(s!==null?(g||(c=2),clearTimeout(s),m(0)):g||(c=1)))}return m(0),o=setTimeout(()=>{r=!0,A(!0)},n),A}function ns(t){t(!1)}function is(t){return t!==void 0}function ss(t){return typeof t=="function"}function os(t){return typeof t=="object"&&!Array.isArray(t)}function It(t){return typeof t=="string"||t instanceof String}function We(t){return Jt()&&t instanceof Blob}function Jt(){return typeof Blob<"u"}function jt(t,e,n,i){if(i<e)throw zt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw zt(`Invalid value for '${t}'. Expected ${n} or less.`)}function $(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function en(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var J=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(J||{});function nn(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}var Vt=class{constructor(e,n,i,s,o,r,c,a,l,u,m,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=r,this.callback_=c,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,v)=>{this.resolve_=T,this.reject_=v,this.start_()})}start_(){let e=(i,s)=>{if(s){i(!1,new Z(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let r=c=>{let a=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&o.addUploadProgressListener(r),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(r),this.pendingConnection_=null;let c=o.getErrorCode()===J.NO_ERROR,a=o.getStatus();if(!c||nn(a,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===J.ABORT;i(!1,new Z(!1,null,u));return}let l=this.successCodes_.indexOf(a)!==-1;i(!0,new Z(l,o))})},n=(i,s)=>{let o=this.resolve_,r=this.reject_,c=s.connection;if(s.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());is(a)?o(a):o()}catch(a){r(a)}else if(c!==null){let a=Zt();a.serverResponse=c.getErrorText(),this.errorCallback_?r(this.errorCallback_(c,a)):r(a)}else if(s.canceled){let a=this.appDelete_?tn():Je();r(a)}else{let a=Ze();r(a)}};this.canceled_?n(!1,new Z(!1,null,!0)):this.backoffId_=es(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ns(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Z=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function rs(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function as(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cs(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ls(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function us(t,e,n,i,s,o,r=!0){let c=en(t.urlParams),a=t.url+c,l=Object.assign({},t.headers);return cs(l,e),rs(l,n),as(l,o),ls(l,i),new Vt(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,r)}function hs(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ds(...t){let e=hs();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Jt())return new Blob(t);throw new f(d.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fs(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function ps(t){if(typeof atob>"u")throw Qi("base-64");return atob(t)}var D={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lt=class{constructor(e,n){this.data=e,this.contentType=n||null}};function ms(t,e){switch(t){case D.RAW:return new lt(sn(e));case D.BASE64:case D.BASE64URL:return new lt(on(t,e));case D.DATA_URL:return new lt(_s(e),Ts(e))}throw Zt()}function sn(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=i,r=t.charCodeAt(++n);i=65536|(o&1023)<<10|r&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function gs(t){let e;try{e=decodeURIComponent(t)}catch{throw ct(D.DATA_URL,"Malformed data URL.")}return sn(e)}function on(t,e){switch(t){case D.BASE64:{let s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw ct(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case D.BASE64URL:{let s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw ct(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ps(e)}catch(s){throw s.message.includes("polyfill")?s:ct(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}var Ct=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ct(D.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=vs(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function _s(t){let e=new Ct(t);return e.base64?on(D.BASE64,e.rest):gs(e.rest)}function Ts(t){return new Ct(t).contentType}function vs(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var ut=class t{constructor(e,n){let i=0,s="";We(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(We(this.data_)){let i=this.data_,s=fs(i,e,n);return s===null?null:new t(s)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(Jt()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(ds.apply(null,n))}else{let n=e.map(r=>It(r)?ms(D.RAW,r).data:r.data_),i=0;n.forEach(r=>{i+=r.byteLength});let s=new Uint8Array(i),o=0;return n.forEach(r=>{for(let c=0;c<r.length;c++)s[o++]=r[c]}),new t(s,!0)}}uploadData(){return this.data_}};function Qt(t){let e;try{e=JSON.parse(t)}catch{return null}return os(e)?e:null}function ys(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ws(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function rn(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function bs(t,e){return e}var w=class{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||bs}},Rt=null;function ks(t){return!It(t)||t.length<2?t:rn(t)}function dt(){if(Rt)return Rt;let t=[];t.push(new w("bucket")),t.push(new w("generation")),t.push(new w("metageneration")),t.push(new w("name","fullPath",!0));function e(o,r){return ks(r)}let n=new w("name");n.xform=e,t.push(n);function i(o,r){return r!==void 0?Number(r):r}let s=new w("size");return s.xform=i,t.push(s),t.push(new w("timeCreated")),t.push(new w("updated")),t.push(new w("md5Hash",null,!0)),t.push(new w("cacheControl",null,!0)),t.push(new w("contentDisposition",null,!0)),t.push(new w("contentEncoding",null,!0)),t.push(new w("contentLanguage",null,!0)),t.push(new w("contentType",null,!0)),t.push(new w("metadata","customMetadata",!0)),Rt=t,Rt}function Rs(t,e){function n(){let i=t.bucket,s=t.fullPath,o=new O(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Cs(t,e,n){let i={};i.type="file";let s=n.length;for(let o=0;o<s;o++){let r=n[o];i[r.local]=r.xform(i,e[r.server])}return Rs(i,t),i}function an(t,e,n){let i=Qt(e);return i===null?null:Cs(t,i,n)}function Is(t,e,n,i){let s=Qt(e);if(s===null||!It(s.downloadTokens))return null;let o=s.downloadTokens;if(o.length===0)return null;let r=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,m=t.fullPath,_="/b/"+r(u)+"/o/"+r(m),T=$(_,n,i),v=en({alt:"media",token:l});return T+v})[0]}function te(t,e){let n={},i=e.length;for(let s=0;s<i;s++){let o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var $e="prefixes",ze="items";function Es(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$e])for(let s of n[$e]){let o=s.replace(/\/$/,""),r=t._makeStorageReference(new O(e,o));i.prefixes.push(r)}if(n[ze])for(let s of n[ze]){let o=t._makeStorageReference(new O(e,s.name));i.items.push(o)}return i}function xs(t,e,n){let i=Qt(n);return i===null?null:Es(t,e,i)}var N=class{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function M(t){if(!t)throw Zt()}function Et(t,e){function n(i,s){let o=an(t,s,e);return M(o!==null),o}return n}function Os(t,e){function n(i,s){let o=xs(t,e,s);return M(o!==null),o}return n}function As(t,e){function n(i,s){let o=an(t,s,e);return M(o!==null),Is(o,s,t.host,t._protocol)}return n}function et(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Vi():s=ji():n.getStatus()===402?s=qi(t.bucket):n.getStatus()===403?s=Gi(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function xt(t){let e=et(t);function n(i,s){let o=e(i,s);return i.getStatus()===404&&(o=zi(t.path)),o.serverResponse=s.serverResponse,o}return n}function cn(t,e,n){let i=e.fullServerUrl(),s=$(i,t.host,t._protocol),o="GET",r=t.maxOperationRetryTime,c=new N(s,o,Et(t,n),r);return c.errorHandler=xt(e),c}function Ss(t,e,n,i,s){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),s&&(o.maxResults=s);let r=e.bucketOnlyServerUrl(),c=$(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new N(c,a,Os(t,e.bucket),l);return u.urlParams=o,u.errorHandler=et(e),u}function Ps(t,e,n){let i=e.fullServerUrl(),s=$(i,t.host,t._protocol),o="GET",r=t.maxOperationRetryTime,c=new N(s,o,As(t,n),r);return c.errorHandler=xt(e),c}function Ns(t,e,n,i){let s=e.fullServerUrl(),o=$(s,t.host,t._protocol),r="PATCH",c=te(n,i),a={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new N(o,r,Et(t,i),l);return u.headers=a,u.body=c,u.errorHandler=xt(e),u}function Us(t,e){let n=e.fullServerUrl(),i=$(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function r(a,l){}let c=new N(i,s,r,o);return c.successCodes=[200,204],c.errorHandler=xt(e),c}function Ls(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ln(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Ls(null,e)),i}function un(t,e,n,i,s){let o=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function c(){let b="";for(let y=0;y<2;y++)b=b+Math.random().toString().slice(2);return b}let a=c();r["Content-Type"]="multipart/related; boundary="+a;let l=ln(e,i,s),u=te(l,n),m="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,_=`\r
--`+a+"--",T=ut.getBlob(m,i,_);if(T===null)throw Qe();let v={name:l.fullPath},A=$(o,t.host,t._protocol),g="POST",B=t.maxUploadRetryTime,F=new N(A,g,Et(t,n),B);return F.urlParams=v,F.headers=r,F.body=T.uploadData(),F.errorHandler=et(e),F}var Q=class{constructor(e,n,i,s){this.current=e,this.total=n,this.finalized=!!i,this.metadata=s||null}};function ee(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{M(!1)}return M(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Ds(t,e,n,i,s){let o=e.bucketOnlyServerUrl(),r=ln(e,i,s),c={name:r.fullPath},a=$(o,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":r.contentType,"Content-Type":"application/json; charset=utf-8"},m=te(r,n),_=t.maxUploadRetryTime;function T(A){ee(A);let g;try{g=A.getResponseHeader("X-Goog-Upload-URL")}catch{M(!1)}return M(It(g)),g}let v=new N(a,l,T,_);return v.urlParams=c,v.headers=u,v.body=m,v.errorHandler=et(e),v}function Ms(t,e,n,i){let s={"X-Goog-Upload-Command":"query"};function o(l){let u=ee(l,["active","final"]),m=null;try{m=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{M(!1)}m||M(!1);let _=Number(m);return M(!isNaN(_)),new Q(_,i.size(),u==="final")}let r="POST",c=t.maxUploadRetryTime,a=new N(n,r,o,c);return a.headers=s,a.errorHandler=et(e),a}var qe=256*1024;function Bs(t,e,n,i,s,o,r,c){let a=new Q(0,0);if(r?(a.current=r.current,a.total=r.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw Zi();let l=a.total-a.current,u=l;s>0&&(u=Math.min(u,s));let m=a.current,_=m+u,T="";u===0?T="finalize":l===u?T="upload, finalize":T="upload";let v={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${a.current}`},A=i.slice(m,_);if(A===null)throw Qe();function g(y,V){let G=ee(y,["active","final"]),Ot=a.current+u,nt=i.size(),At;return G==="final"?At=Et(e,o)(y,V):At=null,new Q(Ot,nt,G==="final",At)}let B="POST",F=e.maxUploadRetryTime,b=new N(n,B,g,F);return b.headers=v,b.body=A.uploadData(),b.progressCallback=c||null,b.errorHandler=et(t),b}var Tr={STATE_CHANGED:"state_changed"},x={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $t(t){switch(t){case"running":case"pausing":case"canceling":return x.RUNNING;case"paused":return x.PAUSED;case"success":return x.SUCCESS;case"canceled":return x.CANCELED;case"error":return x.ERROR;default:return x.ERROR}}var Gt=class{constructor(e,n,i){if(ss(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Y(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var je=null,Xt=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=J.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=J.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=J.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw at("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(let o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw at("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw at("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw at("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw at("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Kt=class extends Xt{initXhr(){this.xhr_.responseType="text"}};function P(){return je?je():new Kt}var Yt=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=dt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(d.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(nn(s.status,[]))if(o)s=Ze();else{this.sleepTime=Math.max(this.sleepTime*2,$i),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(d.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=Ds(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,P,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let s=Ms(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,P,n,i);this._request=o,o.getPromise().then(r=>{r=r,this._request=void 0,this._updateProgress(r.current),this._needToFetchStatus=!1,r.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=qe*this._chunkMultiplier,n=new Q(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let r;try{r=Bs(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let c=this._ref.storage._makeRequest(r,P,s,o,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qe*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=cn(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,P,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=un(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,P,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Je(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=$t(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,s){let o=new Gt(n||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch($t(this._state)){case x.SUCCESS:Y(this._resolve.bind(null,this.snapshot))();break;case x.CANCELED:case x.ERROR:let n=this._reject;Y(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($t(this._state)){case x.RUNNING:case x.PAUSED:e.next&&Y(e.next.bind(e,this.snapshot))();break;case x.SUCCESS:e.complete&&Y(e.complete.bind(e))();break;case x.CANCELED:case x.ERROR:e.error&&Y(e.error.bind(e,this._error))();break;default:e.error&&Y(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var tt=class t{constructor(e,n){this._service=e,n instanceof O?this._location=n:this._location=O.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new O(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rn(this._location.path)}get storage(){return this._service}get parent(){let e=ys(this._location.path);if(e===null)return null;let n=new O(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ts(e)}};function Fs(t,e,n){t._throwIfRoot("uploadBytes");let i=un(t.storage,t._location,dt(),new ut(e,!0),n);return t.storage.makeRequestWithTokens(i,P).then(s=>({metadata:s,ref:t}))}function Hs(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Yt(t,new ut(e),n)}function Ws(t){let e={prefixes:[],items:[]};return hn(t,e).then(()=>e)}function hn(t,e,n){return it(this,null,function*(){let s=yield dn(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&(yield hn(t,e,s.nextPageToken))})}function dn(t,e){e!=null&&typeof e.maxResults=="number"&&jt("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=Ss(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,P)}function $s(t){t._throwIfRoot("getMetadata");let e=cn(t.storage,t._location,dt());return t.storage.makeRequestWithTokens(e,P)}function zs(t,e){t._throwIfRoot("updateMetadata");let n=Ns(t.storage,t._location,e,dt());return t.storage.makeRequestWithTokens(n,P)}function qs(t){t._throwIfRoot("getDownloadURL");let e=Ps(t.storage,t._location,dt());return t.storage.makeRequestWithTokens(e,P).then(n=>{if(n===null)throw Ji();return n})}function js(t){t._throwIfRoot("deleteObject");let e=Us(t.storage,t._location);return t.storage.makeRequestWithTokens(e,P)}function fn(t,e){let n=ws(t._location.path,e),i=new O(t._location.bucket,n);return new tt(t.storage,i)}function Vs(t){return/^[A-Za-z]+:\/\//.test(t)}function Gs(t,e){return new tt(t,e)}function pn(t,e){if(t instanceof ht){let n=t;if(n._bucket==null)throw Yi();let i=new tt(n,n._bucket);return e!=null?pn(i,e):i}else return e!==void 0?fn(t,e):t}function Xs(t,e){if(e&&Vs(e)){if(t instanceof ht)return Gs(t,e);throw zt("To use ref(service, url), the first argument must be a Storage instance.")}else return pn(t,e)}function Ve(t,e){let n=e?.[Ye];return n==null?null:O.makeFromBucketSpec(n,t)}function Ks(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:ve(s,t.app.options.projectId))}var ht=class{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Ke,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hi,this._maxUploadRetryTime=Wi,this._requests=new Set,s!=null?this._bucket=O.makeFromBucketSpec(s,this._host):this._bucket=Ve(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=O.makeFromBucketSpec(this._url,e):this._bucket=Ve(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return it(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return it(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tt(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new qt(tn());{let r=us(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}makeRequestWithTokens(e,n){return it(this,null,function*(){let[i,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()})}},Ge="@firebase/storage",Xe="0.13.1";var mn="storage";function vr(t,e,n){return t=S(t),Fs(t,e,n)}function yr(t,e,n){return t=S(t),Hs(t,e,n)}function wr(t){return t=S(t),$s(t)}function br(t,e){return t=S(t),zs(t,e)}function kr(t,e){return t=S(t),dn(t,e)}function Rr(t){return t=S(t),Ws(t)}function Cr(t){return t=S(t),qs(t)}function Ir(t){return t=S(t),js(t)}function Er(t,e){return t=S(t),Xs(t,e)}function xr(t,e){return fn(t,e)}function Or(t=Ce(),e){t=S(t);let i=ke(t,mn).getImmediate({identifier:e}),s=Te("storage");return s&&Ys(i,...s),i}function Ys(t,e,n,i={}){Ks(t,e,n,i)}function Zs(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ht(n,i,s,e,Re)}function Js(){be(new we(mn,Zs,"PUBLIC").setMultipleInstances(!0)),st(Ge,Xe,""),st(Ge,Xe,"esm2017")}Js();export{Ft as a,hr as b,dr as c,zt as d,ts as e,O as f,D as g,ms as h,ut as i,Tr as j,x as k,Yt as l,vr as m,yr as n,wr as o,br as p,kr as q,Rr as r,Cr as s,Ir as t,Er as u,xr as v,Or as w,Ys as x,po as y,kt as z,Fe as A};
