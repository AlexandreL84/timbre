import{a as Ne,b as Le,c as Ue,d as De,e as Me,h as Be,i as Fe,j as He}from"./chunk-WOTJWQDQ.js";import{b as Re,d as Ie,h as xe,k as U,l as Ee,o as Oe,p as Ae,q as Se,r as Pe,t as ht,u as jt}from"./chunk-Z2WRGFA4.js";import{$ as q,$a as Pt,$b as We,Aa as Et,Ca as Ot,H as bt,I as vt,J as yt,K as wt,L as kt,La as Te,M as at,Ma as be,N as Ct,Pa as At,Q as pe,S as ct,T as lt,V as fe,Va as zt,W as Y,X as Rt,Xa as qt,Ya as ve,Za as St,_a as ye,ac as x,b as de,ba as p,bb as we,ca as L,cc as d,da as $t,dc as E,ec as O,ha as S,ia as h,ib as ke,ja as me,jc as $e,ka as It,kb as Ce,ma as k,mc as ze,na as I,nc as qe,oa as $,ob as V,pa as ge,pb as Vt,qa as _e,qc as je,ra as Z,rc as Ve,sa as ut,sc as Ge,ta as J,ua as g,za as xt}from"./chunk-XHCW746T.js";import{a as Wt,i as rt}from"./chunk-GOLCFQAC.js";var An=(t,e,n,i,s,o,r,c)=>({alert:t,error:e,warn:n,success:i,info:s,bare:o,"rtl-mode":r,"has-icon":c}),Sn=t=>({width:t});function Pn(t,e){t&1&&Z(0)}function Nn(t,e){if(t&1&&(k(0,"div",9),S(1,Pn,1,0,"ng-container",10),I()),t&2){let n=g(2);p(),h("ngTemplateOutlet",n.title)("ngTemplateOutletContext",n.item.context)}}function Ln(t,e){if(t&1&&$(0,"div",11),t&2){let n=g(2);h("innerHTML",n.title,q)}}function Un(t,e){t&1&&Z(0)}function Dn(t,e){if(t&1&&(k(0,"div",12),S(1,Un,1,0,"ng-container",10),I()),t&2){let n=g(2);p(),h("ngTemplateOutlet",n.content)("ngTemplateOutletContext",n.item.context)}}function Mn(t,e){if(t&1&&$(0,"div",13),t&2){let n=g(2);h("innerHTML",n.content,q)}}function Bn(t,e){if(t&1&&$(0,"div",14),t&2){let n=g(2);h("innerHTML",n.safeSvg,q)}}function Fn(t,e){if(t&1&&(k(0,"div"),S(1,Nn,2,2,"div",6)(2,Ln,1,1,"ng-template",null,0,At)(4,Dn,2,2,"div",7)(5,Mn,1,1,"ng-template",null,1,At)(7,Bn,1,1,"div",8),I()),t&2){let n=xt(3),i=xt(6),s=g();p(),h("ngIf",s.titleIsTemplate)("ngIfElse",n),p(3),h("ngIf",s.contentIsTemplate)("ngIfElse",i),p(3),h("ngIf",s.item.icon!=="bare")}}function Hn(t,e){t&1&&Z(0)}function Wn(t,e){if(t&1&&(k(0,"div",17),S(1,Hn,1,0,"ng-container",10),I()),t&2){let n=g(2);p(),h("ngTemplateOutlet",n.item.html)("ngTemplateOutletContext",n.item.context)}}function $n(t,e){if(t&1&&$(0,"div",13),t&2){let n=g(2);h("innerHTML",n.safeInputHtml,q)}}function zn(t,e){if(t&1){let n=ut();k(0,"div",18),J("click",function(s){ct(n);let o=g(2);return lt(o.onClickIcon(s))}),I()}if(t&2){let n=g(2);me("icon-hover",n.clickIconToClose),h("innerHTML",n.safeSvg,q)}}function qn(t,e){if(t&1&&(k(0,"div"),S(1,Wn,2,2,"div",15)(2,$n,1,1,"ng-template",null,2,At)(4,zn,1,3,"div",16),I()),t&2){let n=xt(3),i=g();p(),h("ngIf",i.htmlIsTemplate)("ngIfElse",n),p(3),h("ngIf",i.item.icon)}}function jn(t,e){if(t&1&&(k(0,"div",19),$(1,"span",20),I()),t&2){let n=g();p(),h("ngStyle",Te(1,Sn,n.progressWidth+"%"))}}function Vn(t,e){if(t&1&&$(0,"simple-notification",2),t&2){let n=e.$implicit,i=e.index,s=g();h("item",n)("timeOut",s.timeOut)("clickToClose",s.clickToClose)("clickIconToClose",s.clickIconToClose)("maxLength",s.maxLength)("showProgressBar",s.showProgressBar)("pauseOnHover",s.pauseOnHover)("theClass",s.theClass)("rtl",s.rtl)("animate",s.animate)("position",i)}}var Ke={alert:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"/>
        </svg>
    `,error:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
        </svg>
    `,info:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
        </svg>
    `,success:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" height="24" viewBox="0 0 24 24" width="24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
        </svg>
    `,warn:`
        <svg class="simple-notification-svg" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="64" viewBox="0 0 64 64" height="64">
          <circle cx="32.086" cy="50.142" r="2.256"/>
          <path d="M30.08 25.012V42.32c0 1.107.897 2.005 2.006 2.005s2.006-.897 2.006-2.005V25.012c0-1.107-.897-2.006-2.006-2.006s-2.006.898-2.006 2.006z"/>
          <path d="M63.766 59.234L33.856 3.082c-.697-1.308-2.844-1.308-3.54 0L.407 59.234c-.331.622-.312 1.372.051 1.975.362.605 1.015.975 1.72.975h59.816c.705 0 1.357-.369 1.721-.975.361-.603.381-1.353.051-1.975zM5.519 58.172L32.086 8.291l26.568 49.881H5.519z"/>
        </svg>
    `},z=function(t){return t.Success="success",t.Error="error",t.Alert="alert",t.Info="info",t.Warn="warn",t.Bare="bare",t}(z||{}),G=(()=>{class t{globalOptions;constructor(n){this.globalOptions=n}emitter=new de;icons=Ke;set(n,i){return n.id=n.override&&n.override.id?n.override.id:Math.random().toString(36).substring(3),n.click=new Y,n.clickIcon=new Y,n.timeoutEnd=new Y,this.emitter.next({command:"set",notification:n,add:i}),n}success(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Success,icon:this.icons.success,override:s,context:o},!0)}error(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Error,icon:this.icons.error,override:s,context:o},!0)}alert(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Alert,icon:this.icons.alert,override:s,context:o},!0)}info(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Info,icon:this.icons.info,override:s,context:o},!0)}warn(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Warn,icon:this.icons.warn,override:s,context:o},!0)}bare(n="",i="",s,o){return this.set({title:n,content:i||"",type:z.Bare,icon:"bare",override:s,context:o},!0)}create(n="",i="",s=z.Success,o,r){return this.set({title:n,content:i,type:s,icon:this.icons[s],override:o,context:r},!0)}html(n,i=z.Success,s,o="bare",r){return this.set({html:n,type:i,icon:this.icons[o],override:s,context:r},!0)}remove(n){n?this.emitter.next({command:"clean",id:n}):this.emitter.next({command:"cleanAll"})}static \u0275fac=function(i){return new(i||t)(wt("options"))};static \u0275prov=bt({token:t,factory:t.\u0275fac})}return t})(),Gn=(()=>{class t{notificationService;domSanitizer;cd;zone;timeOut;showProgressBar;pauseOnHover;clickToClose;clickIconToClose;maxLength;theClass;rtl;animate;position;item;title;content;titleIsTemplate=!1;contentIsTemplate=!1;htmlIsTemplate=!1;progressWidth=0;safeSvg;safeInputHtml;stopTime=!1;timer;framesPerSecond=40;sleepTime;startTime;endTime;pauseStart;icon;constructor(n,i,s,o){this.notificationService=n,this.domSanitizer=i,this.cd=s,this.zone=o}ngOnInit(){this.item.override&&this.attachOverrides(),this.animate&&(this.item.state=this.animate),this.timeOut!==0&&this.startTimeOut(),this.contentType(this.item.title,"title"),this.contentType(this.item.content,"content"),this.contentType(this.item.html,"html"),this.safeSvg=this.domSanitizer.bypassSecurityTrustHtml(this.icon||this.item.icon),this.safeInputHtml=this.domSanitizer.bypassSecurityTrustHtml(this.item.html)}ngOnDestroy(){clearTimeout(this.timer),this.cd.detach()}startTimeOut(){this.sleepTime=1e3/this.framesPerSecond,this.startTime=new Date().getTime(),this.endTime=this.startTime+this.timeOut,this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.sleepTime))}onEnter(){this.pauseOnHover&&(this.stopTime=!0,this.pauseStart=new Date().getTime())}onLeave(){this.pauseOnHover&&(this.stopTime=!1,this.startTime+=new Date().getTime()-this.pauseStart,this.endTime+=new Date().getTime()-this.pauseStart,this.zone.runOutsideAngular(()=>setTimeout(this.instance,this.sleepTime)))}onClick(n){this.item.click.emit(n),this.clickToClose&&this.remove()}onClickIcon(n){this.item.clickIcon.emit(n),this.clickIconToClose&&this.remove()}attachOverrides(){Object.keys(this.item.override).forEach(n=>{this.hasOwnProperty(n)&&(this[n]=this.item.override[n])})}instance=()=>{let n=new Date().getTime();this.endTime<n?(this.remove(),this.item.timeoutEnd.emit()):this.stopTime||(this.showProgressBar&&(this.progressWidth=Math.min((n-this.startTime+this.sleepTime)*100/this.timeOut,100)),this.timer=setTimeout(this.instance,this.sleepTime)),this.zone.run(()=>{this.cd.destroyed||this.cd.detectChanges()})};remove(){this.animate?(this.item.state=this.animate+"Out",setTimeout(()=>{this.notificationService.set(this.item,!1)},310)):this.notificationService.set(this.item,!1)}contentType(n,i){n instanceof $t?this[i]=n:this[i]=this.domSanitizer.bypassSecurityTrustHtml(n),this[i+"IsTemplate"]=n instanceof $t}static \u0275fac=function(i){return new(i||t)(L(G),L(ke),L(zt),L(Rt))};static \u0275cmp=at({type:t,selectors:[["simple-notification"]],inputs:{timeOut:"timeOut",showProgressBar:"showProgressBar",pauseOnHover:"pauseOnHover",clickToClose:"clickToClose",clickIconToClose:"clickIconToClose",maxLength:"maxLength",theClass:"theClass",rtl:"rtl",animate:"animate",position:"position",item:"item"},decls:4,vars:16,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],[1,"simple-notification",3,"click","mouseenter","mouseleave","ngClass"],[4,"ngIf"],["class","sn-progress-loader",4,"ngIf"],["class","sn-title",4,"ngIf","ngIfElse"],["class","sn-content",4,"ngIf","ngIfElse"],["class","icon",3,"innerHTML",4,"ngIf"],[1,"sn-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sn-title",3,"innerHTML"],[1,"sn-content"],[1,"sn-content",3,"innerHTML"],[1,"icon",3,"innerHTML"],["class","sn-html",4,"ngIf","ngIfElse"],["class","icon",3,"icon-hover","innerHTML","click",4,"ngIf"],[1,"sn-html"],[1,"icon",3,"click","innerHTML"],[1,"sn-progress-loader"],[3,"ngStyle"]],template:function(i,s){i&1&&(k(0,"div",3),J("click",function(r){return s.onClick(r)})("mouseenter",function(){return s.onEnter()})("mouseleave",function(){return s.onLeave()}),S(1,Fn,8,5,"div",4)(2,qn,5,3,"div",4)(3,jn,2,3,"div",5),I()),i&2&&(It(s.theClass),h("@enterLeave",s.item.state)("ngClass",be(7,An,s.item.type==="alert",s.item.type==="error",s.item.type==="warn",s.item.type==="success",s.item.type==="info",s.item.type==="bare",s.rtl,s.item.icon!=="bare")),p(),h("ngIf",!s.item.html),p(),h("ngIf",s.item.html),p(),h("ngIf",s.showProgressBar))},dependencies:[qt,St,Pt,ye],styles:[`.simple-notification{width:100%;padding:10px 20px;box-sizing:border-box;position:relative;float:left;margin-bottom:10px;color:#fff;cursor:pointer;transition:all .5s;min-height:70px}.simple-notification .sn-title,.simple-notification .sn-content,.simple-notification .sn-html{margin:0}.simple-notification .sn-title{line-height:30px;font-size:20px}.simple-notification .sn-content{font-size:16px;line-height:20px}.simple-notification.has-icon .sn-title,.simple-notification.has-icon .sn-content,.simple-notification.has-icon .sn-html{padding:0 50px 0 0}.simple-notification .icon{position:absolute;box-sizing:border-box;top:0;right:0;width:70px;height:70px;padding:10px}.simple-notification .icon.icon-hover:hover{opacity:.5}.simple-notification .icon svg{fill:#fff;width:100%;height:100%}.simple-notification .icon svg g{fill:#fff}.simple-notification.rtl-mode.has-icon .sn-title,.simple-notification.rtl-mode.has-icon .sn-content,.simple-notification.rtl-mode.has-icon .sn-html{padding:0 0 0 50px}.simple-notification.rtl-mode{direction:rtl}.simple-notification.rtl-mode .sn-content{padding:0 0 0 50px}.simple-notification.rtl-mode svg{left:0;right:auto}.simple-notification.error{background:#F44336}.simple-notification.success{background:#8BC34A}.simple-notification.alert{background:#ffdb5b}.simple-notification.info{background:#03A9F4}.simple-notification.warn{background:#ffdb5b}.simple-notification .sn-progress-loader{position:absolute;top:0;left:0;width:100%;height:5px}.simple-notification .sn-progress-loader span{float:left;height:100%}.simple-notification.success .sn-progress-loader span{background:#689F38}.simple-notification.error .sn-progress-loader span{background:#D32F2F}.simple-notification.alert .sn-progress-loader span{background:#edc242}.simple-notification.info .sn-progress-loader span{background:#0288D1}.simple-notification.warn .sn-progress-loader span{background:#edc242}.simple-notification.bare .sn-progress-loader span{background:#ccc}.simple-notification.warn div .sn-title,.simple-notification.warn div .sn-content,.simple-notification.warn div .sn-html{color:#444}
`],encapsulation:2,data:{animation:[We("enterLeave",[E("fade",d({opacity:1})),O("* => fade",[d({opacity:0}),x("400ms ease-in-out")]),E("fadeOut",d({opacity:0})),O("fade => fadeOut",[d({opacity:1}),x("300ms ease-in-out")]),E("fromTop",d({opacity:1,transform:"translateY(0)"})),O("* => fromTop",[d({opacity:0,transform:"translateY(-5%)"}),x("400ms ease-in-out")]),E("fromTopOut",d({opacity:0,transform:"translateY(5%)"})),O("fromTop => fromTopOut",[d({opacity:1,transform:"translateY(0)"}),x("300ms ease-in-out")]),E("fromRight",d({opacity:1,transform:"translateX(0)"})),O("* => fromRight",[d({opacity:0,transform:"translateX(5%)"}),x("400ms ease-in-out")]),E("fromRightOut",d({opacity:0,transform:"translateX(-5%)"})),O("fromRight => fromRightOut",[d({opacity:1,transform:"translateX(0)"}),x("300ms ease-in-out")]),E("fromBottom",d({opacity:1,transform:"translateY(0)"})),O("* => fromBottom",[d({opacity:0,transform:"translateY(5%)"}),x("400ms ease-in-out")]),E("fromBottomOut",d({opacity:0,transform:"translateY(-5%)"})),O("fromBottom => fromBottomOut",[d({opacity:1,transform:"translateY(0)"}),x("300ms ease-in-out")]),E("fromLeft",d({opacity:1,transform:"translateX(0)"})),O("* => fromLeft",[d({opacity:0,transform:"translateX(-5%)"}),x("400ms ease-in-out")]),E("fromLeftOut",d({opacity:0,transform:"translateX(5%)"})),O("fromLeft => fromLeftOut",[d({opacity:1,transform:"translateX(0)"}),x("300ms ease-in-out")]),E("scale",d({opacity:1,transform:"scale(1)"})),O("* => scale",[d({opacity:0,transform:"scale(0)"}),x("400ms ease-in-out")]),E("scaleOut",d({opacity:0,transform:"scale(0)"})),O("scale => scaleOut",[d({opacity:1,transform:"scale(1)"}),x("400ms ease-in-out")]),E("rotate",d({opacity:1,transform:"rotate(0deg)"})),O("* => rotate",[d({opacity:0,transform:"rotate(5deg)"}),x("400ms ease-in-out")]),E("rotateOut",d({opacity:0,transform:"rotate(-5deg)"})),O("rotate => rotateOut",[d({opacity:1,transform:"rotate(0deg)"}),x("400ms ease-in-out")])])]},changeDetection:0})}return t})(),Xt=function(t){return t.Fade="fade",t.FromTop="fromTop",t.FromRight="fromRight",t.FromBottom="fromBottom",t.FromLeft="fromLeft",t.Scale="scale",t.Rotate="rotate",t}(Xt||{}),No=(()=>{class t{service;cd;constructor(n,i){this.service=n,this.cd=i}set options(n){this.usingComponentOptions=!0,this.attachChanges(n)}create=new Y;destroy=new Y;notifications=[];position=["bottom","right"];lastNotificationCreated;listener;lastOnBottom=!0;maxStack=8;preventLastDuplicates=!1;preventDuplicates=!1;timeOut=0;maxLength=0;clickToClose=!0;clickIconToClose=!1;showProgressBar=!0;pauseOnHover=!0;theClass="";rtl=!1;animate=Xt.FromRight;usingComponentOptions=!1;ngOnInit(){this.usingComponentOptions||this.attachChanges(this.service.globalOptions),this.listener=this.service.emitter.subscribe(n=>{switch(n.command){case"cleanAll":this.notifications=[];break;case"clean":this.cleanSingle(n.id);break;case"set":n.add?this.add(n.notification):this.defaultBehavior(n);break;default:this.defaultBehavior(n);break}this.cd.destroyed||this.cd.detectChanges()})}ngOnDestroy(){this.listener&&this.listener.unsubscribe(),this.cd.detach()}defaultBehavior(n){this.notifications.splice(this.notifications.indexOf(n.notification),1),this.destroy.emit(this.buildEmit(n.notification,!1))}add(n){n.createdOn=new Date;let i=this.preventLastDuplicates||this.preventDuplicates?this.block(n):!1;this.lastNotificationCreated=n,n.override&&n.override.icons&&n.override.icons[n.type]&&(n.icon=n.override.icons[n.type]),i||(this.lastOnBottom?(this.notifications.length>=this.maxStack&&this.notifications.splice(0,1),this.notifications.push(n)):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,n)),this.create.emit(this.buildEmit(n,!0)))}block(n){let i=n.html?this.checkHtml:this.checkStandard;if(this.preventDuplicates&&this.notifications.length>0){for(let s of this.notifications)if(i(s,n))return!0}if(this.preventLastDuplicates){let s;if(this.preventLastDuplicates==="visible"&&this.notifications.length>0)this.lastOnBottom?s=this.notifications[this.notifications.length-1]:s=this.notifications[0];else if(this.preventLastDuplicates==="all"&&this.lastNotificationCreated)s=this.lastNotificationCreated;else return!1;return i(s,n)}return!1}checkStandard(n,i){return n.type===i.type&&n.title===i.title&&n.content===i.content}checkHtml(n,i){return n.html?n.type===i.type&&n.title===i.title&&n.content===i.content&&n.html===i.html:!1}attachChanges(n){for(let i in n)this.hasOwnProperty(i)?this[i]=n[i]:i==="icons"&&(this.service.icons=n[i])}buildEmit(n,i){let s={createdOn:n.createdOn,type:n.type,icon:n.icon,id:n.id};return n.html?s.html=n.html:(s.title=n.title,s.content=n.content),i||(s.destroyedOn=new Date),s}cleanSingle(n){let i=0,s=!1,o;this.notifications.forEach((r,c)=>{r.id===n&&(i=c,o=r,s=!0)}),s&&(this.notifications.splice(i,1),this.destroy.emit(this.buildEmit(o,!1)))}static \u0275fac=function(i){return new(i||t)(L(G),L(zt))};static \u0275cmp=at({type:t,selectors:[["simple-notifications"]],inputs:{options:"options"},outputs:{create:"create",destroy:"destroy"},decls:2,vars:2,consts:[[1,"simple-notification-wrapper",3,"ngClass"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position",4,"ngFor","ngForOf"],[3,"item","timeOut","clickToClose","clickIconToClose","maxLength","showProgressBar","pauseOnHover","theClass","rtl","animate","position"]],template:function(i,s){i&1&&(k(0,"div",0),S(1,Vn,1,11,"simple-notification",1),I()),i&2&&(h("ngClass",s.position),p(),h("ngForOf",s.notifications))},dependencies:[qt,ve,Gn],styles:[`.simple-notification-wrapper{position:fixed;width:300px;z-index:1000}.simple-notification-wrapper.left{left:20px}.simple-notification-wrapper.top{top:20px}.simple-notification-wrapper.right{right:20px}.simple-notification-wrapper.bottom{bottom:20px}.simple-notification-wrapper.center{left:50%;transform:translate(-50%)}.simple-notification-wrapper.middle{top:50%;transform:translateY(-50%)}.simple-notification-wrapper.middle.center{transform:translate(-50%,-50%)}@media (max-width: 340px){.simple-notification-wrapper{width:auto;left:20px;right:20px}}
`],encapsulation:2,changeDetection:0})}return t})(),Xn={position:["bottom","right"],timeOut:0,showProgressBar:!0,pauseOnHover:!0,lastOnBottom:!0,clickToClose:!0,clickIconToClose:!1,maxLength:0,maxStack:8,preventDuplicates:!1,preventLastDuplicates:!1,theClass:"",rtl:!1,animate:Xt.FromRight,icons:Ke},Xe=new yt("options");function Kn(t){return Wt(Wt({},Xn),t)}var Ye=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[G,{provide:Xe,useValue:n},{provide:"options",useFactory:Kn,deps:[Xe]}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ct({type:t});static \u0275inj=vt({imports:[we]})}return t})();var Nt=class t{constructor(e){this.notificationsService=e}showNotificationError(e,n){this.notificationsService.error('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(V(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important;font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationWarn(e,n){this.notificationsService.warn('<div fxLayout="column" style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(V(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="color: white !important; font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationSuccess(e,n){this.notificationsService.success('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(V(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}showNotificationAlert(e,n){this.notificationsService.alert('<div fxLayout="column"  style="width: 500px"><h5 style="color: white !important; font-size: 1em !important">'+(V(e)?e:"")+"</h5>",'<span fxLayout="row" fxLayoutAlign="start center" class="notification" style="font-size: 0.750em !important;">'+n+"</span> </div>")}static \u0275fac=function(n){return new(n||t)(wt(G))};static \u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ze=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ct({type:t});static \u0275inj=vt({providers:[G,Nt],imports:[Ye.forRoot()]})};var Je="auth",dt=class{constructor(e){return e}},Kt=class{constructor(){return Ue(Je)}};var Yt=new yt("angularfire2.auth-instances");function Yi(t,e){let n=Le(Je,t,e);return n&&new dt(n)}function Zi(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new dt(i)}}var Ji={provide:Kt,deps:[[new kt,Yt]]},Qi={provide:dt,useFactory:Yi,deps:[[new kt,Yt],Fe]};function Ar(t,...e){return ht("angularfire",Ne.full,"auth"),pe([Qi,Ji,{provide:Yt,useFactory:Zi(t),multi:!0,deps:[Rt,fe,Me,He,[new kt,De],...e]}])}var Sr=Be(jt,!0);function ts(t,e){if(t&1&&(k(0,"h2",8),Et(1),I()),t&2){let n=g();It(n.data==null?null:n.data.classTitre),p(),Ot(" ",n.data==null?null:n.data.titre," ")}}function es(t,e){if(t&1&&$(0,"p",9),t&2){let n=g();h("innerHTML",n.data==null?null:n.data.message,q)}}function ns(t,e){t&1&&Z(0)}function is(t,e){if(t&1&&(ge(0),S(1,ns,1,0,"ng-container",10),_e()),t&2){let n=g();p(),h("ngTemplateOutlet",n.content)}}function ss(t,e){if(t&1){let n=ut();k(0,"button",11),J("click",function(){ct(n);let s=g();return lt(s.annuler())}),Et(1),I()}if(t&2){let n=g();p(),Ot(" ",n.data==null?null:n.data.btnGauche," ")}}function os(t,e){if(t&1){let n=ut();k(0,"button",12),J("click",function(){ct(n);let s=g();return lt(s.valider())}),Et(1),I()}if(t&2){let n=g();p(),Ot(" ",n.data==null?null:n.data.btnDroite," ")}}var Qe=class t{constructor(e,n,i){this.dialogRef=e;this.data=n;this.router=i;Vt(n.btnDroite)&&(n.btnDroite="Valider"),Vt(n.btnGauche)&&(n.btnGauche="Annuler")}content;positionBtn="space-between";annuler(){this.data.resultat="annuler",this.dialogRef.close(!1)}valider(){this.data.resultat="valider",this.dialogRef.close(!0),V(this.data.route)&&this.router.navigate(["/"+this.data.route])}static \u0275fac=function(n){return new(n||t)(L(ze),L(qe),L(Ce))};static \u0275cmp=at({type:t,selectors:[["lib-modal"]],inputs:{content:"content"},decls:8,vars:5,consts:[[1,"dialog"],["mat-dialog-title","",3,"class",4,"ngIf"],["mat-dialog-content",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","",1,"dialogBouton"],["type","button","class","rounded large color-white","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["type","submit","class","rounded large color-white","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-dialog-title",""],[3,"innerHTML"],[4,"ngTemplateOutlet"],["type","button","mat-raised-button","","color","primary",1,"rounded","large","color-white",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"rounded","large","color-white",3,"click"]],template:function(n,i){n&1&&(k(0,"div",0),S(1,ts,2,4,"h2",1),k(2,"div",2),S(3,es,1,1,"p",3)(4,is,2,1,"ng-container",4),I(),k(5,"div",5),S(6,ss,2,1,"button",6)(7,os,2,1,"button",7),I()()),n&2&&(p(),h("ngIf",i.data==null?null:i.data.titre),p(2),h("ngIf",i.data==null?null:i.data.message),p(),h("ngIf",i.content),p(2),h("ngIf",!(i.data!=null&&i.data.desactiveBtnGauche)),p(),h("ngIf",!(i.data!=null&&i.data.desactiveBtnDroite)))},dependencies:[St,Pt,$e,je,Ge,Ve],styles:[".dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:100%;width:100%;gap:1%}.dialog[_ngcontent-%COMP%]   .dialogBouton[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:end;align-items:end;gap:10px}@media screen and (max-width: 800px){.dialog[_ngcontent-%COMP%]   .dialogBouton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}}"]})};var ln="firebasestorage.googleapis.com",un="storageBucket",rs=2*60*1e3,as=10*60*1e3,cs=1e3;var m=class t extends xe{constructor(e,n,i=0){super(Zt(e),`Firebase Storage: ${n} (${Zt(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zt(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},f=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(f||{});function Zt(t){return"storage/"+t}function ae(){let t="An unknown error occurred, please check the error payload for server response.";return new m(f.UNKNOWN,t)}function ls(t){return new m(f.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function us(t){return new m(f.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hs(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new m(f.UNAUTHENTICATED,t)}function ds(){return new m(f.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ps(t){return new m(f.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hn(){return new m(f.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dn(){return new m(f.CANCELED,"User canceled the upload/download.")}function fs(t){return new m(f.INVALID_URL,"Invalid URL '"+t+"'.")}function ms(t){return new m(f.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gs(){return new m(f.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+un+"' property when initializing the app?")}function pn(){return new m(f.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _s(){return new m(f.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Ts(){return new m(f.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bs(t){return new m(f.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qt(t){return new m(f.INVALID_ARGUMENT,t)}function fn(){return new m(f.APP_DELETED,"The Firebase app was deleted.")}function vs(t){return new m(f.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ft(t,e){return new m(f.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pt(t){throw new m(f.INTERNAL_ERROR,"Internal error: "+t)}var P=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw ms(e)}static makeFromUrl(e,n){let i=null,s="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}let r="(/(.*))?$",c=new RegExp("^gs://"+s+r,"i"),a={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}let u="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",v=new RegExp(`^https?://${_}/${u}/b/${s}/o${b}`,"i"),y={bucket:1,path:3},N=n===ln?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",H=new RegExp(`^https?://${N}/${s}/${T}`,"i"),R=[{regex:c,indices:a,postModify:o},{regex:v,indices:y,postModify:l},{regex:H,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<R.length;w++){let X=R[w],K=X.regex.exec(e);if(K){let Ft=K[X.indices.bucket],ot=K[X.indices.path];ot||(ot=""),i=new t(Ft,ot),X.postModify(i);break}}if(i==null)throw fs(e);return i}},te=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function ys(t,e,n){let i=1,s=null,o=null,r=!1,c=0;function a(){return c===2}let l=!1;function u(...T){l||(l=!0,e.apply(null,T))}function _(T){s=setTimeout(()=>{s=null,t(v,a())},T)}function b(){o&&clearTimeout(o)}function v(T,...H){if(l){b();return}if(T){b(),u.call(null,T,...H);return}if(a()||r){b(),u.call(null,T,...H);return}i<64&&(i*=2);let R;c===1?(c=2,R=0):R=(i+Math.random())*1e3,_(R)}let y=!1;function N(T){y||(y=!0,b(),!l&&(s!==null?(T||(c=2),clearTimeout(s),_(0)):T||(c=1)))}return _(0),o=setTimeout(()=>{r=!0,N(!0)},n),N}function ws(t){t(!1)}function ks(t){return t!==void 0}function Cs(t){return typeof t=="function"}function Rs(t){return typeof t=="object"&&!Array.isArray(t)}function Dt(t){return typeof t=="string"||t instanceof String}function tn(t){return ce()&&t instanceof Blob}function ce(){return typeof Blob<"u"}function ee(t,e,n,i){if(i<e)throw Qt(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Qt(`Invalid value for '${t}'. Expected ${n} or less.`)}function j(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function mn(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var et=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(et||{});function gn(t,e){let n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}var ne=class{constructor(e,n,i,s,o,r,c,a,l,u,_,b=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=r,this.callback_=c,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=_,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){let e=(i,s)=>{if(s){i(!1,new tt(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let r=c=>{let a=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,l)};this.progressCallback_!==null&&o.addUploadProgressListener(r),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(r),this.pendingConnection_=null;let c=o.getErrorCode()===et.NO_ERROR,a=o.getStatus();if(!c||gn(a,this.additionalRetryCodes_)&&this.retry){let u=o.getErrorCode()===et.ABORT;i(!1,new tt(!1,null,u));return}let l=this.successCodes_.indexOf(a)!==-1;i(!0,new tt(l,o))})},n=(i,s)=>{let o=this.resolve_,r=this.reject_,c=s.connection;if(s.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());ks(a)?o(a):o()}catch(a){r(a)}else if(c!==null){let a=ae();a.serverResponse=c.getErrorText(),this.errorCallback_?r(this.errorCallback_(c,a)):r(a)}else if(s.canceled){let a=this.appDelete_?fn():dn();r(a)}else{let a=hn();r(a)}};this.canceled_?n(!1,new tt(!1,null,!0)):this.backoffId_=ys(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ws(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},tt=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function Is(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xs(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Es(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Os(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function As(t,e,n,i,s,o,r=!0){let c=mn(t.urlParams),a=t.url+c,l=Object.assign({},t.headers);return Es(l,e),Is(l,n),xs(l,o),Os(l,i),new ne(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,r)}function Ss(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ps(...t){let e=Ss();if(e!==void 0){let n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ce())return new Blob(t);throw new m(f.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ns(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Ls(t){if(typeof atob>"u")throw bs("base-64");return atob(t)}var B={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mt=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Us(t,e){switch(t){case B.RAW:return new mt(_n(e));case B.BASE64:case B.BASE64URL:return new mt(Tn(t,e));case B.DATA_URL:return new mt(Ms(e),Bs(e))}throw ae()}function _n(t){let e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=i,r=t.charCodeAt(++n);i=65536|(o&1023)<<10|r&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Ds(t){let e;try{e=decodeURIComponent(t)}catch{throw ft(B.DATA_URL,"Malformed data URL.")}return _n(e)}function Tn(t,e){switch(t){case B.BASE64:{let s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw ft(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case B.BASE64URL:{let s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw ft(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ls(e)}catch(s){throw s.message.includes("polyfill")?s:ft(t,"Invalid character found")}let i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}var Ut=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw ft(B.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=n[1]||null;i!=null&&(this.base64=Fs(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function Ms(t){let e=new Ut(t);return e.base64?Tn(B.BASE64,e.rest):Ds(e.rest)}function Bs(t){return new Ut(t).contentType}function Fs(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var gt=class t{constructor(e,n){let i=0,s="";tn(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(tn(this.data_)){let i=this.data_,s=Ns(i,e,n);return s===null?null:new t(s)}else{let i=new Uint8Array(this.data_.buffer,e,n-e);return new t(i,!0)}}static getBlob(...e){if(ce()){let n=e.map(i=>i instanceof t?i.data_:i);return new t(Ps.apply(null,n))}else{let n=e.map(r=>Dt(r)?Us(B.RAW,r).data:r.data_),i=0;n.forEach(r=>{i+=r.byteLength});let s=new Uint8Array(i),o=0;return n.forEach(r=>{for(let c=0;c<r.length;c++)s[o++]=r[c]}),new t(s,!0)}}uploadData(){return this.data_}};function le(t){let e;try{e=JSON.parse(t)}catch{return null}return Rs(e)?e:null}function Hs(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ws(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function bn(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function $s(t,e){return e}var C=class{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||$s}},Lt=null;function zs(t){return!Dt(t)||t.length<2?t:bn(t)}function Tt(){if(Lt)return Lt;let t=[];t.push(new C("bucket")),t.push(new C("generation")),t.push(new C("metageneration")),t.push(new C("name","fullPath",!0));function e(o,r){return zs(r)}let n=new C("name");n.xform=e,t.push(n);function i(o,r){return r!==void 0?Number(r):r}let s=new C("size");return s.xform=i,t.push(s),t.push(new C("timeCreated")),t.push(new C("updated")),t.push(new C("md5Hash",null,!0)),t.push(new C("cacheControl",null,!0)),t.push(new C("contentDisposition",null,!0)),t.push(new C("contentEncoding",null,!0)),t.push(new C("contentLanguage",null,!0)),t.push(new C("contentType",null,!0)),t.push(new C("metadata","customMetadata",!0)),Lt=t,Lt}function qs(t,e){function n(){let i=t.bucket,s=t.fullPath,o=new P(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function js(t,e,n){let i={};i.type="file";let s=n.length;for(let o=0;o<s;o++){let r=n[o];i[r.local]=r.xform(i,e[r.server])}return qs(i,t),i}function vn(t,e,n){let i=le(e);return i===null?null:js(t,i,n)}function Vs(t,e,n,i){let s=le(e);if(s===null||!Dt(s.downloadTokens))return null;let o=s.downloadTokens;if(o.length===0)return null;let r=encodeURIComponent;return o.split(",").map(l=>{let u=t.bucket,_=t.fullPath,b="/b/"+r(u)+"/o/"+r(_),v=j(b,n,i),y=mn({alt:"media",token:l});return v+y})[0]}function ue(t,e){let n={},i=e.length;for(let s=0;s<i;s++){let o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var en="prefixes",nn="items";function Gs(t,e,n){let i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[en])for(let s of n[en]){let o=s.replace(/\/$/,""),r=t._makeStorageReference(new P(e,o));i.prefixes.push(r)}if(n[nn])for(let s of n[nn]){let o=t._makeStorageReference(new P(e,s.name));i.items.push(o)}return i}function Xs(t,e,n){let i=le(n);return i===null?null:Gs(t,e,i)}var M=class{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function F(t){if(!t)throw ae()}function Mt(t,e){function n(i,s){let o=vn(t,s,e);return F(o!==null),o}return n}function Ks(t,e){function n(i,s){let o=Xs(t,e,s);return F(o!==null),o}return n}function Ys(t,e){function n(i,s){let o=vn(t,s,e);return F(o!==null),Vs(o,s,t.host,t._protocol)}return n}function st(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ds():s=hs():n.getStatus()===402?s=us(t.bucket):n.getStatus()===403?s=ps(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function Bt(t){let e=st(t);function n(i,s){let o=e(i,s);return i.getStatus()===404&&(o=ls(t.path)),o.serverResponse=s.serverResponse,o}return n}function yn(t,e,n){let i=e.fullServerUrl(),s=j(i,t.host,t._protocol),o="GET",r=t.maxOperationRetryTime,c=new M(s,o,Mt(t,n),r);return c.errorHandler=Bt(e),c}function Zs(t,e,n,i,s){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),s&&(o.maxResults=s);let r=e.bucketOnlyServerUrl(),c=j(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new M(c,a,Ks(t,e.bucket),l);return u.urlParams=o,u.errorHandler=st(e),u}function Js(t,e,n){let i=e.fullServerUrl(),s=j(i,t.host,t._protocol),o="GET",r=t.maxOperationRetryTime,c=new M(s,o,Ys(t,n),r);return c.errorHandler=Bt(e),c}function Qs(t,e,n,i){let s=e.fullServerUrl(),o=j(s,t.host,t._protocol),r="PATCH",c=ue(n,i),a={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new M(o,r,Mt(t,i),l);return u.headers=a,u.body=c,u.errorHandler=Bt(e),u}function to(t,e){let n=e.fullServerUrl(),i=j(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function r(a,l){}let c=new M(i,s,r,o);return c.successCodes=[200,204],c.errorHandler=Bt(e),c}function eo(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wn(t,e,n){let i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=eo(null,e)),i}function kn(t,e,n,i,s){let o=e.bucketOnlyServerUrl(),r={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let w=0;w<2;w++)R=R+Math.random().toString().slice(2);return R}let a=c();r["Content-Type"]="multipart/related; boundary="+a;let l=wn(e,i,s),u=ue(l,n),_="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+a+`\r
Content-Type: `+l.contentType+`\r
\r
`,b=`\r
--`+a+"--",v=gt.getBlob(_,i,b);if(v===null)throw pn();let y={name:l.fullPath},N=j(o,t.host,t._protocol),T="POST",H=t.maxUploadRetryTime,W=new M(N,T,Mt(t,n),H);return W.urlParams=y,W.headers=r,W.body=v.uploadData(),W.errorHandler=st(e),W}var nt=class{constructor(e,n,i,s){this.current=e,this.total=n,this.finalized=!!i,this.metadata=s||null}};function he(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{F(!1)}return F(!!n&&(e||["active"]).indexOf(n)!==-1),n}function no(t,e,n,i,s){let o=e.bucketOnlyServerUrl(),r=wn(e,i,s),c={name:r.fullPath},a=j(o,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":r.contentType,"Content-Type":"application/json; charset=utf-8"},_=ue(r,n),b=t.maxUploadRetryTime;function v(N){he(N);let T;try{T=N.getResponseHeader("X-Goog-Upload-URL")}catch{F(!1)}return F(Dt(T)),T}let y=new M(a,l,v,b);return y.urlParams=c,y.headers=u,y.body=_,y.errorHandler=st(e),y}function io(t,e,n,i){let s={"X-Goog-Upload-Command":"query"};function o(l){let u=he(l,["active","final"]),_=null;try{_=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{F(!1)}_||F(!1);let b=Number(_);return F(!isNaN(b)),new nt(b,i.size(),u==="final")}let r="POST",c=t.maxUploadRetryTime,a=new M(n,r,o,c);return a.headers=s,a.errorHandler=st(e),a}var sn=256*1024;function so(t,e,n,i,s,o,r,c){let a=new nt(0,0);if(r?(a.current=r.current,a.total=r.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw _s();let l=a.total-a.current,u=l;s>0&&(u=Math.min(u,s));let _=a.current,b=_+u,v="";u===0?v="finalize":l===u?v="upload, finalize":v="upload";let y={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${a.current}`},N=i.slice(_,b);if(N===null)throw pn();function T(w,X){let K=he(w,["active","final"]),Ft=a.current+u,ot=i.size(),Ht;return K==="final"?Ht=Mt(e,o)(w,X):Ht=null,new nt(Ft,ot,K==="final",Ht)}let H="POST",W=e.maxUploadRetryTime,R=new M(n,H,T,W);return R.headers=y,R.body=N.uploadData(),R.progressCallback=c||null,R.errorHandler=st(t),R}var jr={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jt(t){switch(t){case"running":case"pausing":case"canceling":return A.RUNNING;case"paused":return A.PAUSED;case"success":return A.SUCCESS;case"canceled":return A.CANCELED;case"error":return A.ERROR;default:return A.ERROR}}var ie=class{constructor(e,n,i){if(Cs(e)||n!=null||i!=null)this.next=e,this.error=n??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Q(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var on=null,se=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=et.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=et.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=et.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(let o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},oe=class extends se{initXhr(){this.xhr_.responseType="text"}};function D(){return on?on():new oe}var re=class{constructor(e,n,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=i,this._mappings=Tt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(f.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(gn(s.status,[]))if(o)s=hn();else{this.sleepTime=Math.max(this.sleepTime*2,cs),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(f.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,i])=>{switch(this._state){case"running":e(n,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let i=no(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,D,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,i)=>{let s=io(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,D,n,i);this._request=o,o.getPromise().then(r=>{r=r,this._request=void 0,this._updateProgress(r.current),this._needToFetchStatus=!1,r.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=sn*this._chunkMultiplier,n=new nt(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,o)=>{let r;try{r=so(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let c=this._ref.storage._makeRequest(r,D,s,o,!1);this._request=c,c.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){sn*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let i=yn(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,D,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let i=kn(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,D,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dn(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Jt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,i,s){let o=new ie(n||void 0,i||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Jt(this._state)){case A.SUCCESS:Q(this._resolve.bind(null,this.snapshot))();break;case A.CANCELED:case A.ERROR:let n=this._reject;Q(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jt(this._state)){case A.RUNNING:case A.PAUSED:e.next&&Q(e.next.bind(e,this.snapshot))();break;case A.SUCCESS:e.complete&&Q(e.complete.bind(e))();break;case A.CANCELED:case A.ERROR:e.error&&Q(e.error.bind(e,this._error))();break;default:e.error&&Q(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var it=class t{constructor(e,n){this._service=e,n instanceof P?this._location=n:this._location=P.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new P(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bn(this._location.path)}get storage(){return this._service}get parent(){let e=Hs(this._location.path);if(e===null)return null;let n=new P(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vs(e)}};function oo(t,e,n){t._throwIfRoot("uploadBytes");let i=kn(t.storage,t._location,Tt(),new gt(e,!0),n);return t.storage.makeRequestWithTokens(i,D).then(s=>({metadata:s,ref:t}))}function ro(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new re(t,new gt(e),n)}function ao(t){let e={prefixes:[],items:[]};return Cn(t,e).then(()=>e)}function Cn(t,e,n){return rt(this,null,function*(){let s=yield Rn(t,{pageToken:n});e.prefixes.push(...s.prefixes),e.items.push(...s.items),s.nextPageToken!=null&&(yield Cn(t,e,s.nextPageToken))})}function Rn(t,e){e!=null&&typeof e.maxResults=="number"&&ee("options.maxResults",1,1e3,e.maxResults);let n=e||{},i=Zs(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,D)}function co(t){t._throwIfRoot("getMetadata");let e=yn(t.storage,t._location,Tt());return t.storage.makeRequestWithTokens(e,D)}function lo(t,e){t._throwIfRoot("updateMetadata");let n=Qs(t.storage,t._location,e,Tt());return t.storage.makeRequestWithTokens(n,D)}function uo(t){t._throwIfRoot("getDownloadURL");let e=Js(t.storage,t._location,Tt());return t.storage.makeRequestWithTokens(e,D).then(n=>{if(n===null)throw Ts();return n})}function ho(t){t._throwIfRoot("deleteObject");let e=to(t.storage,t._location);return t.storage.makeRequestWithTokens(e,D)}function In(t,e){let n=Ws(t._location.path,e),i=new P(t._location.bucket,n);return new it(t.storage,i)}function po(t){return/^[A-Za-z]+:\/\//.test(t)}function fo(t,e){return new it(t,e)}function xn(t,e){if(t instanceof _t){let n=t;if(n._bucket==null)throw gs();let i=new it(n,n._bucket);return e!=null?xn(i,e):i}else return e!==void 0?In(t,e):t}function mo(t,e){if(e&&po(e)){if(t instanceof _t)return fo(t,e);throw Qt("To use ref(service, url), the first argument must be a Storage instance.")}else return xn(t,e)}function rn(t,e){let n=e?.[un];return n==null?null:P.makeFromBucketSpec(n,t)}function go(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Ie(s,t.app.options.projectId))}var _t=class{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=ln,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rs,this._maxUploadRetryTime=as,this._requests=new Set,s!=null?this._bucket=P.makeFromBucketSpec(s,this._host):this._bucket=rn(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=P.makeFromBucketSpec(this._url,e):this._bucket=rn(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ee("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ee("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return rt(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return rt(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new it(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new te(fn());{let r=As(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(r),r.getPromise().then(()=>this._requests.delete(r),()=>this._requests.delete(r)),r}}makeRequestWithTokens(e,n){return rt(this,null,function*(){let[i,s]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()})}},an="@firebase/storage",cn="0.13.2";var En="storage";function Vr(t,e,n){return t=U(t),oo(t,e,n)}function Gr(t,e,n){return t=U(t),ro(t,e,n)}function Xr(t){return t=U(t),co(t)}function Kr(t,e){return t=U(t),lo(t,e)}function Yr(t,e){return t=U(t),Rn(t,e)}function Zr(t){return t=U(t),ao(t)}function Jr(t){return t=U(t),uo(t)}function Qr(t){return t=U(t),ho(t)}function ta(t,e){return t=U(t),mo(t,e)}function ea(t,e){return In(t,e)}function na(t=Pe(),e){t=U(t);let i=Ae(t,En).getImmediate({identifier:e}),s=Re("storage");return s&&_o(i,...s),i}function _o(t,e,n,i={}){go(t,e,n,i)}function To(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _t(n,i,s,e,Se)}function bo(){Oe(new Ee(En,To,"PUBLIC").setMultipleInstances(!0)),ht(an,cn,""),ht(an,cn,"esm2017")}bo();export{Kt as a,Ar as b,Sr as c,No as d,Nt as e,Qe as f,Qt as g,vs as h,P as i,B as j,Us as k,gt as l,jr as m,A as n,re as o,Vr as p,Gr as q,Xr as r,Kr as s,Yr as t,Zr as u,Jr as v,Qr as w,ta as x,ea as y,na as z,_o as A,Ze as B};
